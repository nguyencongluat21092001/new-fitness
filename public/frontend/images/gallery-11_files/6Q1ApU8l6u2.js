if (self.CavalryLogger) { CavalryLogger.start_js(["1hn9EDs"]); }

__d("FBEmojiAliases",[],(function(a,b,c,d,e,f){e.exports={}}),null);
__d("MessengerEmojiConfig",[],(function(a,b,c,d,e,f){e.exports={emoji_colors:[0,127995,127996,127997,127998,127999]}}),null);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){e.exports={boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}}}),null);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};e.exports=a}),null);
__d("MAWCatQuery.facebook.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:"3481424548642414",metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWCatQuery.graphql",["cr:11203"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:11203")}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters.facebook",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"2677749829015459",metadata:{},name:"FBPayHubTransactionDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1932967")}),null);
__d("MarketplaceCometReviewOffersDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4539137609449826",metadata:{},name:"MarketplaceCometReviewOffersDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4252207364789784",metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4048841598565751",metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4395500700511297",metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3372974126058277",metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3780157165378049",metadata:{},name:"CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMWFilePDFDataQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4380270338721742",metadata:{},name:"useMWFilePDFDataQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useArmadilloDogfoodingUpsellNUXQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],b=[{kind:"Variable",name:"nux_id",variableName:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useArmadilloDogfoodingUpsellNUXQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useArmadilloDogfoodingUpsellNUXQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"4308568139195592",metadata:{},name:"useArmadilloDogfoodingUpsellNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],b={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};b=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:b},params:{id:"3597593690259924",metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],b=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:b},params:{id:"3054916864585546",metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormNuxQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:"3270705693021816",metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormScreenQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],b=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:b},params:{id:"3186012261435736",metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormStateQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],b=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:b},params:{id:"3163054493772913",metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:"2353962864732251",metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserBirthdayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2229218363872708",metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:"2533792060016176",metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2480352425341129",metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2260280317411482",metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatReceiptDataQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},b={defaultValue:null,kind:"LocalArgument",name:"receiptID"},c=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:c},params:{id:"3363059540374751",metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("BaseSlider.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","Locale","Pressable.react","react","recoverableViolation","stylex","useCometUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n={rail:{backgroundColor:"pwoa4pd7",borderTopStartRadius:"s8bnoagg",borderTopEndRadius:"bn9qtmzc",borderBottomEndRadius:"hp05c5td",borderBottomStartRadius:"b6jg2yqc",display:"a8c37x1j",height:"mw227v9j",position:"pmk7jnqg",width:"k4urcfbm"},root:{boxSizing:"cjfnh4rs",cursor:"nhd2j8a9",display:"q9uorilb",height:"mw227v9j",paddingBottom:"sj5x9vvc",paddingTop:"cxgpxx05",position:"l9j0dhe7",touchAction:"gokke00a",width:"k4urcfbm"},thumb:{backgroundColor:"q2y6ezfg",borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"frvqaej8",borderEndWidth:"ed0hlay0",borderBottomWidth:"afxsp9o4",borderStartWidth:"jcgfde61",bottom:"i09qtzwb",boxShadow:"ibrqsekg",boxSizing:"rq0escxv",cursor:"nhd2j8a9",height:"jnigpg78",marginStart:"e5bbllhu",outline:"lzcic4wl",position:"pmk7jnqg",top:"kr520xx4",width:"odw8uiq3"},thumbFocusVisible:{borderTopColor:"ng4oes9w",borderEndColor:"epui8hbc",borderBottomColor:"nxp5a7ae",borderStartColor:"og13rbbo",boxShadow:"gxj1dplq"},thumbWrapper:{marginEnd:"o3lre8g0",marginStart:"gu00c43d",marginTop:"sv5sfqaa",position:"l9j0dhe7"},track:{backgroundColor:"is6700om",borderTopStartRadius:"s8bnoagg",borderTopEndRadius:"bn9qtmzc",borderBottomEndRadius:"hp05c5td",borderBottomStartRadius:"b6jg2yqc",display:"a8c37x1j",height:"mw227v9j",position:"pmk7jnqg"}};function o(a,b){a=a.reduce(function(a,c,d){c=Math.abs(b-c);return a==null||c<a.distance||c===a.distance?{distance:c,index:d}:a},null);return(a=a==null?void 0:a.index)!=null?a:0}function p(a,b,c){return(a-b)*100/(c-b)}function q(a,b,c){return Math.min(Math.max(a,b),c)}function r(a){return a.toString()}function s(a,b){return a+b}function t(a){var b=m(a);k(function(){b.current=a});return j(function(a){return b.current(a)},[])}function u(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return d.pageX}return null}function a(a){var b,e=a.ariaLabel,f=a.ariaLabelledBy,g=a.ariaValueText,v=g===void 0?r:g;g=a.disabled;var w=g===void 0?!1:g;g=a.max;var x=g===void 0?100:g;g=a.min;var y=g===void 0?0:g,z=a.onChange,A=a.onChangeSettled;g=a.step;var B=g===void 0?1:g,C=a.values;g=a.xstyleRail;var D=a.xstyleRoot,E=a.xstyleThumb;a=a.xstyleTrack;var F=c("useCometUniqueID")(),G=m(null),H=m(0),I=m(null),J=m(null),K=l(function(){var a=typeof C==="number"?[C]:[].concat(C);a.sort(function(a,b){return a-b});return a},[C]),L=p(K.length>1?K[0]:y,y,x),M=p(K[K.length-1],y,x)-L;L=(b={},b[d("Locale").isRTL()?"right":"left"]=L+"%",b.width=M+"%",b);var N=j(function(){if(H.current!=null&&G.current){var a=G.current.querySelector("#"+s(F,H.current));a!=null&&a.focus()}},[F]),O=j(function(a){var b,e=a.eventX;a=a.isMove;a=a===void 0?!1:a;var f=G.current;if(f==null){c("recoverableViolation")("Slider Ref should have been set","comet_ui");return null}if(w)return null;b=(b=f.ownerDocument.defaultView)!=null?b:window;f=f.getBoundingClientRect();var g=f.left;f=f.width;e=(e-g-b.pageXOffset)/f;d("Locale").isRTL()&&(e=1-e);g=q(Math.round(((x-y)*e+y)/B)*B,y,x);b=a?H.current:o(K,g);f=K;if(K[b]!==g){e=[].concat(K);e[b]=g;e.sort(function(a,b){return a-b});f=e}H.current=f.indexOf(g);return f},[w,x,y,B,K]),P=t(function(a){a=O({eventX:a.pageX,isMove:!0});a!=null&&z&&z(a);N()}),Q=t(function(a){a=O({eventX:a.pageX});a!=null&&A&&A(a);window.removeEventListener("mousemove",P,!0);window.removeEventListener("mouseup",Q,!0)});M=t(function(a){if(w)return;var b=window.navigator.userAgent.indexOf("MSIE")>=0;b||a.preventDefault();b=O({eventX:a.pageX});b!=null&&z&&z(b);N();window.addEventListener("mousemove",P,!0);window.addEventListener("mouseup",Q,!0)});var R=t(function(a){a=u(a,I.current);if(a==null)return;a=O({eventX:a,isMove:!0});a!=null&&z&&z(a);N()}),S=t(function(a){a=u(a,I.current);if(a==null)return;a=O({eventX:a});a!=null&&A&&A(a);window.removeEventListener("touchmove",R,!0);window.removeEventListener("touchend",S,!0)});b=t(function(a){if(w)return;a.preventDefault();var b=a.changedTouches[0];b!=null&&(I.current=b.identifier);b=u(a,I.current);if(b==null)return;a=O({eventX:b});a!=null&&z&&z(a);N();window.addEventListener("touchmove",R,!0);window.addEventListener("touchend",S,!0)});k(function(){if(w)return;return function(){window.removeEventListener("mousemove",P,!0),window.removeEventListener("mouseup",Q,!0),window.removeEventListener("touchmove",R,!0),window.removeEventListener("touchend",S,!0)}},[w,P,Q,S,R,b]);var T=j(function(a){var b=J.current;if(b!=null){a=q(Math.round(a/B)*B,y,x);if(K[b]!==a){var c=[].concat(K);c[b]=a;c.sort(function(a,b){return a-b});z&&z(c);A&&A(c)}}},[x,y,z,A,B,K]),U=(x-y)/10,V=l(function(){return[{command:{key:c("CometKeys").HOME},description:h._("\u0110\u1eb7t gi\u00e1 tr\u1ecb thanh tr\u01b0\u1ee3t \u1edf m\u1ee9c t\u1ed1i thi\u1ec3u."),handler:function(){J.current!=null&&T(y)}},{command:{key:c("CometKeys").END},description:h._("\u0110\u1eb7t gi\u00e1 tr\u1ecb thanh tr\u01b0\u1ee3t \u1edf m\u1ee9c t\u1ed1i \u0111a."),handler:function(){J.current!=null&&T(x)}},{command:{key:c("CometKeys").PAGE_DOWN},description:h._("Gi\u1ea3m gi\u00e1 tr\u1ecb thanh tr\u01b0\u1ee3t xu\u1ed1ng nhi\u1ec1u b\u1eadc. \u1ede thanh tr\u01b0\u1ee3t n\u00e0y, t\u0103ng 10\u0025."),handler:function(){J.current!=null&&T(K[J.current]-U)}},{command:{key:c("CometKeys").PAGE_UP},description:h._("T\u0103ng gi\u00e1 tr\u1ecb thanh tr\u01b0\u1ee3t th\u00eam nhi\u1ec1u b\u1eadc. Trong thanh tr\u01b0\u1ee3t n\u00e0y, t\u0103ng 10\u0025."),handler:function(){J.current!=null&&T(K[J.current]+U)}},{command:{key:c("CometKeys").LEFT},description:h._("Gi\u1ea3m gi\u00e1 tr\u1ecb thanh tr\u01b0\u1ee3t xu\u1ed1ng 1 b\u1eadc n\u1eefa."),handler:function(){J.current!=null&&T(K[J.current]-B)}},{command:{key:c("CometKeys").DOWN},description:h._("Gi\u1ea3m gi\u00e1 tr\u1ecb thanh tr\u01b0\u1ee3t xu\u1ed1ng 1 b\u1eadc n\u1eefa."),handler:function(){J.current!=null&&T(K[J.current]-B)}},{command:{key:c("CometKeys").RIGHT},description:h._("T\u0103ng gi\u00e1 tr\u1ecb thanh tr\u01b0\u1ee3t th\u00eam 1 b\u1eadc."),handler:function(){J.current!=null&&T(K[J.current]+B)}},{command:{key:c("CometKeys").UP},description:h._("T\u0103ng gi\u00e1 tr\u1ecb thanh tr\u01b0\u1ee3t th\u00eam 1 b\u1eadc n\u1eefa."),handler:function(){J.current!=null&&T(K[J.current]+B)}}]},[x,y,T,B,U,K]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:V,children:i.jsxs("div",{className:c("stylex")([n.root,D]),onMouseDown:M,onTouchStart:b,ref:G,role:"none",children:[i.jsx("div",{className:c("stylex")([n.rail,g])}),i.jsx("div",{className:c("stylex")([n.track,a]),style:L}),i.jsx("div",{className:c("stylex")(n.thumbWrapper),children:K.map(function(a,b){var g=p(a,y,x),j=e;e!=null&&K.length>1&&(b===0?j=h._("{slider label}, gi\u00e1 tr\u1ecb t\u1ed1i thi\u1ec3u",[h._param("slider label",e)]):b===K.length-1&&(j=h._("{slider label}, gi\u00e1 tr\u1ecb t\u1ed1i \u0111a",[h._param("slider label",e)])));return i.jsx(c("Pressable.react"),{accessibilityLabel:j,accessibilityRelationship:{labelledby:f},accessibilityRole:"slider",accessibilityState:{disabled:w,orientation:"horizontal"},accessibilityValue:{max:x,min:y,now:a,text:v(a)},disabled:w,nativeID:s(F,b),onBlur:function(){J.current=null},onFocus:function(){J.current=b},style:(j={},j[d("Locale").isRTL()?"right":"left"]=g+"%",j),xstyle:function(a){return[n.thumb,a.focusVisible&&n.thumbFocusVisible,typeof E==="function"?E(a):E]}},b)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseTextInput_DEPRECATED.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var c=a.disabled;c=c===void 0?!1:c;var d=a.type;d=d===void 0?"text":d;a=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","type"]);return h.jsx("input",babelHelpers["extends"]({},a,{disabled:c,ref:b,type:d}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,i=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var m=a[0],n=a[1],o=a[2],p=(e=m)!=null?e:i,q=l(null);k(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){m?o():i.dispose(),q.current=null},6e4)}},[o,p.isDisposed,i,j,n,m]);b=babelHelpers["extends"]({},g,{onClose:f});return h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:i,props:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=l(null),h=j(c("CometDialogContext")),k=i(function(g,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,g),n=m,o=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};h(c("CometSuspendedDialogImpl.react"),{dialog:n,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadParams:g,preloadedEntryPoint:l},fallback:e},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(n=k)!=null?n:c("tracePolicyFromResource")("comet.dialog",a.root)},o)},[f,a,h,e,b]);return[k,g]}g["default"]=a}),98);
__d("CometPhotoGrid.react",["CometAspectRatioContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){return a<2&&b%3===2}function a(a){var b=a.spacing,d=b===void 0?"narrow":b;b=a.uniformGrid;var e=b===void 0?!1:b;b=babelHelpers.objectWithoutPropertiesLoose(a,["spacing","uniformGrid"]);a=h.Children.toArray(b.children);var f=a.length;return h.jsx("div",{className:c("stylex").dedupe({"display-1":"j83agx80","flex-direction-1":"btwxx1t3","flex-wrap-1":"lhclo0ds"},d==="narrow"?{"margin-top-1":"hop8lmos","margin-end-1":"nkwizq5d","margin-bottom-1":"scwd0bx6","margin-start-1":"roh60bw9"}:null,d==="wide"?{"margin-top-1":"s89635nw","margin-end-1":"c4xchbtz","margin-bottom-1":"dco85op0","margin-start-1":"by2jbhx6"}:null),children:h.Children.map(a,function(a,b){return h.jsx("div",{className:c("stylex").dedupe({"box-sizing-1":"rq0escxv","flex-basis-1":"kuivcneq"},d==="wide"?{"padding-top-1":"linoseic","padding-end-1":"ihtri3yf","padding-bottom-1":"pby63qed","padding-start-1":"e9o6kcyi"}:null,d==="narrow"?{"padding-top-1":"jwdofwj8","padding-end-1":"n8tt0mok","padding-bottom-1":"r8blr3vg","padding-start-1":"hyh9befq"}:null,!e&&i(b,f)?{"flex-basis-1":"hkbzh7o3"}:null),children:h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:1,children:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometToken.react",["fbt","ix","CometIcon.react","CometPressable.react","CometProfilePhoto.react","TetraText.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={"default":{backgroundColor:"oo1teu6h"},pressable:{appearance:"dwo3fsh8",backgroundColor:"g5ia77u1",borderStyle:"ow4ym5g4",borderWidth:"auili1gw",boxSizing:"rq0escxv",cursor:"nhd2j8a9",marginBottom:"oygrvhab",marginEnd:"cxmmr5t8",marginStart:"hcukyx3x",marginTop:"kvgmc6g5",paddingBottom:"qt6c0cv9",paddingEnd:"rz4wbd8a",paddingStart:"a8nywdso",paddingTop:"jb3vyjys",position:"l9j0dhe7",textAlign:"i1ao9s8h",zIndex:"du4w35lb"},readonly:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},root:{alignItems:"bp9cbjyn",borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",display:"pq6dq46d",paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5"},shrinkVerticalPadding:{paddingBottom:"iuny7tx3",paddingTop:"ipjc6fyt"},shrinkVerticalPaddingLevel4:{paddingBottom:"e5nlhep0",paddingTop:"ecm0bbzt"},spacing:{marginEnd:"oi9244e8"},suggested:{backgroundColor:"tdjehn4e"}};function a(a){var b=a.addOn,e=a.addOnSecondary,f=a.disabled,g=a.level;g=g===void 0?3:g;var l=a.onPress,m=a.text;a=a.type;var n=a==="add"||a==="readonly"?"primary":"highlight",o=null,p=null,q=!1,r=!1,s=g===3?"body3":"body4";if(b){switch(b.type){case"text":o=j.jsx(c("TetraText.react"),{color:n,type:s,children:b.value});break;case"profile-photo":g===4?r=!0:q=!0;o=j.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:g===3?24:20,source:{uri:b.source}});break;case"icon":g===4?r=!0:q=!0;o=j.jsx(c("CometIcon.react"),{color:n,icon:b.icon});break}o=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(k.spacing),children:o})}if(e){switch(e.type){case"text":p=j.jsx(c("TetraText.react"),{color:n,type:s,children:e.value});break}p=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(k.spacing),children:p})}s=j.jsx("div",{"aria-hidden":a==="remove",className:c("stylex")(a!=="readonly"&&k.spacing),children:j.jsx(c("TetraText.react"),{color:n,type:g===3?"bodyLink3":"bodyLink4",children:m})});n=(b==null?void 0:b.type)==="text"?b.value:null;g=(e==null?void 0:e.type)==="text"?e.value:null;b=j.jsxs("div",{className:c("stylex")(k.root,a!=="add"&&a!=="readonly"&&k["default"],a==="readonly"&&k.readonly,(a==="add"||a==="readonly")&&k.suggested,r&&k.shrinkVerticalPaddingLevel4,q&&k.shrinkVerticalPadding),children:[o,s,p,a==="add"?j.jsx(c("CometIcon.react"),{alt:h._("Th\u00eam"),icon:d("fbicon")._(i("483767"),12)}):a!=="readonly"?j.jsx(c("CometIcon.react"),{"aria-label":h._("{prefix} {token_text} {add_on_secondary} G\u1ee1",[h._param("prefix",n),h._param("token_text",m),h._param("add_on_secondary",g)]),color:"highlight",disabled:f,hideHoverOverlay:r,icon:d("fbicon")._(i("478231"),12),onPress:l,testid:void 0}):null]});return a==="add"?j.jsx(c("CometPressable.react"),{disabled:f,display:"inline",onPress:l,xstyle:k.pressable,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MAWCatQuery.graphql");c=a;g["default"]=c}),98);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.transactionID;return{queries:{fBPayHubTransactionDetailDialogQueryReference:{parameters:b("FBPayHubTransactionDetailDialogQuery$Parameters"),variables:{transaction_id:a}}}}},root:c("JSResourceForInteraction")("FBPayHubTransactionDetailDialog.react").__setRef("FBPayHubTransactionDetailDialog.entrypoint")};g["default"]=a}),98);
__d("MarketplaceCometReviewOffersDialog.entrypoint",["JSResourceForInteraction","MarketplaceCometReviewOffersDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.listingId;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MarketplaceCometReviewOffersDialogQuery$Parameters"),variables:{listingId:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MarketplaceCometReviewOffersDialog.react").__setRef("MarketplaceCometReviewOffersDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQueryReference:{parameters:c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters"),variables:{id:a.threadId,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.react").__setRef("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint")};g["default"]=a}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={4:{paddingEnd:"n8tt0mok",paddingStart:"hyh9befq"},8:{paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus"},12:{paddingEnd:"p8fzw8mz",paddingStart:"pcp91wgn"},16:{paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},24:{paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"},32:{paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"}},k={4:{paddingBottom:"r8blr3vg",paddingTop:"jwdofwj8"},8:{paddingBottom:"e5nlhep0",paddingTop:"ecm0bbzt"},12:{paddingBottom:"iuny7tx3",paddingTop:"ipjc6fyt"},16:{paddingBottom:"sj5x9vvc",paddingTop:"cxgpxx05"},24:{paddingBottom:"f10w8fjw",paddingTop:"pybr56ya"},32:{paddingBottom:"ihqw7lf3",paddingTop:"discj3wi"}};function a(a,b){var d;d=(d=i(c("MDSRowContext")))!=null?d:{};var e=d.spacingHorizontal;d=d.spacingVertical;var f=a.fallback,g=a.placeholder,m=babelHelpers.objectWithoutPropertiesLoose(a,["fallback","placeholder"]);if(g!==void 0){a.placeholder;var n=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);return h.jsx(c("CometPlaceholder.react"),{fallback:g!=null?h.jsx(l,babelHelpers["extends"]({},n,{ref:b,children:g})):null,children:h.jsx(l,babelHelpers["extends"]({},n,{ref:b}))})}if(f!==void 0){a.fallback;var o=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);return f===null?h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))}):h.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return h.jsx(l,babelHelpers["extends"]({},o,{ref:b,children:typeof f==="function"?f(a,c):f}))},children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))})}return h.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},m,{ref:b,useDeprecatedStyles:m.useDeprecatedStyles,xstyle:[j[e],k[d],m.xstyle],children:h.jsx(c("MDSRowContext").Provider,{value:null,children:m.children})}))}a.displayName=a.name+" [from "+f.id+"]";var l=h.forwardRef(a);b=l;g["default"]=b}),98);
__d("MDSRow.react",["BaseRow.react","CometColumnContext","CometColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k={4:{paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus"},8:{paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},10:{paddingEnd:"rv4hoivh",paddingStart:"h4z51re5"},12:{paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"},16:{paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"}},l={0:{paddingTop:"jb3vyjys"},4:{paddingTop:"ecm0bbzt"},8:{paddingTop:"cxgpxx05"},10:{paddingTop:"jktsbyx5"},12:{paddingTop:"pybr56ya"},16:{paddingTop:"discj3wi"}},m={4:{paddingBottom:"e5nlhep0",paddingTop:"ecm0bbzt"},8:{paddingBottom:"sj5x9vvc",paddingTop:"cxgpxx05"},10:{paddingBottom:"osnr6wyh",paddingTop:"jktsbyx5"},12:{paddingBottom:"f10w8fjw",paddingTop:"pybr56ya"},16:{paddingBottom:"ihqw7lf3",paddingTop:"discj3wi"}},n={4:{marginEnd:"nkwizq5d",marginStart:"roh60bw9"},8:{marginEnd:"dlv3wnog",marginStart:"rl04r1d5"},10:{marginEnd:"ocv6bq3q",marginStart:"pec0n382"},12:{marginEnd:"b5q2rw42",marginStart:"lq239pai"},16:{marginEnd:"o22cckgh",marginStart:"fop5sh7t"},24:{marginEnd:"a9txdygg",marginStart:"fnu23jab"},32:{marginEnd:"tmqn73lw",marginStart:"ocgrx2df"}},o={4:{marginBottom:"scwd0bx6",marginTop:"hop8lmos"},8:{marginBottom:"enqfppq2",marginTop:"muag1w35"},10:{marginBottom:"ew0dbk1b",marginTop:"irj2b8pg"},12:{marginBottom:"mysgfdmx",marginTop:"hddg9phg"},16:{marginBottom:"obtkqiv7",marginTop:"sv5sfqaa"},24:{marginBottom:"fi9g468h",marginTop:"gy6hb44f"},32:{marginBottom:"b20td4e0",marginTop:"rtmu0sqt"}};function a(a,b){var d=i(c("CometColumnContext")),e=i(c("MDSRowContext")),f=(d==null?void 0:d.paddingHorizontal)!=null?0:12,g=(d==null?void 0:d.spacing)!=null?0:16,p=a.children,q=a.paddingHorizontal;f=q===void 0?f:q;q=a.paddingVertical;q=q===void 0?0:q;var r=a.paddingTop;g=r===void 0?a.paddingVertical==null?g:null:r;r=a.spacing;r=r===void 0?12:r;var s=a.spacingHorizontal,t=s===void 0?r:s;s=a.spacingVertical;var u=s===void 0?r:s;r=a.xstyle;s=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=j(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);b=h.jsx(c("BaseRow.react"),babelHelpers["extends"]({},s,{ref:b,xstyle:[k[f],m[q],g!=null&&l[g],n[t],o[u],r],children:h.jsx(c("MDSRowContext").Provider,{value:a,children:p})}));if(e!=null)return h.jsx(c("MDSRowItem.react"),{expanding:s.expanding,children:b});return d!=null?h.jsx(c("CometColumnItem.react"),{expanding:s.expanding,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);d=e;g["default"]=d}),98);
__d("MWPTooltipGroup.react",["cr:11874"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11874")}),98);
__d("MWFilePressableGlimmer.react",["BaseGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"k4urcfbm kr520xx4 j9ispegn poy2od1o datstx6m sr8vsuhl",children:h.jsx("div",{className:"pfqjqu37 aodizinl lb8aey2d",children:h.jsx(c("BaseGlimmer.react"),{className:"orb7ywq3 emzo65vh fmqxjp7s czkt41v7 orhb3f3m",index:0})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFilePDFViewerModalWrapper.entrypoint",["JSResourceForInteraction","useMWFilePDFDataQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=babelHelpers["extends"]({},a.routeParams);return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:b("useMWFilePDFDataQuery$Parameters"),variables:a}}}},root:c("JSResourceForInteraction")("MWFilePDFViewerModalWrapper.react").__setRef("MWFilePDFViewerModalWrapper.entrypoint")};g["default"]=a}),98);
__d("CometMessengerOutlineEntityTextNode",["Outline","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.getMessengerComposerEntity=function(a){throw c("unrecoverableViolation")("CometMessengerOutlineEntityTextNode does not implement getMessengerComposerEntity","messenger_comet")};return b}(d("Outline").TextNode);g["default"]=a}),98);
__d("useCometOutlineComposition",["react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState;function a(a){var b=h(!1),d=b[0],e=b[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){var b=function(){e(!0)},c=function(){e(!1)};return a.addListener("root",function(a,d){d!==null&&(d.removeEventListener("compositionstart",b),d.removeEventListener("compositionend",c)),a!==null&&(a.addEventListener("compositionstart",b),a.addEventListener("compositionend",c))})},[a]);return d}g["default"]=a}),98);
__d("useCometOutlineIsEmpty",["react","useCometOutlineComposition","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(!0),d=b[0],e=b[1],f=c("useCometOutlineComposition")(a),g=h(function(){var b=a.getTextContent();return b===""&&!f},[f,a]),j=h(function(){var a=g();d!==a&&e(a)},[g,d]);c("useLayoutEffect_SAFE_FOR_SSR")(j,[j]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a.addListener("update",j)},[a,j]);return d}g["default"]=a}),98);
__d("FileInputAcceptValues.bs",["fileInputAcceptValues"],(function(a,b,c,d,e,f){"use strict";a=[".mp4",".mov"].concat(b("fileInputAcceptValues").PHOTO);f.allowedVideoTypes=a}),null);
__d("MWMessageRequestSharedTexts.bs",["fbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return g._("N\u1ebfu b\u1ea1n tr\u1ea3 l\u1eddi, {FBFullName} c\u0169ng s\u1ebd c\u00f3 th\u1ec3 g\u1ecdi cho b\u1ea1n v\u00e0 xem c\u00e1c th\u00f4ng tin nh\u01b0 Tr\u1ea1ng th\u00e1i ho\u1ea1t \u0111\u1ed9ng c\u00f9ng th\u1eddi \u0111i\u1ec3m b\u1ea1n \u0111\u1ecdc tin nh\u1eafn.",[g._param("FBFullName",a)])}function b(a){return g._("T\u00f4i kh\u00f4ng mu\u1ed1n nh\u1eadn tin nh\u1eafn c\u1ee7a {name}",[g._param("name",a)])}function c(a){return g._("B\u1ea1n c\u00f3 th\u1ec3 x\u00f3a v\u0129nh vi\u1ec5n cu\u1ed9c tr\u00f2 chuy\u1ec7n ho\u1eb7c ch\u1eb7n kh\u00f4ng cho {FBShortName} nh\u1eafn tin\/g\u1ecdi \u0111i\u1ec7n cho b\u1ea1n. Ch\u00fang t\u00f4i s\u1ebd kh\u00f4ng ti\u1ebft l\u1ed9 v\u1edbi h\u1ecd r\u1eb1ng b\u1ea1n \u0111\u00e3 l\u00e0m nh\u1eefng vi\u1ec7c n\u00e0y.",[g._param("FBShortName",a)])}f.getFBUserInfoTextMessage=a;f.getDefaultInfoTextFooter=b;f.getDeclineUserDialogText=c}),null);
__d("MAWComposerUserMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MDSTextCommon.react","MWLSActor.bs","MWMessageRequestSharedTexts.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={rootSmall:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i"},rootLarge:{color:"m9osqain",marginTop:"n1l5q3vz",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i",maxWidth:"bl38xub0"},footer:{marginTop:"knvmm38d",textAlign:"oqcyycmt"}};function a(a){var c=a.thread,d=a.size;a=a.onDeleteThread;var e=c.a,f=b("MWLSActor.bs").useActor(void 0),h=b("ReStore.bs").useHook(void 0),l=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"participants").asc,{hd:e,tl:0}),function(a){var c=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"contacts").asc,{hd:a.b,tl:0}));return[a,c]})},[h,JSON.stringify(e)]));l=l.filter(function(a){return b("bs_caml").i64_neq(a[0].b,f)});var m=l.map(function(a){return a[0].b});m=m.find(function(a){return b("bs_caml").i64_neq(a,f)});if(m===void 0)return null;if(l.length===0)return null;var n=g._("Ng\u01b0\u1eddi d\u00f9ng Facebook");l=l[0];var o=l[1];o=o!==void 0?o.h:n;l=l[1];if(l!==void 0){var p=l.p;p=p!==void 0?p:l.h}else p=n;l=b("MWMessageRequestSharedTexts.bs").getFBUserInfoTextMessage(o);var q=b("MWMessageRequestSharedTexts.bs").getDefaultInfoTextFooter(o);return j.jsxs("div",{className:(i||(i=b("stylex")))(d==="small"?k.rootSmall:k.rootLarge),children:[j.jsx(b("MDSTextCommon.react"),{align:"center",color:"secondary",type:"body4",children:l}),j.jsx("div",{className:i(k.footer),children:j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MAWDeclineUserMessageRequestDialog",{name:"MAWDeclineUserMessageRequestDialog","class":"fluid"}).__setRef("MAWComposerUserMessageRequestInfoText.bs"),dialogProps:{onClose:function(a){},onDeleteThread:a,name:o,shortName:p,thread:c,contactId:m},children:function(a,c){return j.jsx(b("CometPressable.react"),{ref:c,testid:"maw_user_message_request_info_text_trigger",onPress:function(c){return b("bs_curry")._1(a,void 0)},children:j.jsx(b("MDSTextCommon.react"),{color:"primary",type:"bodyLink4",children:q})})}})})]})}c=a;f.styles=k;f.make=c}),null);
__d("LSWhatsAppConnectStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.whatsappNotAddressable=a;f.whatsappAddressable=c}),null);
__d("CometInteractionTracingModuleChatTabSendMessageQPLEvent",["cr:1654"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1654")}),98);
__d("LSMessageContentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,4];e=[0,8];b=[0,16];var g=[0,32],h=[0,64],i=[0,128],j=[0,256],k=[0,512],l=[0,1024],m=[0,2048],n=[0,4096],o=[0,8192],p=[0,16384],q=[0,32768],r=[0,65536],s=[0,131072],t=[0,262144];f.text=a;f.mediaPreview=c;f.audioClip=d;f.xmaFallback=e;f.lwaWave=b;f.admin=g;f.fileAttachment=h;f.glyph=i;f.tombstone=j;f.storyReply=k;f.singleXma=l;f.hscrollXma=m;f.sticker=n;f.forwardIndicator=o;f.animatedImage=p;f.nullState=q;f.encryptionPlaceholder=r;f.futureproofPlaceholder=s;f.unavailablePlaceholder=t}),null);
__d("LSMessageViewFlag.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,4];b=[0,8];var g=[0,16],h=[0,256],i=[0,1024],j=[0,2048],k=[0,4096],l=[0,8192],m=[0,16384],n=[0,524288],o=[0,1048576],p=[0,2097152],q=[0,8388608],r=[0,16777216],s=[0,33554432];f.uncalculated=a;f.showProfileImage=c;f.showTimestamp=d;f.showSender=e;f.connectTop=b;f.connectBottom=g;f.statusSending=h;f.statusDelivered=i;f.statusReadBy=j;f.statusReadByExcept=k;f.statusReadByAll=l;f.statusRead=m;f.isSendError=n;f.statusSent=o;f.isHotLike=p;f.isLocalMessage=q;f.isForwardedMedia=r;f.statusReadByAndMore=s}),null);
__d("LSQuickReplyType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.none=a;f.horizontal=c;f.vertical=d}),null);
__d("OfflineThreadingId.bs",["Crypto.bs","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=(a=b("bs_caml_int64")).of_float(Date.now()),d=b("Crypto.bs").getRandomValues(new Uint8Array(8));d=new DataView(d.buffer);d=a.add(a.lsl_(a.of_int32(d.getUint32(0)),32),a.of_int32(d.getUint32(4)));return b("bs_int64").to_string(a.and_(a.or_(a.lsl_(c,22),a.and_(d,[0,4194303])),a.max_int))}f.make=a}),null);
__d("VideoThumbnail",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a}var b=a.prototype;b.getURL=function(){return this.$1};b.getData=function(){g(0,4844)};a.addTextToCanvasContext=function(a,b,c,d,e,f,g,h,i){a.fillStyle=h;a.textAlign=i;a.font=f+"px "+g;h=i==="center"?d+e/2:d;g=1;i=b.split("\n");for(var d=i,b=Array.isArray(d),i=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k="",l="";j=j.split(" ");for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;l+=o;var p=a.measureText(l).width,q=a.measureText(o).width;if(q>e){k.length>0&&(a.fillText(k,h,c+f*g),g++);q="";var r="";for(var s=o,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;r+=v;var w=a.measureText(r).width;w>e?(a.fillText(q,h,c+f*g),q=v,r=v,g++):q=r}k=q+" ";l=q+" "}else p>e?(a.fillText(k,h,c+f*g),k=o+" ",l=o+" ",g++):(l+=" ",k=l)}a.fillText(k,h,c+f*g);g++}return a};return a}();e.exports=a}),null);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("dataURLToBlob",["BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","Promise","WebWorker"],(function(a,b,c,d,e,f,g){var h=a.URL||a.webkitURL||{};function e(a,e){if(!h.createObjectURL||!c("BlobFactory").isSupported)return b("Promise").reject("Browser doesn't support this feature");if(c("WebWorker").isSupported())return new(b("Promise"))(function(b,d){var f=new(c("WebWorker"))(c("CanvasToBlobResource")).setMessageHandler(function(a){b(a),f.terminate()}).setErrorHandler(function(a){d(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:e})});else return b("Promise").resolve(d("CanvasToBlobImpl").getBlob(a,e))}g["default"]=e}),98);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f,g){function a(a,d,e){return new(b("Promise"))(function(b,f){if(a.toBlob)a.toBlob(b,d,e);else{var g=a.toDataURL(d,e);c("promiseDone")(c("dataURLToBlob")(g,d).then(function(a){b(a)},f))}})}g["default"]=a}),98);
__d("CanvasVideoThumbnail",["EventListener","Promise","VideoThumbnail","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(d,a);function d(b,c,d,e,f,g,h){var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail1=b;i.$CanvasVideoThumbnail2=c;i.$CanvasVideoThumbnail3=d;i.$CanvasVideoThumbnail4=e;i.$CanvasVideoThumbnail5=f;i.$CanvasVideoThumbnail6=g;i.$CanvasVideoThumbnail7=h;return i}var e=d.prototype;e.getCanvas=function(){return this.$CanvasVideoThumbnail1};e.getTime=function(){return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};e.getURL=function(){this.$CanvasVideoThumbnail8||(this.$CanvasVideoThumbnail8=this.$CanvasVideoThumbnail1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail8};e.getData=function(){var a=this,d=document.createElement("canvas"),e=d.getContext("2d"),f=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(b,g){var h=c("EventListener").listen(f,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail9(d,e),c("promiseDone")(c("canvasToBlob")(d,"image/jpeg").then(b,g))});f.currentTime=a.$CanvasVideoThumbnail3})};e.getDataWithText=function(a,d,e,f,g,h,i,j){var k=this,l=document.createElement("canvas"),m=l.getContext("2d"),n=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(b,o){var p=c("EventListener").listen(n,"seeked",function(){p.remove(),m.fillStyle=i,m.textAlign=j,k.$CanvasVideoThumbnail9(l,m),m=c("VideoThumbnail").addTextToCanvasContext(m,a,d,e,f,g,h,i,j),c("promiseDone")(c("canvasToBlob")(l,"image/jpeg").then(b,o))});n.currentTime=k.$CanvasVideoThumbnail3})};e.$CanvasVideoThumbnail9=function(a,b){var c=this.$CanvasVideoThumbnail2;this.$CanvasVideoThumbnail4||this.$CanvasVideoThumbnail5?(a.width=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:c.videoWidth,a.height=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:c.videoHeight,this.$CanvasVideoThumbnail10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};e.$CanvasVideoThumbnail10=function(a,b){var c=this.$CanvasVideoThumbnail2,d=this.$CanvasVideoThumbnail6,e=this.$CanvasVideoThumbnail7,f=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:a.width,g=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return d}(c("VideoThumbnail"));g["default"]=a}),98);
__d("generateVideoThumbnails",["CanvasVideoThumbnail","HTMLMediaElementReadyStates","Promise","VideoFrameBuffer","cr:909281"],(function(a,b,c,d,e,f,g){function a(a,d,e,f,g,l,m,n,o,p){g===void 0&&(g="contain");l===void 0&&(l=0);m===void 0&&(m=null);n===void 0&&(n=null);o===void 0&&(o=null);p===void 0&&(p=null);return new(b("Promise"))(function(q,r){var s=document.createElement("canvas"),t=[],u=0,v=a.duration-l;p!=null&&(v=Math.min(v,p));var w=v/f,x=null,y,z,A=(v=n)!=null?v:h(m,d),B=(v=o)!=null?v:i(m,e),C=j(m,d),D=k(m,e);y=new(c("VideoFrameBuffer"))(s,a,g,A,B,C,D);s.width=(v=A)!=null?v:d;s.height=(v=B)!=null?v:e;var E=function(){y.updateFrameBuffer();var b=new(c("CanvasVideoThumbnail"))(s,a,l+(u-1)*w,A,B,C,D);t.push(b);(!x||b.getURL().length>x.getURL().length)&&(x=b);G()},F=function(){if(a.readyState>=c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)E();else if(b("cr:909281")!==null)var d=b("cr:909281").listen(a,"loadeddata",function(){d.remove(),E()});else a.addEventListener("loadeddata",E,{once:!0})},G=function(){u===0&&(b("cr:909281")!==null?z=b("cr:909281").listen(a,"seeked",F):a.addEventListener("seeked",F)),u<f?(a.currentTime=l+u*w,u++):(b("cr:909281")!==null?z&&z.remove():a.removeEventListener("seeked",F),q({thumbnails:t,selectedThumbnail:x}))};if(a.videoWidth===0||a.videoHeight===0){r();return}G()})}function h(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function i(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function k(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}g["default"]=a}),98);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=d("CometRelay").useLazyLoadQuery(i,{},{fetchPolicy:"store-only"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}g["default"]=a}),98);
__d("MWChatFocusComposerContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({focusComposer:void 0,setFocusComposer:function(a){}});function a(a){a=a.children;var b=h.useRef(void 0),c=b.current,d=h.useMemo(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return h.createElement(i.Provider,{value:d,children:a})}c=a;f.context=i;f.provider=c}),null);
__d("MWChatUseLatch.bs",["cr:361"],(function(a,b,c,d,e,f){"use strict";a=b("cr:361").useLatch;f.$MWLSUseLatch$OR$WorkplaceMSUseLatch$requireCond=b("cr:361");f.useLatch=a}),null);
__d("CometEmoji.bs",["CometEmoji.react"],(function(a,b,c,d,e,f){"use strict";a=b("CometEmoji.react");f.make=a}),null);
__d("LSHotEmojiSize.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];f.small=a;f.medium=c;f.large=d}),null);
__d("MWChatChatButtonColorConstants.bs",[],(function(a,b,c,d,e,f){"use strict";a={fillGrey:{fill:"crt8y2ji"},strokeGrey:{stroke:"s9lmpwuu"}};f.styles=a}),null);
__d("MWChatHotlikeEmitter.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";var g={contents:0};function a(a){var c=new Map();return{notify:function(a){c.forEach(function(d,c,e){return b("bs_curry")._1(d,a)})},subscribe:function(a){var b=g.contents;g.contents=g.contents+1|0;c.set(b,a);return function(a){return c["delete"](b)}}}}f.i=g;f.createEmitter=a}),null);
__d("MWChatHotLikeEmitterContext.bs",["MWChatHotlikeEmitter.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("MWChatHotlikeEmitter.bs").createEmitter(void 0),j=h.createContext(i);function a(a){a=a.children;return h.createElement(j.Provider,{value:i,children:a})}d={make:a};function c(a){return h.useContext(j)}f.emitter=i;f.context=j;f.Provider=d;f.useHook=c}),null);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f,g){"use strict";var h={small:1e3,medium:2e3,large:3e3};function a(a){var b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<this.SizeTimes.small:b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<this.SizeTimes.medium:b=c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<this.SizeTimes.large:b=c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return b}function b(a){var b=d("EmojiLikeConstants").size.SMALL;a<this.SizeTimes.small?b=d("EmojiLikeConstants").size.SMALL:a<this.SizeTimes.medium?b=d("EmojiLikeConstants").size.MEDIUM:a<this.SizeTimes.large&&(b=d("EmojiLikeConstants").size.LARGE);return b}function e(a){var b;switch(a){case c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:b=120;break;case c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:b=84;break;case c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:b=35;break;case d("EmojiLikeConstants").size.LARGE:b=64;break;case d("EmojiLikeConstants").size.MEDIUM:b=64;break;case d("EmojiLikeConstants").size.SMALL:b=32;break}return b?{height:b,width:b}:void 0}function f(){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()}function i(a){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()}function j(a){return a&&a.custom_like_icon}g.SizeTimes=h;g.getStickerIDForTime=a;g.getEmojiSizeForTime=b;g.getMetadataForHotLike=e;g.getPreviewURI=f;g.getURIWithID=i;g.getCustomEmojiFromThread=j}),98);
__d("EmoticonEmojiList",[],(function(a,b,c,d,e,f){a={":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":dog:":"dog",":poop:":"poop",":trans:":"transflag",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":\u2019(":"cry",":\u2019-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","\u2665":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","\u2019-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like",":+1:":"thumbsup","(n)":"dislike","(N)":"dislike"};b={slightsmile:"1f642",smile:"1f60a",frown:"1f61e",winktongue:"1f61c",dog:"1f436",poop:"1f4a9",transflag:"1f3f3_200d_26a7",tongue:"1f61b",slightgrin:"1f600",grin:"1f603",gasp:"1f62e",wink:"1f609",glasses:"1f60e",grumpy:"1f620",unsure:"1f615",cry:"1f622",devil:"1f608",angel:"1f607",kiss:"1f617",winkkiss:"1f618",heart:"2764",kiki:"1f60a",expressionless:"1f611",squint:"1f610",upset:"1f620",persevere:"1f623",penguin:"1f427",flushface:"1f633",crying:"1f62d",flushkiss:"1f61a",sweating:"1f613",like:"f0000",thumbsup:"1f44d",dislike:"1f44e"};c={slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",dog:":dog:",poop:":poop:",transflag:":trans:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",thumbsup:":+1:",dislike:"(n)"};d=/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:dog:|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|:\+1:(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/;e=/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:dog:|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|:\+1:(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/;f.names=a;f.emote2emojis=b;f.symbols=c;f.regexp=d;f.noncapturingRegexp=e}),66);
__d("EmojiFormat.bs",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.split("_").map(function(a){return parseInt(a,16)})}function a(a){return a.map(function(a){return a.toString(16)}).join("_")}function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function b(a){return h(g(a))}f.codeStringToCodeArray=g;f.codeArrayToCodeString=a;f.codeArrayToUnicode=h;f.codeStringToUnicode=b}),null);
__d("SkinToneEmoji.bs",["EmojiFormat.bs","MessengerEmojiConfig","bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case"1f385":case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f442":case"1f443":case"1f446":case"1f447":case"1f448":case"1f449":case"1f44a":case"1f44b":case"1f44c":case"1f44d":case"1f44e":case"1f44f":case"1f450":case"1f466":case"1f467":case"1f468":case"1f469":case"1f46e":case"1f470":case"1f471":case"1f472":case"1f473":case"1f474":case"1f475":case"1f476":case"1f477":case"1f478":case"1f47c":case"1f481":case"1f482":case"1f483":case"1f485":case"1f486":case"1f487":case"1f4aa":case"1f575":case"1f590":case"1f595":case"1f596":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64c":case"1f64d":case"1f64e":case"1f64f":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"1f6c0":case"1f918":case"261d":case"26f9":case"270a":case"270b":case"270c":case"270d":return!0;default:return!1}}function h(a){if(b("bs_caml_array").get(a,a.length-1|0)===65039)return b("bs_caml_array").get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").get(a,a.length-1|0)===65039)return a;a=a.slice(0);return a.concat([65039])}function j(a){if(h(a)===0)return a;else return a.slice(0,a.length-1|0)}function k(a){var c=b("MessengerEmojiConfig").emoji_colors;c=c.filter(function(b){return b===a});return c.length!==0}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").get(a,a.length-1|0)))return 0;else return b("bs_caml_array").get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0?l(a):l(a.slice(0,a.length-1|0));if(c!==0)if(b===0)return a.slice(0,a.length-1|0);else return i(a.slice(0,a.length-2|0));else return a}function a(a,b){if(b===0)return a;var c=h(a),d=c===0?a.slice(0):a.slice(0,a.length-1|0),e=l(d);if(e!==0)return a;e=d.concat([b]);if(c===0)return e;else return e.concat([c])}function c(a){return m(j(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(j(a))))}e=65039;f.emoji_modifier_code=e;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isToneModifier=k;f.getTone=l;f.removeTone=m;f.applyTone=a;f.removeAllModifiers=c;f.hasVariations=d}),null);
__d("MessengerEmojiTransitionMapping.bs",["EmojiFormat.bs","SkinToneEmoji.bs","bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f3cc":case"1f46e":case"1f46f":case"1f471":case"1f473":case"1f477":case"1f481":case"1f482":case"1f486":case"1f487":case"1f575":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64d":case"1f64e":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"26f9":return!0;default:return!1}}function h(a){if(b("bs_caml_array").get(a,a.length-1|0)===65039)return b("bs_caml_array").get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").get(a,a.length-1|0)===65039)return a;a=a.slice(0);return a.concat([65039])}function j(a){if(h(a)===0)return a;else return a.slice(0,a.length-1|0)}function k(a){if(a===9792)return!0;else return a===9794}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").get(a,a.length-1|0)))return 0;else return b("bs_caml_array").get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0?l(a):l(a.slice(0,a.length-1|0));if(c!==0)if(b===0)return a.slice(0,a.length-2|0);else return i(a.slice(0,a.length-3|0));else return a}function n(a,b){if(b===0)return a;var c=h(a),d=c===0?a.slice(0):a.slice(0,a.length-1|0),e=l(d);if(e!==0)return a;e=d.concat([8205,b]);if(c===0)return e;else return e.concat([c])}function a(a){return n(a,9792)}function c(a){return m(b("SkinToneEmoji.bs").removeTone(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a))))}function e(a){a=b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a)));switch(a){case"1f46a":case"1f48f":case"1f491":return!0;default:return!1}}var o=65039,p=9792,q=9794,r=8205;f.emoji_modifier_code=o;f.gender_female=p;f.gender_male=q;f.zero_join=r;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isGenderModifier=k;f.getGender=l;f.removeGender=m;f.applyGender=n;f.makeFemale=a;f.removeAllModifiers=c;f.hasGender=d;f.isBlacklisted=e}),null);
__d("MessengerHotlikeEmoji.bs",[],(function(a,b,c,d,e,f){"use strict";var g="f0000";function a(a){return a===g}f.hotlike_key=g;f.isMessengerHotlike=a}),null);
__d("Utf16",[],(function(a,b,c,d,e,f){function a(a){switch(a.length){case 1:return a.charCodeAt(0);case 2:return 65536|(a.charCodeAt(0)-55296)*1024|a.charCodeAt(1)-56320;default:return null}}function b(a){if(a<65536)return String.fromCharCode(a);else return String.fromCharCode(55296+(a-65536>>10))+String.fromCharCode(56320+a%1024)}f.decode=a;f.encode=b}),66);
__d("MessengerSupportedEmojiUtils",["cx","EmojiImageURL","EmojiLikeConstants","EmojiRenderer","EmoticonEmojiList","FBEmojiAliases","FBEmojiResource","Image.react","MessengerEmojiTransitionMapping.bs","MessengerHotlikeEmoji.bs","MessengerSupportedEmoji","SupportedEmoji3","SupportedFacebookEmoji","Utf16","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=/_fe0f/g,k=new RegExp("(\r\n|[ \r\n]|\\s)");function a(a){if(!a)return null;var b=null,e=this.parse(a);if(e.length===1&&e[0].length===a.length){a=e[0].emoji.map(function(a){return d("Utf16").decode(a)});b=a.map(function(a){return a.toString(16)}).join("_").replace(j,"")}if(b){e=c("FBEmojiAliases")[b];e&&(b=e.replace(j,""))}return this.isSupportedEmojiKey(b)?b:null}function b(a){return!!this.getSupportedEmojiKey(a)}function e(a){if(!a)return!1;if(!d("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)){var b=function(a){var b=c("FBEmojiAliases")[a];return b?b.replace(j,""):a}(a);return!!c("SupportedFacebookEmoji")[b]||!!c("SupportedEmoji3")[b]}return!!d("MessengerSupportedEmoji").emoji[a]}function f(a){return!!(a&&d("MessengerSupportedEmoji").emoji[a])}function h(a){if(!a)return null;var b=this.parse(a);if(b.length===1&&b[0].length===a.length){a=b[0].emoji.map(function(a){return d("Utf16").decode(a)});b=a.map(function(a){return a.toString(16)}).join("_").replace(j,"");if(this.isSupportedEmojiKey(b))return a}return null}function l(a){a=a.map(function(a){return a.toString(16)}).join("_").replace(j,"");var b=c("FBEmojiAliases")[a];return b?b.replace(j,""):a}function m(){var a,b=d("EmojiLikeConstants").size;return a={},a[b.XSMALL]="_2560",a[b.SMALL]="_1ifu",a[b.MEDIUM]="_19_r",a[b.LARGE]="_19_s",a}function n(a){a=this.parse(a,1);if(a.length!==1)return null;var b=a[0].emoji,c=a[0].emoji.map(function(a){return d("Utf16").decode(a)});d("MessengerEmojiTransitionMapping.bs").hasGender(c)&&!d("MessengerEmojiTransitionMapping.bs").getGender(c)&&(c=d("MessengerEmojiTransitionMapping.bs").makeFemale(c));c=c.map(function(a){return a.toString(16)}).join("_").replace(j,"");return{emoji_key:c,emoji_str:b.join(""),is_supported:this.isSupportedEmojiKey(c),offset:a[0].offset,length:a[0].length}}function o(a,b){if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var e=this.getClassSizeMap();b=this.transferSize(b);d("EmojiLikeConstants").sizeMap[b]||(b=d("EmojiLikeConstants").size.XSMALL);e=c("joinClasses")(e[b],"_1ift");b=d("EmojiLikeConstants").sizeMap[b];b=d("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?d("EmojiImageURL").getMessengerURL(a,b):new(c("FBEmojiResource"))(a).getImageURL(b);return b==null?null:{emoji:i.jsx(c("Image.react"),{className:e,src:b}),emoji_key:a,url:b}}function p(a,b){if(!a)return null;a=this.getSupportedEmojiKey(a,!0);if(!a)return null;var e=this.getClassSizeMap();b=this.transferSize(b);var f=b===d("EmojiLikeConstants").size.MEDIUM?d("EmojiLikeConstants").size.LARGE:b;d("EmojiLikeConstants").sizeMap[b]||(b=d("EmojiLikeConstants").size.XSMALL);e=c("joinClasses")(e[b],"_1ift");b=d("EmojiLikeConstants").sizeMap[f];f=d("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?d("EmojiImageURL").getMessengerURL(a,b):new(c("FBEmojiResource"))(a).getImageURL(b);return f==null?null:{emoji:i.jsx(c("Image.react"),{className:e,src:f}),emoji_key:a,url:f}}function q(a,b){if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var e=this.getClassSizeMap();b=this.transferSize(b);var f=b===d("EmojiLikeConstants").size.MEDIUM?d("EmojiLikeConstants").size.LARGE:b;d("EmojiLikeConstants").sizeMap[b]||(b=d("EmojiLikeConstants").size.XSMALL);e=c("joinClasses")(e[b],"_1ift");b=d("EmojiLikeConstants").sizeMap[f];f=d("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?d("EmojiImageURL").getMessengerURL(a,b):new(c("FBEmojiResource"))(a).getImageURL(b);return f==null?null:{emoji:i.jsx(c("Image.react"),{className:e,src:f}),emoji_key:a,url:f}}function r(a){a=a||"";var b=[],c=function(a){var c=k.exec(a),d="";while(c&&c.length&&c.index===0)d+=c[0],a=a.replace(k,""),c=k.exec(a);d.length>0&&b.push({text:d});return a};while(!0){a=c(a);var e=d("EmoticonEmojiList").noncapturingRegexp.exec(a);if(e&&e.index===0){var f=d("EmoticonEmojiList").names[e[1]];f=d("EmoticonEmojiList").emote2emojis[f];b.push({emojiKey:f,text:e[1]});a=a.replace(e[1],"")}else break}while(a.length>0&&a.trim().length>0){a=c(a);f=this.getEmojiMatchObj(a);if(f&&f.is_supported)b.push({emojiKey:f.emoji_key,text:f.emoji_str}),a=a.replace(f.emoji_str,"");else return null}return b}function s(a,b){a=a.replace(j,"");b=this.transferSize(b);if(!d("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)){var e=c("FBEmojiAliases")[a];e&&(a=e.replace(j,""));return!this.isSupportedEmojiKey(a)?null:new(c("FBEmojiResource"))(a).getImageURL(d("EmojiLikeConstants").sizeMap[b])}return!d("MessengerSupportedEmoji").emoji[a]?null:d("EmojiImageURL").getMessengerURL(a,d("EmojiLikeConstants").sizeMap[b])}function t(a){return this.parse(a,1).length===1}function u(a,b){return d("EmojiRenderer").parse(a,b)}function v(a){return d("EmojiLikeConstants").sizeMapTransfer[a]||a}g.getSupportedEmojiKey=a;g.isSupportedEmoji=b;g.isSupportedEmojiKey=e;g.isMessengerSupportedEmojiKey=f;g.getSupportedEmojiCodesArray=h;g.getEmojiKeyFromCodes=l;g.getClassSizeMap=m;g.getEmojiMatchObj=n;g.getNewEmojiData=o;g.getHotLikeEmojiDataTransition=p;g.getHotLikeEmojiData=q;g.getEmojiOnlyContents=r;g.getUrl=s;g.containsEmoji=t;g.parse=u;g.transferSize=v}),98);
__d("CometFileSelector.re",["CometFileSelector.react"],(function(a,b,c,d,e,f){a=b("CometFileSelector.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755987")).Gif;d=a.Sticker;e=a.Photo;b=a.MoreActions;var g=a.Emoji,h=a.PaperclipSVG,i=a.Paperclip,j=a.Pin,k=a.Camera,l=a.Microphone,m=a.Poll,n=a.Currency;f.$MDSMWChatComposerIcons$OR$TetraMWChatComposerIcons$requireCond=a;f.Gif=c;f.Sticker=d;f.Photo=e;f.MoreActions=b;f.Emoji=g;f.PaperclipSVG=h;f.Paperclip=i;f.Pin=j;f.Camera=k;f.Microphone=l;f.Poll=m;f.Currency=n}),null);
__d("OutlineSelectionHelpers",["cr:1967616"],(function(a,b,c,d,e,f){e.exports=b("cr:1967616")}),null);
__d("cometUFIAddEmojiToComposerForOutline",["CometUFIOutlineEmojiNode","FBEmojiResource","OutlineSelectionHelpers"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function a(a,b){b.focus(),b.update(function(b){b=b.getSelection();if(b!==null){var e=h(a),f=a.map(function(a){return String.fromCodePoint(a)});f=c("FBEmojiResource").fromCodepoints(f);if(f==null)return;f=f.getImageURL(d("CometUFIOutlineEmojiNode").size);if(f==null)return;var g=e;e=d("CometUFIOutlineEmojiNode").createEmojiNode(e,g,f);d("OutlineSelectionHelpers").insertNodes(b,[e],!0);e.isAttached()&&e.selectNext(0,0)}},"cometUFIAddEmojiToComposerForOutline")}g["default"]=a}),98);
__d("MessengerThreadThemeGradientType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.messageBubbleOutbound=a;f.messageBubbleInbound=c;f.threadviewBackground=d;f.deliveryReceipt=e}),null);
__d("MessagingAttachmentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,12];f.none=a;f.sticker=c;f.image=d;f.animatedImage=e;f.video=b;f.audio=g;f.file=h;f.xma=i;f.ephemeralImage=j;f.ephemeralVideo=k;f.selfieSticker=l;f.soundBite=m}),null);
__d("AudioClipsBrowserAllowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("72");c=b("FalcoLoggerInternal").create("audio_clips_browser_allow_mic_access",a);e.exports=c}),null);
__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("73");c=b("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",a);e.exports=c}),null);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("39");c=b("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",a);e.exports=c}),null);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("74");c=b("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",a);e.exports=c}),null);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("75");c=b("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",a);e.exports=c}),null);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("76");c=b("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",a);e.exports=c}),null);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("44");c=b("FalcoLoggerInternal").create("audio_clips_playback_pause",a);e.exports=c}),null);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("45");c=b("FalcoLoggerInternal").create("audio_clips_playback_resume",a);e.exports=c}),null);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("47");c=b("FalcoLoggerInternal").create("audio_clips_playback_start",a);e.exports=c}),null);
__d("AudioClipsSendFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("49");c=b("FalcoLoggerInternal").create("audio_clips_send",a);e.exports=c}),null);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("51");c=b("FalcoLoggerInternal").create("audio_clips_start_recording_click",a);e.exports=c}),null);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("52");c=b("FalcoLoggerInternal").create("audio_clips_stop_recording_click",a);e.exports=c}),null);
__d("Ls1LCFeatureStage.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];var g=[0,6],h=[0,7],i=[0,8],j=[0,9],k=[0,10],l=[0,11],m=[0,12],n=[0,13],o=[0,14],p=[0,15],q=[0,16];f.expandStart=a;f.expandFinish=c;f.initialScreenLoadingStart=d;f.initialScreenLoadingFinish=e;f.sendClick=b;f.saveClick=g;f.startRecordingClick=h;f.cancelClick=i;f.shareLiveLocationClick=j;f.pinClick=k;f.shareCurrentLocationClick=l;f.longClick=m;f.click=n;f.tapButton=o;f.paste=p;f.releaseSend=q}),null);
__d("Ls1LCFeatureType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];var g=[0,6],h=[0,8],i=[0,9],j=[0,10],k=[0,11],l=[0,12],m=[0,13],n=[0,14],o=[0,15],p=[0,16],q=[0,17],r=[0,18],s=[0,19],t=[0,20],u=[0,21],v=[0,22],w=[0,23],x=[0,24],y=[0,25],z=[0,26],A=[0,27],B=[0,28];f.keyboard=a;f.sticker=c;f.mediaPicker=d;f.gif=e;f.camera=b;f.payment=g;f.mSuggestion=h;f.reply=i;f.quickReply=j;f.mention=k;f.pageMenu=l;f.audioClip=m;f.ephemeralTimer=n;f.extensionBar=o;f.locationSharing=p;f.welcomePage=q;f.messageRequest=r;f.pollCreation=s;f.send=t;f.hotLike=u;f.chevron=v;f.mediapaste=w;f.suggestedTab=x;f.rooms=y;f.ignoredThread=z;f.moreDrawer=A;f.soundBites=B}),null);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("153");c=b("FalcoLoggerInternal").create("ls_1lc_feature_open",a);e.exports=c}),null);
__d("MWChatAudioLog.bs",["AudioClipsBrowserAllowMicAccessFalcoEvent","AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsSendFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","LSInt64.bs","Ls1LCFeatureStage.bs","Ls1LCFeatureType.bs","Ls1lcFeatureOpenFalcoEvent","LsActionCategory.bs","bs_caml_int64","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))}function c(a){b("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:"true",error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0}})}function d(a){b("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0}}),b("Ls1lcFeatureOpenFalcoEvent").log(function(){return{feature:b("bs_caml_int64").to_int32(b("Ls1LCFeatureType.bs").audioClip),thread:void 0,feature_sessionid:void 0,stage:b("bs_caml_int64").to_int32(b("Ls1LCFeatureStage.bs").startRecordingClick),screen_orientation:void 0,extra:void 0}})}function e(a){b("AudioClipsCancelledByUserFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0}})}function g(a){b("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0}})}function h(a){b("AudioClipsBrowserAllowMicAccessFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0}})}function i(a){b("AudioClipsSendFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0}}),b("Ls1lcFeatureOpenFalcoEvent").log(function(){return{feature:b("bs_caml_int64").to_int32(b("Ls1LCFeatureType.bs").audioClip),thread:void 0,feature_sessionid:void 0,stage:b("bs_caml_int64").to_int32(b("Ls1LCFeatureStage.bs").sendClick),screen_orientation:void 0,extra:void 0}})}function j(a){b("AudioClipsPlaybackStartFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0}})}function k(a,c){b("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(c))),duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0}})}function l(a,c){b("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(c))),duration:b("bs_caml_option").some(b("LSInt64.bs").string(b("bs_caml_int64").of_float(a))),entry_point:void 0}})}function m(a){b("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0}})}function n(a){b("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0}})}function o(a){b("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{error_message:void 0,connection_quality:void 0,is_prefetch:void 0,error_code:void 0,source_click_category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click),relative_url_path:void 0,attachment_id:void 0,has_access_token:void 0,position:void 0,duration:void 0,entry_point:void 0}})}f.floatToInt64String=a;f.logClickStopRecording=c;f.logClickStartRecording=d;f.logDeleteRecording=e;f.logBrowserDenyAccess=g;f.logBrowserAllowAccess=h;f.logSendRecording=i;f.logPlaybackStart=j;f.logPlaybackPause=k;f.logPlaybackResume=l;f.logDialogOk=m;f.logDialogNotNow=n;f.logMicAccessCheckFailed=o}),null);
__d("Navigator.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=navigator.permissions;if(c==null)return;var d=c.query;if(!(d==null))return b("bs_caml_option").nullable_to_opt(d.call(c,a))}f.query=a}),null);
__d("MWV2ComposerRoundedCorners.bs",["Locale","react","stylex","useUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={roundedCornerTopRight:{fill:"qbubdy2e",position:"pmk7jnqg",top:"kr520xx4",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerBottomRight:{fill:"qbubdy2e",position:"pmk7jnqg",bottom:"i09qtzwb",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerRtl:{transform:"c3knoul3"},svg:{display:"a8c37x1j"}};function a(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerTopRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"18px",height:"18px",className:h(j.svg),children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-18",y:"0",width:"36",height:"36"}),i.jsx("circle",{fill:"black",cx:"0",cy:"18",r:"18"})]})}),i.jsx("rect",{x:"0",y:"0",width:"18",height:"18",mask:"url(#"+(a+")")})]})})}d={make:a};function c(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerBottomRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"18px",height:"18px",className:h(j.svg),children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-18",y:"0",width:"36",height:"36"}),i.jsx("circle",{fill:"black",cx:"0",cy:"0",r:"18"})]})}),i.jsx("rect",{x:"0",y:"0",width:"18",height:"18",mask:"url(#"+(a+")")})]})})}e={make:c};f.styles=j;f.TopRight=d;f.BottomRight=e}),null);
__d("MAWSecureComposer.bs",["fbt","BootloaderResource","FBID.bs","FileInputAcceptValues.bs","JSResource","LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSCoreIssueNewErrorStoredProcedure","LSMailboxType.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MAWAudioUtils","MAWBackendBridge.bs","MAWChatState","MAWComposerUserMessageRequestInfoText.bs","MAWImagePreProcess","MAWJob.bs","MAWMessageRequestUtil.bs","MAWSecureFileUploadErrorDialog.bs","MAWSecureThreadNonAddressableContactBanner.bs","MAWSendMessage.bs","MAWThreadId.bs","MAWVideoPreProcess","MAWVideoUtils","MWChatViewerChatVisibilityHook","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MWV2ComposerEditor.bs","MWV2ComposerMediaUploadUtil.bs","MWV2FileDropzone.bs","MessagingThreadType.bs","OfflineThreadingId.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cometIsMimeTypeForMedia","promiseDone","react","unrecoverableViolation","useCometAlertDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("JSResource")("MWChatFeatureLimitsBlockedComposer.bs").__setRef("MAWSecureComposer.bs");function a(a){return{}}function k(a){return i.createElement(b("BootloaderResource").read(j).make,a)}d={reasonResource:j,makeProps:a,make:k};function l(a,c){return(c?b("MAWImagePreProcess").imageTranscode(a,"image/webp"):a.type==="image/gif"||a.type==="image/webp"?b("Promise").resolve(a):b("MAWImagePreProcess").imageTranscode(a,"image/jpeg")).then(function(a){return b("Promise").all([b("MAWImagePreProcess").getJpegThumbnailInfo(a,400),b("MAWImagePreProcess").getImageSpec(a),b("Promise").resolve(a)])}).then(function(a){return b("Promise").resolve({TAG:0,_0:a[2],_1:{imageSpec:a[1],thumbnailUrlAndSpec:a[0]}})})}var m=["audio/*"].concat(b("FileInputAcceptValues.bs").allowedVideoTypes);function n(a){a=i.useState(function(){});var c=a[1],d=b("useCometAlertDialog")(),e=d[0],f=104857600;d=function(a){var d=a.some(function(a){return a.size>f});if(d)return b("bs_curry")._2(e,b("MAWSecureFileUploadErrorDialog.bs").maxFileSizeExceeded(100),function(a){});d=b("Promise").all(a.map(function(a){if(a.type==="image/gif"||a.type==="image/webp"||b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return l(a,!1);else if(b("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return b("MAWVideoPreProcess").processRawVideo(a,!1).then(function(a){return b("Promise").all([b("Promise").resolve(a),b("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a)])}).then(function(a){return b("Promise").resolve({TAG:1,_0:a[0],_1:{thumbnailUrlAndSpec:a[1]}})});else return b("MAWAudioUtils").getAudioDurationInSeconds(a).then(function(c){return b("Promise").resolve({TAG:2,_0:a,_1:{durations:c,isPtt:!0}})})})).then(function(a){var d=a.map(function(a){return[a,b("OfflineThreadingId.bs").make(void 0)]});b("bs_curry")._1(c,function(a){return d});a.forEach(function(a){switch(a.TAG|0){case 0:case 1:case 2:return b("bs_curry")._1(b("MAWBackendBridge.bs").optimisticUploadMedia({file:a._0}).fireAndForget,void 0)}});return b("Promise").resolve(void 0)});b("promiseDone")(d,void 0,void 0)};var g=function(a){return b("bs_curry")._1(c,function(b){if(b!==void 0)return b.filter(function(b){return b[1]!==a})})},h=function(a){return b("bs_curry")._1(c,function(a){})};return[a[0],d,g,h]}e={useMediaManager:n};function o(a){}function p(a,c,d,e){if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)){return(d=b("ReQL.bs")).first(d.map(d.filter(d.getKeyRange(b("ReQLTable").table(a,"participants").asc,{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)}),function(c){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"contacts").asc,{hd:c.b,tl:0})),!1,function(a){return b("bs_caml").i64_eq(a.n,b("LSContactBlockedByViewerStatus.bs").unblocked)})})).then(function(a){return b("Promise").resolve(b("bs_belt_Option").getWithDefault(a,!1))})}else return b("Promise").resolve(!1)}function q(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWChatViewerChatVisibilityHook")();return i.useCallback(function(f){if(!(b("bs_caml").i64_ge(a.Z,b("LSAuthorityLevel.bs").authoritative)&&b("LSMessagingThreadTypeUtil.bs").isSecure(a.c)&&e))return;var g=p(c,a.a,a.c,d).then(function(c){if(c){c=b("MAWThreadId.bs").ofThreadKey(a.a);c&&b("bs_curry")._1(b("MAWBackendBridge.bs").sendChatStateFromComposer({threadId:c._0,state:f?b("MAWChatState").TYPING:b("MAWChatState").IDLE}).fireAndForget,void 0)}return b("Promise").resolve(void 0)});b("promiseDone")(g,void 0,void 0)},[c,JSON.stringify(a.Z),JSON.stringify(a.a),JSON.stringify(a.c),e,d])}function c(a){var c=a.thread,d=a.isPreviewThread;a=a.afterSendMessage;var e=a!==void 0?a:o;a=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0);var f=b("ReStore.bs").useHook(void 0),h=n(void 0),j=h[3],p=h[1],r=h[0],s=i.useMemo(function(){return b("bs_belt_Option").getWithDefault(r,[]).map(function(a){var d=a[0]._0;return{a:a[1],b:b("LSMailboxType.bs").messenger,c:b("MWV2ComposerMediaUploadUtil.bs").getAttachmentType(d),d:d.type,e:d.name,f:b("bs_caml_int64").of_int32(d.size),g:void 0,h:c.a,i:void 0,j:URL.createObjectURL(d),k:void 0,l:void 0,m:void 0,n:0,o:!1,p:!1}})},[r]),t=i.useMemo(function(){if(b("bs_caml").i64_eq(c.Z,b("LSAuthorityLevel.bs").optimistic))return b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").secureMessageOverWaGroup);else return!1},[c]),u=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQLTable").table(f,"participants").asc,function(a){return b("bs_caml").i64_eq(a.a,c.a)}),function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.b))})},[c])),v=b("MAWSendMessage.bs").use(void 0),w=function(a,d,h,i,k,m,n,o,p,q){d=r!==void 0?r.length!==0||o!==void 0?!0:m!==void 0:o!==void 0?!0:m!==void 0;var s=a!==void 0?a.trim():d?"":"\ud83d\udc4d";h=function(a){if(t)return b("MAWJob.bs").createGroup.waitUntilCompleted(void 0,u,b("bs_int64").to_string(c.a)).then(function(c){var a=c.error;c=c.value;var d,e=0;a!==void 0||c===void 0?e=1:d=b("MAWThreadId.bs").toThreadKey(c.threadId);if(e===1){var h=g._("Couldn't create group").toString();a=b("LSTransaction.bs").run(f,function(a){return b("LSCoreIssueNewErrorStoredProcedure")(void 0,void 0,h,h,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0);d=b("unrecoverableViolation")("Unable to create group","messenger_e2ee_web")}return b("Promise").resolve(d)});else return b("Promise").resolve(c.a)};var w=function(a){if(s!==""){a=b("MAWThreadId.bs").ofThreadKey(a);if(a)return b("bs_curry")._2(v,a._0,s);else return}},x=function(a){var c=o!==void 0?[[{TAG:2,_0:o.file,_1:{durations:o.duration|0,isPtt:!0}},""]]:[],d=r!==void 0?r:[],e=m!==void 0?window.fetch(m).then(function(a){return a.blob()}).then(function(a){var b=m.includes(".webp?");return l(new File([a],"stickerFromPicker",{type:b?"image/webp":"image/png"}),!b)}).then(function(a){return b("Promise").resolve([[a,""]])}):b("Promise").resolve([]);e=e.then(function(e){e=d.concat(c,e);e.forEach(function(c){c=c[0];var d=b("MAWThreadId.bs").ofThreadKey(a);if(!d)return;d=d._0;switch(c.TAG|0){case 0:var e=c._1;return b("MAWJob.bs").sendMediaMsg.fireAndForget(d,c._0,b("bs_caml_option").some(e.thumbnailUrlAndSpec.jpegThumbnail),e.imageSpec.width,e.imageSpec.height,e.thumbnailUrlAndSpec.width,e.thumbnailUrlAndSpec.height,void 0,void 0);case 1:e=c._1;return b("MAWJob.bs").sendMediaMsg.fireAndForget(d,c._0,b("bs_caml_option").some(e.thumbnailUrlAndSpec.jpegThumbnail),e.thumbnailUrlAndSpec.width,e.thumbnailUrlAndSpec.height,e.thumbnailUrlAndSpec.width,e.thumbnailUrlAndSpec.height,void 0,void 0);case 2:e=c._1;return b("MAWJob.bs").sendMediaMsg.fireAndForget(d,c._0,void 0,void 0,void 0,void 0,void 0,e.durations,e.isPtt)}});return b("Promise").resolve(void 0)});b("promiseDone")(e,void 0,void 0)};i=h(void 0).then(function(a){w(a);return b("Promise").resolve(a)}).then(function(a){x(a);b("bs_curry")._1(e,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(i,void 0,void 0);return b("bs_curry")._1(j,void 0)},x=function(a){if(!b("LSMessagingThreadTypeUtil.bs").isSecure(c.c))return;a=b("MAWThreadId.bs").ofThreadKey(c.a);if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").deleteThread({threadId:a._0}).fireAndForget,void 0)},y=b("MAWMessageRequestUtil.bs").isOneOnOneMessageRequest(c),z=q(c),A=i.useContext(b("MWV2FileDropzone.bs").context);i.useImperativeHandle(A,function(){return b("bs_curry").__1(p)},[p]);return i.jsxs("div",{children:[i.jsx(b("MAWSecureThreadNonAddressableContactBanner.bs").make,{thread:c}),y?i.jsx(b("MAWComposerUserMessageRequestInfoText.bs").make,{thread:c,size:"large",onDeleteThread:x}):null,a?i.jsx(k,{}):i.jsx(b("MWV2ComposerEditor.bs").make,{thread:c,isPreviewThread:d,mediaStaging:s,onSendMessage:w,onAttachmentsAdded:p,onAttachmentRemoved:h[2],onTypingStateChanged:z,supportedFileTypes:m})]})}a=c;f.MWChatFeatureLimitsBlockedComposerLazy=d;f.MediaManager=e;f.make=a}),null);
__d("MWBaseTheme.bs",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={light:a,dark:b,type:"VARIABLES"};f.empty=c}),null);
__d("FocusTable.bs",["FocusTable.react"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("FocusTable.react").createFocusTable(a.query);var c=a[2],d=a[1];a=a[0];var e={make:a},f={make:d},g={make:c};return{table:a,row:d,cell:c,Table:e,Row:f,Cell:g}}f.Make=a}),null);
__d("MWMessageTableFocusTable.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j="messages_table";function a(a,b,c){return c.dataset.scope===j}d=b("FocusTable.bs").Make({query:a});e={key:b("CometKeys").UP};var k={key:b("CometKeys").DOWN},l={key:b("CometKeys").LEFT},m={key:b("CometKeys").RIGHT},n=[{command:e,description:g._("M\u1ee5c tr\u01b0\u1edbc \u0111\u00f3"),handler:function(a){}},{command:k,description:g._("M\u1ee5c ti\u1ebfp theo"),handler:function(a){}},{command:l,description:g._("M\u1ee5c ti\u1ebfp theo"),handler:function(a){}},{command:m,description:g._("M\u1ee5c tr\u01b0\u1edbc \u0111\u00f3"),handler:function(a){}}];function c(a){a=a.children;return i.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:n,xstyle:!1,children:a})}var o,p,q;g=c;f.scopeID=j;f.scopeQuery=a;f.Table_=d;f.Table=o;f.Row=p;f.Cell=q;f.keyUp=e;f.keyDown=k;f.keyLeft=l;f.keyRight=m;f.commandConfigs=n;f.keyCommands=g}),null);
__d("MWMessageCellFocusTable.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.bs","MWMessageTableFocusTable.bs","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=b("focusScopeQueries").tabbableScopeQuery;d=b("FocusTable.bs").Make({query:c});var j={key:b("CometKeys").ESCAPE},k={key:b("CometKeys").ENTER},l={key:b("CometKeys").SPACE},m=g._("Tho\u00e1t kh\u1ecfi v\u00f9ng t\u1eadp trung"),n=g._("V\u00e0o v\u00f9ng t\u1eadp trung");function a(a){var c=a.onEscape,d=a.onEnter,e=a.onSpace;a=a.children;var f=[];c!==void 0&&f.push({command:j,description:m,handler:c});d!==void 0&&f.push({command:k,description:n,handler:d});e!==void 0&&f.push({command:l,description:n,handler:e});return i.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:b("MWMessageTableFocusTable.bs").commandConfigs.concat(f),xstyle:!1,children:a})}var o,p,q;e=a;f.Table_=d;f.Table=o;f.Row=p;f.Cell=q;f.$$escape=j;f.enter=k;f.space=l;f.exitFbt=m;f.enterFbt=n;f.keyCommands=e}),null);
__d("MWTextWithEntities.bs",["CometLink.react","MWMessageCellFocusTable.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){return function(e,f){f={href:f.uri,children:e,xstyle:a};c!==void 0&&(f.target=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.testid=d);return h.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:h.jsx("span",{role:"gridcell",children:h.jsx(b("CometLink.react"),f)})})}}f.linkPlugin=a}),null);
__d("MWLSAdContextCtaParser.bs",["JSResource","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";c=new Set(["ads_context"]);function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs"));var c=a[1],d=a[0];return function(a,b){var e=b.d;if(e==="ads_context")return{TAG:1,_0:function(c){return d({adId:b.b,threadKey:a.banner.a,onClose:function(a){}},function(a){})},_1:c};else return 0}}f.adContextCta=c;f.useHook=a}),null);
__d("MWLSEnsureAdContextExists.bs",["LS.bs","LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure","LSTransaction.bs","MWThreadKey.bs","ReStore.bs","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("useArmadilloDogfoodingUpsellNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useArmadilloDogfoodingUpsellNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=9564,k=h!==void 0?h:h=b("useArmadilloDogfoodingUpsellNUXQuery.graphql");function a(){var a=d("RelayHooks").useRelayEnvironment(),b=i(function(b){c("promiseDone")(d("CometRelay").fetchQuery(a,k,{id:j}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;b(a)},null)},[a]),e=i(function(){d("CometDismissFBNuxMutation").commit(a,j)},[a]),f=i(function(){d("CometLogImpressionFBNuxMutation").commit(a,j)},[a]);return[b,e,f]}g["default"]=a}),98);
__d("MWEncryptedUrl.bs",["invariant","Base64.bs","CancellablePromise.bs","CancellationToken.bs","Crypto.bs","Promise","bs_curry","bs_pervasives","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a,c,d){var e=i.useState(function(){if(c!==void 0)return;else return a}),f=e[1];i.useEffect(function(){var e=b("CancellationToken.bs").make(void 0),h=0;if(c!==void 0&&a!==void 0){var i;i=(i=b("CancellablePromise.bs")).ignoreFailed(void 0,i.then_(e,function(a){var c;switch(d.TAG|0){case 1:c="data:image/jpeg;base64,";break;case 6:c="data:audio/wav;base64,";break;case 7:c="data:video/mp4;base64,";break;default:c=b("bs_pervasives").failwith("Unsupported attachment for encryptedUrl")}b("bs_curry")._1(f,function(d){return c+b("Base64.bs").fromArrayBuffer(a)});return b("Promise").resolve(void 0)},i.then_(e,function(a){var c=a[1],d=c.slice(0,2),e=c.slice(2,14);c=c.slice(14);return b("Crypto.bs").decrypt({name:"AES-GCM",iv:e,additionalData:d,tagLength:128},a[0],c)},i.then_(e,function(a){var d=b("Base64.bs").toArrayBuffer(c);d.byteLength===32||g(0,20660);return b("Promise").all([b("Crypto.bs").importKey("raw",d,{NAME:"Aes",VAL:"AES-GCM"},!1,["decrypt"]),b("Promise").resolve(a)])},i.then_(e,function(a){return a.arrayBuffer()},window.fetch(a))))));b("promiseDone")(i,void 0,void 0)}else h=1;h===1&&b("bs_curry")._1(f,function(b){return a});return e.cancel},[a,c,f]);return e[0]}f.useMaybeEncryptedUrl=a}),null);
__d("XCometMessengerAttachmentMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_attachment_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWChatAttachmentMediaPreview.bs",["fbt","CometImageCover.react","CometPressable.react","FBID.bs","MWEncryptedUrl.bs","XCometMessengerAttachmentMediaControllerRouteBuilder","bs_belt_Option","bs_caml_int64","bs_int64","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=String(18)+"px",l={imageContainer:{verticalAlign:"sf5mxxl7",boxShadow:"m648lm6m",borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",lineHeight:"soycq5t1"},standalone:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"}};function m(a){var c=a.attachmentMediaUrl,d=a.previewUrl,e=a.widthStyle;a=a.decryptionKey;d=b("MWEncryptedUrl.bs").useMaybeEncryptedUrl(d,a,{TAG:1,_0:{isGIF:!1,previewUrl:"",previewHeight:void 0,previewWidth:void 0,appAttribution:void 0,photoFbid:void 0,blurredImageUri:void 0,decryptionKey:void 0,title:void 0}});if(d!==void 0)return j.jsx(b("CometPressable.react"),{"aria-label":g._("M\u1edf \u1ea3nh"),linkProps:{url:c},testid:"attachment-media-image",xstyle:function(a){return[l.standalone]},children:j.jsx(b("CometImageCover.react"),{src:d,style:{maxHeight:String(200)+"px",maxWidth:"100%",minHeight:String(24)+"px",width:e,borderTopLeftRadius:k,borderTopRightRadius:k,borderBottomLeftRadius:k,borderBottomRightRadius:k}})});else return null}c={make:m};function n(a){var c=b("bs_belt_Option").mapWithDefault(a.L,1,b("bs_caml_int64").to_int32),d=b("bs_belt_Option").mapWithDefault(a.K,1,b("bs_caml_int64").to_int32);d=d/c;a=a.K;if(a!==void 0)return(c>200?200*d:b("bs_caml_int64").to_float(a)).toString()+"px";else return"auto"}function a(a){a=a.attachment;var c=a.F;if(c!==void 0)return j.jsx("div",{className:(i||(i=b("stylex")))(l.imageContainer,l.standalone),children:j.jsx(m,{attachmentMediaUrl:b("XCometMessengerAttachmentMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a)),attachment_id:b("FBID.bs").ofStringExn(a.e)}),previewUrl:c,widthStyle:n(a),decryptionKey:a.bi})});else return null}d=200;e=24;var o=!1,p=18;a=a;f.maxHeight=d;f.minHeight=e;f.withAppAttribution=o;f.radius=p;f.radiusStyle=k;f.styles=l;f.MediaPreview=c;f.calculateWidthStyle=n;f.make=a}),null);
__d("MWChatImageInsetShadow.bs",["bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={imageShadow:{position:"pmk7jnqg",boxSizing:"rq0escxv",bottom:"i09qtzwb",end:"n7fi1qx3",start:"j9ispegn",top:"kr520xx4",borderTop:"j9y2yd7c",borderEnd:"n167cdi4",borderBottom:"mp6yeyp0",borderStart:"cknb6mjg",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",pointerEvents:"hzruof5a"}};function a(a){a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return i.jsx("div",{className:(h||(h=b("stylex")))(j.imageShadow,a)})}c=a;f.make=c}),null);
__d("MWChatVideoPlayerControls.react",["VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","react","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return h.jsx("span",{className:"fi2e5rcv jk2qo03r",children:a.children})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=c("useVideoPlayerDefaultControlsVisibility")(),e=b.isControlsVisible;b=b.onUserInteraction;var f=d("VideoPlayerHooks").usePaused();f=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:f});var g=f.bigPlayButtonElement;f=f.bigPlayButtonIsVisible;var j=d("VideoPlayerHooks").useIsFullscreen();e=e&&!f;f=h.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:e,children:j?h.jsxs(h.Fragment,{children:[h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[h.jsx(c("VideoPlayerPlaybackControl.react"),{}),h.jsx(c("VideoPlayerPlaybackTimer.react"),{})]}),h.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:h.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[h.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b}),h.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(d("VideoPlayerControlsGroups.react").Contracted,{children:h.jsx(i,{children:h.jsx(c("VideoPlayerPlaybackControl.react"),{})})}),h.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:h.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[a.hideExpandButton?null:h.jsx(i,{children:h.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b})}),h.jsx(i,{children:h.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})})]})]})});return h.jsxs(h.Fragment,{children:[g,f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerX.react",["VideoPlayerRetryableErrorBoundary.react","VideoPlayerXImpl.react","defaultErrorBoundaryFallback","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn;b=b===void 0?!1:b;var d=a.errorBoundaryFallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]);a=h.jsx(c("VideoPlayerXImpl.react"),babelHelpers["extends"]({VideoPlayerShakaPerformanceLoggerClass:null},a));return b?a:h.jsx(c("VideoPlayerRetryableErrorBoundary.react"),{description:"VideoPlayerX",fallback:(b=d)!=null?b:c("defaultErrorBoundaryFallback"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatVideoPlayer.react",["GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","VideoPlayerDefaultControls.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","getVideoPlayerAutoplayProps","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=function(a,b){switch(a){case"mwchat":return h.jsx(c("MWChatVideoPlayerControls.react"),{hideExpandButton:b===!0});case"default":return h.jsx(c("VideoPlayerDefaultControls.react"),{});case"none":return null;default:return null}};function a(a){var b=a.controls,e=a.fbid,f=a.hdSrc,g=a.hideExpandButton,j=a.initialForceHD,k=a.originalHeight,l=a.originalWidth;a=a.sdSrc;j=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:f,hdSrcPreferred:(f=j)!=null?f:!1,isExternalMedia:!1,sdSrc:a});f=d("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting();if(j==null)return null;a=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:j,typename:"VideoPlayerProgressiveImplementation"}];j=c("getVideoPlayerAutoplayProps")(d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult("unknown",f,!0),"respect_user_settings",null);return h.createElement(c("VideoPlayerX.react"),babelHelpers["extends"]({},j,{implementations:a,key:e,loopCount:-1,originalHeight:k,originalWidth:l,playerOriginOverride:"messaging",portalingEnabled:!1,subOrigin:"messenger_thread",videoFBID:e}),h.jsx(c("VideoPlayerSurface.react"),{children:i(b,g)}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatVideoPlayer.bs",["MWChatVideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatVideoPlayer.react");f.make=a}),null);
__d("MessengerFilePreviewGenerationEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({SCHEDULED_ASYNC_JOB:"scheduled_async_job",ENT_LOAD_FAILURE:"ent_load_failure",ADD_PREVIEWS_START:"add_previews_start",ADD_PREVIEWS_GENERATE_PHOTOS:"add_previews_generate_photos",ADD_PREVIEWS_SUCCESS:"add_previews_success",ADD_PREVIEWS_FAIL:"add_previews_fail",ADD_PREVIEWS_DELETE_PDF:"add_previews_delete_pdf",ADD_PREVIEWS_SAVE_PDF:"add_previews_save_pdf",INVALID_FILE_TYPE:"invalid_file_type",DOWNLOAD_DATA_FAILURE:"download_data_failure",FILE_VIEWER_CLICK:"file_viewer_click",FILE_VIEWER_DIRECT_DOWNLOAD:"file_viewer_direct_download",FILE_VIEWER_IMPRESSION:"file_viewer_impression",FILE_VIEWER_FALLBACK:"file_viewer_fallback",FILE_VIEWER_DOWNLOAD_FROM_HEADER:"file_viewer_download_from_header",FILE_VIEWER_DOWNLOAD_FROM_FALLBACK:"file_viewer_download_from_fallback",FILE_VIEWER_OPEN_FORWARD_DIALOG:"file_viewer_open_forward_dialog",FILE_VIEWER_FORWARD:"file_viewer_forward",FILE_VIEWER_CLOSE:"file_viewer_close"});f["default"]=a}),66);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("606");c=b("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e.exports=c}),null);
__d("MessengerFilePreviewGenerationFalcoEvent.bs",["MessengerFilePreviewGenerationFalcoEvent"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MessengerFilePreviewGenerationFalcoEvent").log(a)}function c(a){b("MessengerFilePreviewGenerationFalcoEvent").logAsync(a)}function d(a){b("MessengerFilePreviewGenerationFalcoEvent").logImmediately(a)}function e(a){b("MessengerFilePreviewGenerationFalcoEvent").logCritical(a)}f.log=a;f.logAsync=c;f.logImmediately=d;f.logCritical=e}),null);
__d("MWFileViewerLogger.bs",["FBID.bs","MessengerFilePreviewGenerationEvent","MessengerFilePreviewGenerationFalcoEvent.bs","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","gkx"],(function(a,b,c,d,e,f){"use strict";function c(c){c=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return b("bs_int64").to_string(b("bs_curry")._1(c,void 0))}var g=b("gkx")("1016");function h(a,c){if(g)return b("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){return{attachment_id:b("bs_caml_option").some(c.attachmentID),entry_point:c.entryPoint,event:a,filesize:b("bs_belt_Option").flatMap(c.attachment,function(a){return b("bs_belt_Option").map(a.i,b("bs_int64").to_string)}),filetype:b("bs_belt_Option").flatMap(c.attachment,function(a){return a.D}),is_rich_preview:c.isRichPreview,message_id:c.messageID.messageId,session_id:c.sessionId,thread_id:b("FBID.bs").ofString(b("bs_int64").to_string(c.thread.a)),thread_type:b("bs_caml_int64").to_int32(c.thread.c)}})}function d(a){return h(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_CLICK,a)}function e(a){return h(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_DIRECT_DOWNLOAD,a)}function i(a,c){if(g)return b("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){var d;return{attachment_id:(d=b("bs_caml_option")).some(c.attachmentId),entry_point:d.nullable_to_opt(c.entryPoint),event:a,filesize:d.nullable_to_opt(c.filesize),filetype:d.nullable_to_opt(c.filetype),file_pages:d.nullable_to_opt(c.filePages),message_id:c.messageId,session_id:c.sessionId,target_id:d.nullable_to_opt(c.targetId),thread_id:d.some(c.threadId),thread_type:d.nullable_to_opt(c.threadType)}})}function j(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_IMPRESSION,a)}function k(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_FALLBACK,a)}function l(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_DOWNLOAD_FROM_HEADER,a)}function m(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_DOWNLOAD_FROM_FALLBACK,a)}function n(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_OPEN_FORWARD_DIALOG,a)}function o(a){return i(b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_FORWARD,a)}function p(a){if(g)return b("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){var c;return{attachment_id:(c=b("bs_caml_option")).some(a.attachmentId),entry_point:c.nullable_to_opt(a.entryPoint),event:b("MessengerFilePreviewGenerationEvent").FILE_VIEWER_CLOSE,filesize:c.nullable_to_opt(a.filesize),filetype:c.nullable_to_opt(a.filetype),file_pages:c.nullable_to_opt(a.filePages),max_scroll_depth:c.nullable_to_opt(a.maxScrollDepth),message_id:a.messageId,session_duration:c.nullable_to_opt(a.sessionDuration),session_id:a.sessionId,thread_id:c.some(a.threadId),thread_type:c.nullable_to_opt(a.threadType)}})}f.generateSessionId=c;f.logFileViewerClick=d;f.logFileViewerDirectDownload=e;f.logFileViewerImpression=j;f.logFileViewerFallback=k;f.logFileViewerDownloadFromHeader=l;f.logFileViewerDownloadFromFallback=m;f.logFileViewerOpenForwardDialog=n;f.logFileViewerForward=o;f.logFileViewerClose=p}),null);
__d("MWFilePressableHooks.bs",["MWFileViewerLogger.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_curry","qex","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachments").asc,{hd:a.threadId,tl:{hd:a.messageId,tl:0}}),1)},[c,a]))}function j(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:a.threadId,tl:0}),1)},[c,a]))}function a(a,c,d,e,f,g){var k=i(a),l=j(a),m=b("bs_belt_Option").isSome(b("bs_belt_Option").flatMap(k,function(a){return a.F})),n=b("qex")._("183")===!0,o=b("qex")._("797")===!0,p=m&&n&&o;return h.useCallback(function(h){d!==void 0&&b("bs_curry")._1(d,h);h={messageID:a,attachmentID:c,thread:l,attachment:k,entryPoint:e,sessionId:f,isRichPreview:p};if(g)return b("MWFileViewerLogger.bs").logFileViewerDirectDownload(h);else return b("MWFileViewerLogger.bs").logFileViewerClick(h)},[l,k,f])}f.useOnPressHandler=a}),null);
__d("XCometMessengerFileControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_file/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWFilePressable.bs",["CometEntryPointDialogTrigger.react","CometErrorBoundary.re","CometPressable.react","CurrentEnvironment","FBID.bs","FBLogger","MWFilePDFViewerModalWrapper.entrypoint","MWFilePressableGlimmer.react","MWFilePressableHooks.bs","MWFileViewerLogger.bs","URI","XCometMessengerFileControllerRouteBuilder","bs_belt_Option","bs_caml_option","bs_curry","bs_int64","qex","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f,g,h,j){return i.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:b("MWFilePDFViewerModalWrapper.entrypoint"),otherProps:{entryPoint:a,sessionID:h,downloadUri:e},preloadParams:{routeParams:{attachment_id:d,message_id:c.messageId,thread_id:b("bs_int64").to_string(c.threadId)}},fallback:function(a){return i.jsx(b("MWFilePressableGlimmer.react"),{})},children:function(a){var c={display:"inline",onPress:function(c){f!==void 0&&b("bs_curry")._1(f,c);return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:j};g!==void 0&&(c.xstyle=b("bs_caml_option").valFromOption(g));return i.jsx(b("CometPressable.react"),c)}})}function k(a,c,d,e,f,g,h,j){d=b("XCometMessengerFileControllerRouteBuilder").buildURL({attachment_id:d,message_id:c.messageId,thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadId))});c={entryPoint:a,sessionID:h,downloadUri:e};a={passthroughProps:c,url:d};h={display:"inline",linkProps:a,overlayDisabled:!0,children:j};f!==void 0&&(h.onPress=b("bs_caml_option").valFromOption(f));g!==void 0&&(h.xstyle=b("bs_caml_option").valFromOption(g));return i.jsx(b("CometPressable.react"),h)}function l(a,c,d,e){a=b("bs_belt_Option").map(a,function(a){return{download:!0,target:"_blank",url:a}});e={display:"inline",overlayDisabled:!0,children:e};a!==void 0&&(e.linkProps=b("bs_caml_option").valFromOption(a));c!==void 0&&(e.onPress=b("bs_caml_option").valFromOption(c));d!==void 0&&(e.xstyle=b("bs_caml_option").valFromOption(d));return i.jsx(b("CometPressable.react"),e)}function m(a,c,d,e,f,g,h){var i=b("qex")._("514")===!0,m=!i,n=b("MWFileViewerLogger.bs").generateSessionId(void 0);f=b("MWFilePressableHooks.bs").useOnPressHandler(c,d,f,a,n,m);m=b("CurrentEnvironment").facebookdotcom;if(i)if(m)return k(a,c,d,e,f,g,n,h);else return j(a,c,d,e,f,g,n,h);else return l(e,f,g,h)}function a(a){var c=a.messageID,d=a.attachmentID,e=a.url,f=a.onPress,g=a.entryPoint,j=a.xstyle;a=a.children;return c!==void 0&&typeof c!=="number"&&c.TAG!==0&&d!==void 0&&e!==void 0?i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:m(g,c._0,b("bs_caml_option").valFromOption(d),e,f,j,a),onError:function(a){a=a?a.message:"Cannot open file viewer";b("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);(h||(h=b("URI"))).goURIOnNewWindow(new h(e))}}):l(e,f,j,a)}c=a;f.makeDialogTrigger=j;f.makePushViewLink=k;f.makeFilePressableDirectDownload=l;f.makeFilePressable=m;f.make=c}),null);
__d("MWChatEphemeralMediaTemporarySeenState.bs",["JSMap.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=new Map();function a(a,c){a=b("JSMap.bs").getOrMake(i,a,function(a){return new Set()});a.add(c)}function c(a,b){a=i.get(a);if(a==null)return!1;else return a.has(b)}function d(a){h.useEffect(function(){return function(b){i["delete"](a)}},[a])}f.markSeenThisSession=a;f.isSeenThisSession=c;f.useEndSessionOnDismount=d}),null);
__d("MWV2ChatBubbleSolid.bs",["bs_belt_Option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={bubble:{paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",color:"ljqsnud1",maxWidth:"odn2s2vf",zIndex:"tkr6xdv7"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},incoming_connect_bot:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"},outgoing_connect_bot:{borderBottomEndRadius:"ihh4hy1g"},precedes_xma:{boxSizing:"rq0escxv",maxWidth:"nqmqzb3c",width:"k4urcfbm",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e"}};function a(a){var c=a.children,d=a.style,e=a.connectTop,f=a.connectBottom,g=a.precedesXMA,k=a.outgoing;a=a.xstyle;g=g!==void 0?g:!1;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble,e?k?j.outgoing_connect_top:j.incoming_connect_top:!1,!g&&f?k?j.outgoing_connect_bot:j.incoming_connect_bot:!1,g?j.precedes_xma:!1,b("bs_belt_Option").getWithDefault(a,!1)),style:d,children:c})}c=a;f.styles=j;f.make=c}),null);
__d("RavenMessagingState.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.permanent=a;f.unseen=c;f.seen=d;f.replayed=e;f.expired=b}),null);
__d("UseCurrentDisplayMode.bs",[],(function(a,b,c,d,e,f){"use strict";a="dark";b="light";f.darkTheme=a;f.lightTheme=b}),null);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWV2ChatEphemeralButton.bs",["fbt","ix","BaseImage_DEPRECATED.react","CometPressable.react","FBID.bs","MDSTextCommon.react","MWChatEphemeralMediaTemporarySeenState.bs","MWV2ChatBubbleSolid.bs","MessagingAttachmentType.bs","RavenMessagingState.bs","TetraIcon.react","UseCurrentDisplayMode.bs","XCometMessengerEphemeralMediaControllerRouteBuilder","bs_caml","bs_caml_option","bs_int64","fbicon","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={image:{verticalAlign:"hu5pjgll"}};function m(a){var c=a.filter;a=a.icon;return k.jsx(b("BaseImage_DEPRECATED.react"),{className:(j||(j=b("stylex")))(l.image),style:{filter:c},src:a.src})}c={styles:l,make:m};function n(a){var c=a.attachment,d=a.children,e=a.ariaLabel;a=a.initiallyUnread;var f=b("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.a)),attachment_id:b("FBID.bs").ofStringExn(c.e),message_id:c.c});c=c.bV;if(c===void 0)return d;if(!(b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").unseen)||b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").seen)&&a))return d;c={linkProps:{url:f},testid:"view-ephemeral-media",overlayRadius:50,children:d};e!==void 0&&(c["aria-label"]=b("bs_caml_option").valFromOption(e));return k.jsx(b("CometPressable.react"),c)}d={make:n};var o=g._("Xem \u1ea3nh"),p=g._("Xem video"),q=b("fbicon")._(h("656360"),20),r={wrapper:{marginTop:"aahdfvyu",marginEnd:"cxmmr5t8",marginBottom:"tvmbv18p",marginStart:"hcukyx3x"},text:{marginStart:"h676nmdw"}};function a(a){var c=a.attachment,d=a.connectTop,e=a.connectBottom;a=a.outgoing;var f=c.f;f=b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").ephemeralImage)?o:b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").ephemeralVideo)?p:void 0;var g=b("useCurrentDisplayMode")(),h=b("MWChatEphemeralMediaTemporarySeenState.bs").isSeenThisSession(b("bs_int64").to_string(c.a),c.e),i=c.bV,l=c.bV,s,t=0;l!==void 0&&b("bs_caml").i64_eq(l,b("RavenMessagingState.bs").unseen)?s=k.jsx(m,{filter:g===b("UseCurrentDisplayMode.bs").darkTheme?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)",icon:q}):t=1;t===1&&(s=k.jsx(b("TetraIcon.react"),{icon:q,color:l!==void 0&&b("bs_caml").i64_eq(l,b("RavenMessagingState.bs").seen)&&h?"primary-icon":"disabled"}));return k.jsx(n,{attachment:c,children:k.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:k.jsx("div",{className:(j||(j=b("stylex")))(r.wrapper),children:k.jsxs(b("MDSTextCommon.react"),{color:i!==void 0&&(b("bs_caml").i64_eq(i,b("RavenMessagingState.bs").unseen)||b("bs_caml").i64_eq(i,b("RavenMessagingState.bs").seen)&&h)?"primary":"disabled",type:"bodyLink3",children:[s,k.jsx("span",{className:j(r.text),children:f!==void 0?f:null})]})}),style:{backgroundColor:"var(--wash)"},connectTop:d,connectBottom:e,outgoing:a}),ariaLabel:f,initiallyUnread:h})}e=a;f.CustomColorIcon=c;f.OpenMediaViewerAction=d;f.styles=r;f.make=e}),null);
__d("MWChatAudioInnerContent.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",justifyContent:"i1fnvgqd",alignItems:"bp9cbjyn",width:"k4urcfbm",height:"datstx6m",position:"l9j0dhe7"}};function a(a){a=a.children;return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatAudioControlButton.bs",["CometPressable.react","CometProgressRingIndeterminate.react","MWChatChatButtonColorConstants.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={pressable:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",width:"b73ngqbp",height:"rgmg9uty",backgroundColor:"q2y6ezfg",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},container:{marginEnd:"fv0vnmcu",marginStart:"ggphbty4",zIndex:"tkr6xdv7"}};function k(a){a=a.content;return i.jsx("svg",{className:(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),width:"24px",height:"24px",viewBox:"0 0 36 36",children:a})}c={make:k};function a(a){var c=a.onPress,d=a.testid,e=a.disabled,f=a.type_,g=a.label;a=a.color;e=e!==void 0?e:!1;var l;switch(f){case 0:l=i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:16});break;case 1:l=i.jsx(k,{content:i.jsx("path",{d:"M11 8.5A1.5 1.5 0 009.5 10v16a1.5 1.5 0 001.5 1.5h4a1.5 1.5 0 001.5-1.5V10A1.5 1.5 0 0015 8.5h-4zm10 0a1.5 1.5 0 00-1.5 1.5v16a1.5 1.5 0 001.5 1.5h4a1.5 1.5 0 001.5-1.5V10A1.5 1.5 0 0025 8.5h-4z",fill:a,fillRule:"evenodd",stroke:"none"})});break;case 2:l=i.jsx(k,{content:i.jsx("path",{d:"M10 25.498V10.502a1.5 1.5 0 012.17-1.342l14.997 7.498c1.105.553 1.105 2.13 0 2.684L12.17 26.84A1.5 1.5 0 0110 25.498z",fill:a,fillRule:"evenodd",stroke:"none"})});break;case 3:l=i.jsx(k,{content:i.jsx("rect",{x:"9",y:"9",width:"18",height:"18",rx:"2",fill:a,fillRule:"evenodd",stroke:"none"})});break}f={"aria-label":g,disabled:e,overlayRadius:"50%",xstyle:function(a){return[j.pressable]},children:l};d!==void 0&&(f.testid=b("bs_caml_option").valFromOption(d));c!==void 0&&(f.onPress=b("bs_caml_option").valFromOption(c));return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:i.jsx(b("CometPressable.react"),f)})}d=a;f.styles=j;f.SvgWithStyles=c;f.make=d}),null);
__d("MWChatAudioPlayerV2Controls.bs",["fbt","MWChatAudioControlButton.bs","bs_belt_Option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.state,d=a.onTogglePlayPause;a=a.color;a=b("bs_belt_Option").getWithDefault(a,"black");var e=i.jsx(b("MWChatAudioControlButton.bs").make,{onPress:function(a){return b("bs_curry")._1(d,1)},testid:"chat-audio-player-pause-button",type_:1,label:g._("T\u1ea1m d\u1eebng"),color:a}),f=i.jsx(b("MWChatAudioControlButton.bs").make,{onPress:function(a){return b("bs_curry")._1(d,0)},testid:"chat-audio-player-play-button",type_:2,label:g._("Ph\u00e1t"),color:a});a=i.jsx(b("MWChatAudioControlButton.bs").make,{testid:"chat-audio-player-playpause-button",disabled:!0,type_:0,label:g._("\u0110ang t\u1ea3i"),color:a});switch(c){case 0:return e;case 1:return f;case 2:return a}}c=a;f.make=c}),null);
__d("MWChatAudioPlayerV2Scrubber.bs",["fbt","BaseSlider.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={};var k={scrubber:{position:"pmk7jnqg",width:"k4urcfbm"},root:{height:"tv7at329",top:"bk00n993",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"},rail:{height:"datstx6m",backgroundColor:"g5ia77u1"},thumb:{backgroundColor:"g5ia77u1",borderTop:"gr3eweyx",borderEnd:"nhozmrxx",borderBottom:"a8a460vb",borderStart:"p6akugab",boxShadow:"b5t2w8d8",transform:"mc7f9g4v"},track:{zIndex:"du4w35lb",height:"datstx6m",transitionDuration:"akwz6i9j",transitionProperty:"sk63wpmh",transitionTimingFunction:"sgqwj88q",backgroundColor:"rn3djb20",borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e",opacity:"h34q056n"},outgoingTrack:{backgroundColor:"q2y6ezfg"},smoothTrack:{transitionDuration:"l9l1gxur"}};function a(a){var c=a.progress,d=a.duration,e=a.outgoing,f=a.state,h=a.onChange;a=a.onChangeSettled;f=f===0;c=d===0?0:c/d*100;return j.jsx("div",{className:(i||(i=b("stylex")))(k.scrubber),children:j.jsx(b("BaseSlider.react"),{max:100,min:0,ariaLabel:g._("Thanh k\u00e9o \u00e2m thanh"),onChange:h,onChangeSettled:a,step:1,values:[c],xstyleRoot:k.root,xstyleRail:k.rail,xstyleThumb:k.thumb,xstyleTrack:[k.track,e?k.outgoingTrack:!1,f?k.smoothTrack:!1]})})}d=a;f.Scrubber=c;f.styles=k;f.make=d}),null);
__d("MWChatAudioTimestamp.bs",["bs_belt_Option","formatDurationSeconds","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{marginEnd:"fv0vnmcu",marginStart:"ggphbty4",height:"oeo4gz9l",width:"chsygg5i",backgroundColor:"q2y6ezfg",borderTopStartRadius:"pdihbav5",borderTopEndRadius:"fo8ltl2p",borderBottomEndRadius:"b8f6b1oh",borderBottomStartRadius:"q0b78ich",display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",zIndex:"tkr6xdv7"},timestamp:{fontSize:"e9vueds3",color:"moj8do2t",fontFamily:"rsyw3t7h",fontWeight:"lrazzd5p",fontStyle:"tbxw36s4"}};function a(a){var c=a.time,d=a.color;a=a.testid;c=b("formatDurationSeconds")(c);d=b("bs_belt_Option").map(d,function(a){return{color:a}});return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),"data-testid":a,children:i.jsx("div",{className:h(j.timestamp),style:d,children:c})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatAudioPlayerV2View.bs",["MWChatAudioInnerContent.bs","MWChatAudioPlayerV2Controls.bs","MWChatAudioPlayerV2Scrubber.bs","MWChatAudioTimestamp.bs","bs_js_math","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.state,d=a.progress,e=a.duration,f=a.onTogglePlayPause,g=a.outgoing,i=a.color,j=a.onChangeProgress,k=a.onChangeProgressSettled;a=a.preview;a=a!==void 0?a:!1;var l=b("bs_js_math").ceil(e-d);return h.jsxs(b("MWChatAudioInnerContent.bs").make,{children:[h.jsx(b("MWChatAudioPlayerV2Scrubber.bs").make,{progress:d,duration:e,outgoing:g,state:c,onChange:j,onChangeSettled:k}),h.jsx(b("MWChatAudioPlayerV2Controls.bs").make,{state:c,onTogglePlayPause:f,outgoing:g,color:g?i:void 0}),h.jsx(b("MWChatAudioTimestamp.bs").make,{time:l,color:a?i:void 0,testid:"chat-audio-player-timestamp"})]})}c=a;f.make=c}),null);
__d("MediaElement.bs",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=4;f.cHAVE_NOTHING=a;f.cHAVE_METADATA=b;f.cHAVE_CURRENT_DATA=c;f.cHAVE_FUTURE_DATA=d;f.cHAVE_ENOUGH_DATA=e}),null);
__d("MWChatAudioPlayerAudioTagImpl.bs",["MWChatAudioLog.bs","MWChatAudioPlayerV2View.bs","MediaElement.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.url,d=a.duration,e=a.controlState,f=a.progress,g=a.onToggleState,i=a.onSetProgress,j=a.outgoing,k=a.color,l=a.onTogglePlayPause;a=a.preview;var m=h.useRef(null),n=h.useRef(!1),o=h.useState(function(){return!1}),p=o[1],q=o[0],r=function(a){a=m.current;if(a==null)return 0;else return a.currentTime},s=function(a){a=m.current;if(!(a==null)){n.current=!1;a.play();b("bs_curry")._1(g,0);l!==void 0&&b("bs_curry")._1(l,!0);if(f!==0)return b("MWChatAudioLog.bs").logPlaybackResume(d,f);else return b("MWChatAudioLog.bs").logPlaybackStart(d)}},t=function(a){var c=m.current;if(!(c==null)){c.currentTime=a;return b("bs_curry")._1(i,a)}},u=function(a){a=m.current;if(!(a==null)){a.pause();b("bs_curry")._1(g,1);l!==void 0&&b("bs_curry")._1(l,!1);return b("MWChatAudioLog.bs").logPlaybackPause(d,f)}};o=function(a){if(a===0)return s(void 0);else if(a===1)return u(void 0);else return};var v=function(b){var a=n.current;e!==0||a||(n.current=!0);n.current&&u(void 0);if(!(b==null))return t(b/100*d)},w=function(a){if(n.current)return s(void 0)},x=function(a){if(!q){b("bs_curry")._1(p,function(a){return!0});return b("bs_curry")._1(g,1)}};h.useEffect(function(){var a=m.current;if(!(a==null)){a.readyState>=b("MediaElement.bs").cHAVE_ENOUGH_DATA&&x(void 0);return}},[]);return h.jsxs(h.Fragment,{children:[h.jsx("audio",{src:c,ref:m,onEnded:function(a){setTimeout(function(a){u(void 0);if(r(void 0)>0)return t(0)},500)},onTimeUpdate:function(a){return b("bs_curry")._1(i,r(void 0))},onCanPlay:function(a){return x(void 0)},onWaiting:function(a){if(e===0)return b("bs_curry")._1(g,2)},onPlaying:function(a){if(e===2)return b("bs_curry")._1(g,0)}}),h.jsx(b("MWChatAudioPlayerV2View.bs").make,{state:e,progress:f,duration:d,onTogglePlayPause:o,outgoing:j,color:k,onChangeProgress:v,onChangeProgressSettled:w,preview:a})]})}c=a;f.make=c}),null);
__d("MWChatAudioPlayer.bs",["MWChatAudioPlayerAudioTagImpl.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={progress:0,controlState:2};function j(a,b){if(typeof b!=="number")return{progress:b._0,controlState:a.controlState};switch(b){case 0:return{progress:a.progress,controlState:1};case 1:return{progress:a.progress,controlState:0};case 2:return{progress:a.progress,controlState:2}}}function a(a){var c=a.url,d=a.duration,e=a.outgoing,f=a.color,g=a.onTogglePlayPause;a=a.preview;a=a!==void 0?a:!1;var k=h.useReducer(j,i),l=k[1];k=k[0];d=d/1e3;var m=function(a){return b("bs_curry")._1(l,{_0:a})},n=function(a){switch(a){case 0:return b("bs_curry")._1(l,1);case 1:return b("bs_curry")._1(l,0);case 2:return b("bs_curry")._1(l,2)}};return h.jsx(b("MWChatAudioPlayerAudioTagImpl.bs").make,{url:c,duration:d,controlState:k.controlState,progress:k.progress,onToggleState:n,onSetProgress:m,outgoing:e,color:f,onTogglePlayPause:g,preview:a})}c=a;f.cINIT_STATE=i;f.reducer=j;f.make=c}),null);
__d("MWChatAudioRoot.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",alignItems:"bp9cbjyn",height:"tv7at329",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",position:"l9j0dhe7"}};function a(a){var c=a.children;a=a.testid;var d={className:(h||(h=b("stylex")))(j.container)};a!==void 0&&(d["data-testid"]=a);return i.createElement("div",d,c)}c=a;f.styles=j;f.make=c}),null);
__d("WAResultOrError",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{success:!1,error:a}}function b(a){return{success:!0,value:a}}f.makeError=a;f.makeSuccess=b}),66);
__d("WABinary",["WAHex"],(function(a,b,c,d,e,f,g){"use strict";var h=65533,i=10,j=new Uint8Array(i),k=new Uint8Array(0);a=function(){function a(b,c){var d=this;b===void 0&&(b=k);c===void 0&&(c=!1);this.write=function(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?void 0:arguments[b];typeof c==="string"?d.writeString(c):typeof c==="number"?d.writeUint8(c):c instanceof a?d.writeBinary(c):c instanceof ArrayBuffer?d.writeBuffer(c):c instanceof Uint8Array&&d.writeByteArray(c)}};b instanceof ArrayBuffer?(this.$1=new Uint8Array(b),this.$2=this.$4=b.byteLength):b instanceof Uint8Array&&(this.$1=b,this.$2=this.$4=b.length);this.$5=0;this.$6=this.$3=0;this.$7=null;this.$8=c;this.$9=0;this.$10=0}var b=a.prototype;b.size=function(){return this.$2-this.$3};b.peek=function(a,b){this.$9++;var c=this.$3,d=this.$5;try{return a(this,b)}finally{this.$9--,this.$3=c-(this.$5-d)}};b.advance=function(a){this.$11(a)};b.readWithViewParser=function(a,b,c,d){return b(this.$12(),this.$11(a),a,c,d)};b.readWithBytesParser=function(a,b,c,d){return b(this.$1,this.$11(a),a,c,d)};b.readUint8=function(){return p(this,1,r,!1)};b.readInt8=function(){return p(this,1,r,!0)};b.readUint16=function(a){a===void 0&&(a=this.$8);return p(this,2,s,a)};b.readInt32=function(a){a===void 0&&(a=this.$8);return p(this,4,t,a)};b.readUint32=function(a){a===void 0&&(a=this.$8);return p(this,4,u,a)};b.readInt64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,U,a)};b.readUint64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,V,a)};b.readLong=function(a,b){b===void 0&&(b=this.$8);return p(this,8,v,a,b)};b.readFloat32=function(a){a===void 0&&(a=this.$8);return p(this,4,w,a)};b.readFloat64=function(a){a===void 0&&(a=this.$8);return p(this,8,x,a)};b.readVarInt=function(a){var b=this.size();b=q(this,0,y,b);return q(this,b,z,a)};b.readBuffer=function(a){a===void 0&&(a=this.size());return a===0?new ArrayBuffer(0):q(this,a,A)};b.readByteArray=function(a){a===void 0&&(a=this.size());return a===0?new Uint8Array(0):q(this,a,B)};b.readBinary=function(b,c){b===void 0&&(b=this.size());c===void 0&&(c=this.$8);if(b===0)return new a(void 0,c);b=q(this,b,B);return new a(b,c)};b.indexOf=function(a){if(a.length===0)return 0;var b=this.$1,c=this.$2,d=this.$3,e=0,f=d;for(var g=d;g<c;g++)if(b[g]===a[e]){e===0&&(f=g);e++;if(e===a.byteLength)return g-d-a.byteLength+1}else e>0&&(e=0,g=f);return-1};b.readString=function(a){return q(this,a,C)};b.ensureCapacity=function(a){this.$13(this.$3+a)};b.ensureAdditionalCapacity=function(a){this.$13(this.$4+a)};b.writeToView=function(a,b,c,d){var e=this.$14(a);return b(this.$12(),e,a,c,d)};b.writeToBytes=function(a,b,c,d){var e=this.$14(a);return b(this.$1,e,a,c,d)};b.writeUint8=function(a){S(a,0,256,"uint8"),E(this,1,F,a,!1)};b.writeInt8=function(a){S(a,-128,128,"signed int8"),E(this,1,F,a,!0)};b.writeUint16=function(a,b){b===void 0&&(b=this.$8),S(a,0,65536,"uint16"),D(this,2,G,a,b)};b.writeInt16=function(a,b){b===void 0&&(b=this.$8),S(a,-32768,32768,"signed int16"),D(this,2,H,a,b)};b.writeUint32=function(a,b){b===void 0&&(b=this.$8),S(a,0,4294967296,"uint32"),D(this,4,I,a,b)};b.writeInt32=function(a,b){b===void 0&&(b=this.$8),S(a,-2147483648,2147483648,"signed int32"),D(this,4,J,a,b)};b.writeUint64=function(a,b){b===void 0&&(b=this.$8),S(a,0,18446744073709552e3,"uint64"),D(this,8,K,a,b)};b.writeInt64=function(a,b){b===void 0&&(b=this.$8),S(a,-9223372036854776e3,9223372036854776e3,"signed int64"),D(this,8,K,a,b)};b.writeFloat32=function(a,b){b===void 0&&(b=this.$8),D(this,4,L,a,b)};b.writeFloat64=function(a,b){b===void 0&&(b=this.$8),D(this,8,M,a,b)};b.writeVarInt=function(a){S(a,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var b=a<0;a=b?-a:a;var c=Math.floor(a/4294967296);a=a-c*4294967296;b&&(c=~c,a===0?c++:a=-a);b=R(c,a);E(this,b,N,c,a)};b.writeVarIntFromHexLong=function(a){var b=d("WAHex").hexLongIsNegative(a);a=b?d("WAHex").negateHexLong(a):a;a=d("WAHex").hexLongToHex(a);var c=0,e=0;for(var f=0;f<d("WAHex").NUM_HEX_IN_LONG;f++)c=c<<4|e>>>28,e=e<<4|d("WAHex").hexAt(a,f);b&&(c=~c,e===0?c++:e=-e);a=R(c,e);E(this,a,N,c,e)};b.writeBinary=function(a){a=a.peek(function(a){return a.readByteArray()});if(a.length){var b=this.$14(a.length);this.$1.set(a,b)}};b.writeBuffer=function(a){this.writeByteArray(new Uint8Array(a))};b.writeByteArray=function(a){var b=this.$14(a.length);this.$1.set(a,b)};b.writeBufferView=function(a){this.writeByteArray(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))};b.writeString=function(a){E(this,n(a),O,a)};b.writeHexLong=function(a,b){b===void 0&&(b=this.$8),D(this,8,P,a,b)};b.writeBytes=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++)S(b[d],0,256,"byte");E(this,b.length,Q,b)};b.writeAtomically=function(a,b){this.$10++;var c=this.$4,d=this.$5;try{a=a(this,b);c=this.$4;d=this.$5;return a}finally{this.$10--,this.$4=c-(this.$5-d)}};b.writeWithVarIntLength=function(a,b){var c=this.$4;a=this.writeAtomically(a,b);b=this.$4;this.writeVarInt(b-c);var d=this.$4-b,e=this.$1;for(var f=0;f<d;f++)j[f]=e[b+f];for(var f=b-1;f>=c;f--)e[f+d]=e[f];for(var b=0;b<d;b++)e[c+b]=j[b];return a};a.build=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=0;for(var f=0;f<c.length;f++){var g=c[f];typeof g==="string"?e+=n(g):typeof g==="number"?e++:g instanceof a?e+=g.size():g instanceof ArrayBuffer?e+=g.byteLength:g instanceof Uint8Array&&(e+=g.length)}var h=new a();h.ensureCapacity(e);h.write.apply(h,arguments);return h};b.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))};b.$11=function(a){if(a<0)throw new Error("ReadError: given negative number of bytes to read");var b=this.$3;a=b+a;if(a>this.$2)throw new Error(b===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");this.$3=a;this.$9||(this.$6=a);return b};b.$13=function(a){var b=this.$1;if(a<=b.length)return a;else{var c=this.$6;a=a-c;var d=Math.max(a,2*(b.length-c),64);d=new Uint8Array(d);c?(d.set(b.subarray(c)),this.$5+=c,this.$3-=c,this.$2-=c,this.$4-=c,this.$6=0):d.set(b);this.$1=d;this.$7=null;return a}};b.$14=function(a){a=this.$13(this.$4+a);var b=this.$4;this.$4=a;this.$10||(this.$2=a);return b};return a}();var l="",m=0;function n(a){if(a===l)return m;var b=a.length,c=0;for(var d=0;d<b;d++){var e=a.charCodeAt(d);if(e<128)c++;else if(e<2048)c+=2;else if(e<55296||57344<=e&&e<=65535)c+=3;else if(55296<=e&&e<56320&&d+1!==b){e=a.charCodeAt(d+1);56320<=e&&e<57344?(d++,c+=4):c+=3}else c+=3}l=a;return m=c}function o(a,b,c){var d=b>>21;if(!a)return d===0;else{a=b&2097151;b=Boolean(a||c);return d===0||d===-1&&b}}function p(a,b,c,d,e){return a.readWithViewParser(b,c,d,e)}function q(a,b,c,d,e){return a.readWithBytesParser(b,c,d,e)}function r(a,b,c,d){return d?a.getInt8(b):a.getUint8(b)}function s(a,b,c,d){return a.getUint16(b,d)}function t(a,b,c,d){return a.getInt32(b,d)}function u(a,b,c,d){return a.getUint32(b,d)}function v(a,b,c,d,e){c=a.getInt32(e?b+4:b,e);a=a.getInt32(e?b:b+4,e);return d(c,a)}function w(a,b,c,d){return a.getFloat32(b,d)}function x(a,b,c,d){return a.getFloat64(b,d)}function y(a,b,c,d){c=Math.min(d,i);d=0;var e=128;while(d<c&&e&128)e=a[b+d++];if(d===i&&e>1)throw new Error("ParseError: varint exceeds 64 bits");else if(e&128)return d+1;return d}function z(b,c,d,a){var e=0,f=0,g=d;d===i&&(g--,f=b[c+g]&1);for(var d=g-1;d>=0;d--)e=e<<7|f>>>25,f=f<<7|b[c+d]&127;return a(e,f)}function A(a,b,c){b=b+a.byteOffset;a=a.buffer;return b===0&&c===a.byteLength?a:a.slice(b,b+c)}function B(a,b,c){return a.subarray(b,b+c)}function C(a,b,c){c=b+c;var d=[],e=null;for(var b=b;b<c;b++){d.length>5e3&&(e||(e=[]),e.push(String.fromCharCode.apply(String,d)),d=[]);var f=a[b]|0;if((f&128)===0)d.push(f);else if((f&224)===192){var g=W(a,b+1,c);if(g){b++;g=(f&31)<<6|g&63;g>=128?d.push(g):d.push(h)}else d.push(h)}else if((f&240)===224){g=W(a,b+1,c);var i=W(a,b+2,c);if(g&&i){b+=2;i=(f&15)<<12|(g&63)<<6|i&63;i>=2048&&!(55296<=i&&i<57344)?d.push(i):d.push(h)}else g?(b++,d.push(h)):d.push(h)}else if((f&248)===240){i=W(a,b+1,c);g=W(a,b+2,c);var j=W(a,b+3,c);if(i&&g&&j){b+=3;f=(f&7)<<18|(i&63)<<12|(g&63)<<6|j&63;if(f>=65536&&f<=1114111){j=f-65536;d.push(55296|j>>10,56320|j&1023)}else d.push(h)}else i&&g?(b+=2,d.push(h)):i?(b++,d.push(h)):d.push(h)}else d.push(h)}f=String.fromCharCode.apply(String,d);if(e){e.push(f);return e.join("")}else return f}function D(a,b,c,d,e){return a.writeToView(b,c,d,e)}function E(a,b,c,d,e){return a.writeToBytes(b,c,d,e)}function F(a,b,c,d){a[b]=d}function G(a,b,c,d,e){a.setUint16(b,d,e)}function H(a,b,c,d,e){a.setInt16(b,d,e)}function I(a,b,c,d,e){a.setUint32(b,d,e)}function J(a,b,c,d,e){a.setInt32(b,d,e)}function K(a,b,c,d,e){c=d<0;d=c?-d:d;var f=Math.floor(d/4294967296);d=d-f*4294967296;c&&(f=~f,d===0?f++:d=-d);a.setUint32(e?b+4:b,f,e);a.setUint32(e?b:b+4,d,e)}function L(a,b,c,d,e){a.setFloat32(b,d,e)}function M(a,b,c,d,e){a.setFloat64(b,d,e)}function N(a,b,c,d,e){d=d;e=e;c=b+c-1;for(var b=b;b<c;b++)a[b]=128|e&127,e=d<<25|e>>>7,d>>>=7;a[c]=e}function O(a,b,c,d){c=b;b=d.length;for(var e=0;e<b;e++){var f=d.charCodeAt(e);if(f<128)a[c++]=f;else if(f<2048)a[c++]=192|f>>6,a[c++]=128|f&63;else if(f<55296||57344<=f)a[c++]=224|f>>12,a[c++]=128|f>>6&63,a[c++]=128|f&63;else if(55296<=f&&f<56320&&e+1!==b){var g=d.charCodeAt(e+1);if(56320<=g&&g<57344){e++;f=65536+((f&1023)<<10|g&1023);a[c++]=240|f>>18;a[c++]=128|f>>12&63;a[c++]=128|f>>6&63;a[c++]=128|f&63}else a[c++]=239,a[c++]=191,a[c++]=189}else a[c++]=239,a[c++]=191,a[c++]=189}}function P(a,b,c,e,f){c=d("WAHex").hexLongIsNegative(e);e=d("WAHex").hexLongToHex(e);var g=0,h=0;for(var i=0;i<16;i++)g=g<<4|h>>>28,h=h<<4|d("WAHex").hexAt(e,i);c&&(g=~g,h===0?g++:h=-h);a.setUint32(f?b+4:b,g,f);a.setUint32(f?b:b+4,h,f)}function Q(a,b,c,d){for(var e=0;e<c;e++)a[b+e]=d[e]}function R(a,b){var c;a?(c=5,a=a>>>3):(c=1,a=b>>>7);while(a)c++,a>>>=7;return c}function S(a,b,c,d){if(typeof a!=="number"||a!==a||Math.floor(a)!==a||a<b||a>=c)throw new TypeError(typeof a==="string"?'WriteError: string "'+a+'" is not a valid '+d:"WriteError: "+String(a)+" is not a valid "+d)}function T(a,b,c){var d=o(a,b,c),e;b>=0?e=b:e=a?b:4294967296+b;a=c>=0?c:4294967296+c;b=e*4294967296+a;if(!d)throw new Error("ReadError: integer exceeded 53 bits ("+b+")");return b}function U(a,b){return T(!0,a,b)}function V(a,b){return T(!1,a,b)}function W(a,b,c){if(b>=c)return 0;c=a[b]|0;return(c&192)===128?c:0}g.Binary=a;g.numUtf8Bytes=n;g.longFitsInDouble=o;g.parseInt64OrThrow=U;g.parseUint64OrThrow=V}),98);
__d("WACryptoUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return g(new Uint8Array(a),new Uint8Array(b))}function g(a,b){if(a.length!==b.length)return!1;var c=1,d=a.length;for(var e=0;e<d;e++)c&=a[e]===b[e]?1:0;return c!==0}function b(a){if(a!==(a|0))throw new Error("bound must be int32");if(a<=0)throw new Error("bound must not be positive");var b=new Int32Array(1),c=-1>>>1;c=a*Math.floor(c/a);var d=-1;while(d===-1){self.crypto.getRandomValues(b);var e=b[0]>>>1;e<c&&(d=e%a)}return d}f.areBuffersEqual=a;f.areBytesEqual=g;f.randomNumberLessThan=b}),66);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){"use strict";a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];n=o[1];var p=o[0];g.push(p);j.push(n);if((n&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((n&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){p=o[2];if(typeof p.cast==="function")f[m]=p;else{n=!0;o=0;for(var q in p)n&&q!==o++&&(n=!1);var r=void 0;if(n){r=[];for(var n=0;n<o;n++)r.push(!0)}else{r={};for(var s in p)r[p[s]]=!0}f[m]=r}}else f[m]=null}var t={};n=function(a){l[a].forEach(function(b){t[b]||(t[b]=[]),t[b].push(a)})};for(var u in l)n(u);o=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];p=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];r=new h(e,g,j,k,f,l,t,o,p);a.internalCompiledSpec=r;return r}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k===void 0)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!==void 0){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!==void 0&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(l(),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(k(),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j(),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(i(),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d("WAProtoConst").TYPE_MASK,r=t[q];if(r===void 0)throw new Error("Can not find the validator for type "+q);if(o&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!==void 0)if(!Array.isArray(p))d("WALogger").LOG(h(),s(p)).color("red"),m={path:[n],error:"repeated field must be array"};else{q=g[b];for(var o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+"["+o+"]")}else if(p!==void 0){m=r(p,g[b]);m&&m.path.push(n);o=j[n];o&&o.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!=="undefined"&&(m={path:[b],error:"oneof has fields '"+n+"' and '"+c+"' set"})})});k[e[b]]&&(m={path:[n],error:"tag "+e[b]+" is reserved"});l[n]&&(m={path:[n],error:"field name is reserved"})}};for(var n=0;n<c.length&&!m;n++)b(n);return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("WAProtoDecode",["WABinary","WAHasProperty","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function b(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!0);d("WAProtoValidate").checkRequirements(a,b);return b}function e(a){if(c("WAHasProperty")(a,"unsafeUnknownFields"))return a.unsafeUnknownFields;else return null}function h(a,b,c){if(a!==d("WAProtoUtils").typeToEncType(b))throw new Error("FormatError: "+c+" encoded with wire type "+a)}function i(a,b,c){switch(b){case d("WAProtoConst").TYPES.INT32:return j(c,-2147483648,2147483648,a,d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.INT64:return c.readVarInt(k);case d("WAProtoConst").TYPES.UINT32:return j(c,0,4294967296,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.UINT64:return c.readVarInt(l);case d("WAProtoConst").TYPES.SINT32:b=j(c,0,4294967296,a,d("WABinary").parseInt64OrThrow);return b&1?~(b>>>1):b>>>1;case d("WAProtoConst").TYPES.SINT64:return c.readVarInt(m);case d("WAProtoConst").TYPES.BOOL:return!!j(c,0,2,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.ENUM:return c.readVarInt(d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.FIXED64:return c.readLong(l,!0);case d("WAProtoConst").TYPES.SFIXED64:return c.readLong(k,!0);case d("WAProtoConst").TYPES.DOUBLE:return c.readFloat64(!0);case d("WAProtoConst").TYPES.STRING:return c.readString(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.BYTES:return c.readBuffer(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.FIXED32:return c.readUint32(!0);case d("WAProtoConst").TYPES.SFIXED32:return c.readInt32(!0);case d("WAProtoConst").TYPES.FLOAT:return c.readFloat32(!0)}}function j(a,b,c,d,e){a=a.readVarInt(e);if(a<b||a>=c)throw new Error("FormatError: "+d+" encoded with out-of-range value "+a);return a}function k(a,b){var c=d("WABinary").longFitsInDouble(!0,a,b);if(c){c=o(b);return a*4294967296+c}else{c=a<0;var e;c?e=b===0?-a:~a:e=a;a=c?-b:b;return d("WAHex").createHexLongFrom32Bits(e,a,c)}}function l(a,b){var c=d("WABinary").longFitsInDouble(!1,a,b);if(c){c=o(a);var e=o(b);return c*4294967296+e}else return d("WAHex").createHexLongFrom32Bits(a,b)}function m(a,b){var c=a>>>1;a=a<<31|b>>>1;b&1&&(c=~c,a=~a);return k(c,a)}function n(a,b,c,e){var f=d("WAProtoCompile").compileSpec(a),g=f.names,k=f.fields,l=f.types,m=f.meta,o=f.oneofToFields,p=f.fieldToOneof,q=f.reservedTags,r=f.reservedFields;f=a.internalDefaults;var s=c||babelHelpers["extends"]({},f)||{};for(var a=0;a<g.length;a++)l[a]&d("WAProtoConst").FLAGS.REPEATED&&(s[g[a]]=[]);var t=0;c=k[0];while(b.size()){f=j(b,0,4294967296,"field and enc type",d("WABinary").parseInt64OrThrow);var u=f&7,v=f>>>3;if(v!==c){a=t;do++t===k.length&&(t=0),c=k[t];while(v!==c&&t!==a)}if(v===c)(function(){var a=g[t],c=l[t];h(u,c,a);var f=c&d("WAProtoConst").TYPE_MASK,j=m[t];if(c&d("WAProtoConst").FLAGS.PACKED){var k=b.readVarInt(d("WABinary").parseUint64OrThrow);k=b.readBinary(k);while(k.size()){var w=i(a,f,k);(f!==d("WAProtoConst").TYPES.ENUM||j[w]||j.cast(w)!==void 0)&&s[a].push(w)}}else if(f===d("WAProtoConst").TYPES.MESSAGE){w=b.readVarInt(d("WABinary").parseUint64OrThrow);k=b.readBinary(w);if(c&d("WAProtoConst").FLAGS.REPEATED)s[a].push(n(j,k,void 0,e));else{w=s[a];s[a]=n(j,k,w,e)}}else{k=i(a,f,b);(f!==d("WAProtoConst").TYPES.ENUM||j[k]||j.cast(k)!==void 0)&&(c&d("WAProtoConst").FLAGS.REPEATED?s[a].push(k):s[a]=k)}w=p[a];w&&typeof s[a]!=="undefined"&&w.forEach(function(b){b=o[b].filter(function(b){return b!==a});b.forEach(function(a){delete s[a]})});(q[v]||r[a])&&delete s[a]})();else if(e){s.unsafeUnknownFields||(s.unsafeUnknownFields={});f=void 0;switch(u){case d("WAProtoConst").ENC.VARINT:f=b.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:f=b.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:f=b.readBinary(b.readVarInt(d("WABinary").parseUint64OrThrow));break;case d("WAProtoConst").ENC.BIT32:f=b.readBinary(4);break}s.unsafeUnknownFields[v]=f}else u===d("WAProtoConst").ENC.VARINT?b.readVarInt(d("WABinary").parseInt64OrThrow):u===d("WAProtoConst").ENC.BIT64?b.advance(8):u===d("WAProtoConst").ENC.BINARY?b.advance(b.readVarInt(d("WABinary").parseUint64OrThrow)):u===d("WAProtoConst").ENC.BIT32&&b.advance(4)}return s}function o(a){return a>=0?a:4294967296+a}g.decodeProto=a;g.decodeProtoWithUnknowns=b;g.getUnknownFields=e}),98);
__d("WAProtoEncode",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArray()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(var g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;function b(b,c){for(var d=0;d<c.length;d++)a(b,c[d])}return function(a,c){a.writeWithVarIntLength(b,c)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l===void 0&&c&&(l=c[k]);if(l!==void 0){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(var r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else{a.writeVarInt(k);o=m[p];o(a,l,q)}}}}g.encodeProto=a;g.encodeErrorInfo=b}),98);
__d("WASignalLocalStorageProtocol.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={},q={};a.internalSpec={sessionVersion:[1,d("WAProtoConst").TYPES.UINT32],localIdentityPublic:[2,d("WAProtoConst").TYPES.BYTES],remoteIdentityPublic:[3,d("WAProtoConst").TYPES.BYTES],rootKey:[4,d("WAProtoConst").TYPES.BYTES],previousCounter:[5,d("WAProtoConst").TYPES.UINT32],senderChain:[6,d("WAProtoConst").TYPES.MESSAGE,e],receiverChains:[7,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,e],pendingKeyExchange:[8,d("WAProtoConst").TYPES.MESSAGE,c],pendingPreKey:[9,d("WAProtoConst").TYPES.MESSAGE,b],remoteRegistrationId:[10,d("WAProtoConst").TYPES.UINT32],localRegistrationId:[11,d("WAProtoConst").TYPES.UINT32],needsRefresh:[12,d("WAProtoConst").TYPES.BOOL],aliceBaseKey:[13,d("WAProtoConst").TYPES.BYTES]};b.internalSpec={preKeyId:[1,d("WAProtoConst").TYPES.UINT32],signedPreKeyId:[3,d("WAProtoConst").TYPES.INT32],baseKey:[2,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={sequence:[1,d("WAProtoConst").TYPES.UINT32],localBaseKey:[2,d("WAProtoConst").TYPES.BYTES],localBaseKeyPrivate:[3,d("WAProtoConst").TYPES.BYTES],localRatchetKey:[4,d("WAProtoConst").TYPES.BYTES],localRatchetKeyPrivate:[5,d("WAProtoConst").TYPES.BYTES],localIdentityKey:[7,d("WAProtoConst").TYPES.BYTES],localIdentityKeyPrivate:[8,d("WAProtoConst").TYPES.BYTES]};e.internalSpec={senderRatchetKey:[1,d("WAProtoConst").TYPES.BYTES],senderRatchetKeyPrivate:[2,d("WAProtoConst").TYPES.BYTES],chainKey:[3,d("WAProtoConst").TYPES.MESSAGE,h],messageKeys:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,f]};f.internalSpec={index:[1,d("WAProtoConst").TYPES.UINT32],cipherKey:[2,d("WAProtoConst").TYPES.BYTES],macKey:[3,d("WAProtoConst").TYPES.BYTES],iv:[4,d("WAProtoConst").TYPES.BYTES]};h.internalSpec={index:[1,d("WAProtoConst").TYPES.UINT32],key:[2,d("WAProtoConst").TYPES.BYTES]};i.internalSpec={currentSession:[1,d("WAProtoConst").TYPES.MESSAGE,a],previousSessions:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,a]};j.internalSpec={id:[1,d("WAProtoConst").TYPES.UINT32],publicKey:[2,d("WAProtoConst").TYPES.BYTES],privateKey:[3,d("WAProtoConst").TYPES.BYTES]};k.internalSpec={id:[1,d("WAProtoConst").TYPES.UINT32],publicKey:[2,d("WAProtoConst").TYPES.BYTES],privateKey:[3,d("WAProtoConst").TYPES.BYTES],signature:[4,d("WAProtoConst").TYPES.BYTES],timestamp:[5,d("WAProtoConst").TYPES.FIXED64]};l.internalSpec={publicKey:[1,d("WAProtoConst").TYPES.BYTES],privateKey:[2,d("WAProtoConst").TYPES.BYTES]};m.internalSpec={senderKeyId:[1,d("WAProtoConst").TYPES.UINT32],senderChainKey:[2,d("WAProtoConst").TYPES.MESSAGE,p],senderSigningKey:[3,d("WAProtoConst").TYPES.MESSAGE,n],senderMessageKeys:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,o]};n.internalSpec={"public":[1,d("WAProtoConst").TYPES.BYTES],"private":[2,d("WAProtoConst").TYPES.BYTES]};o.internalSpec={iteration:[1,d("WAProtoConst").TYPES.UINT32],seed:[2,d("WAProtoConst").TYPES.BYTES]};p.internalSpec={iteration:[1,d("WAProtoConst").TYPES.UINT32],seed:[2,d("WAProtoConst").TYPES.BYTES]};q.internalSpec={senderKeyStates:[1,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,m]};g.SessionStructureSpec=a;g.PendingPreKeySpec=b;g.PendingKeyExchangeSpec=c;g.ChainSpec=e;g.MessageKeySpec=f;g.ChainKeySpec=h;g.RecordStructureSpec=i;g.PreKeyRecordStructureSpec=j;g.SignedPreKeyRecordStructureSpec=k;g.IdentityKeyPairStructureSpec=l;g.SenderKeyStateStructureSpec=m;g.SenderSigningKeySpec=n;g.SenderMessageKeySpec=o;g.SenderChainKeySpec=p;g.SenderKeyRecordStructureSpec=q}),98);
__d("WAHkdf",["Promise","WABinary"],(function(a,b,c,d,e,f,g){"use strict";var h=32,i=new Uint8Array(h),j=255*h,k={name:"HMAC",hash:"SHA-256"};function l(a){return self.crypto.subtle.importKey("raw",a,k,!1,["sign"])}function m(a,b){return self.crypto.subtle.sign(k,a,b)}function a(a,b){return l(a).then(function(a){return m(a,b)})}function n(a,b){return l(a||i).then(function(a){return m(a,b)})}function o(a,c,e){if(e<0||e>j)return b("Promise").reject(new Error("HKDF::expand given bad length "+e));var f,g=Math.ceil(e/h),i=d("WABinary").Binary.build(c).readByteArray(),k=new(d("WABinary").Binary)(),n=l(a).then(function(a){f=a;return new Uint8Array(0)});c=function(a){n=n.then(function(b){return m(f,d("WABinary").Binary.build(b,i,a).readByteArray())}).then(function(a){a=new Uint8Array(a);k.writeByteArray(a);return a})};for(var a=1;a<=g;a++)c(a);return n.then(function(){return k.readBuffer(e)})}function c(a,b,c){return n(null,a).then(function(a){return o(new Uint8Array(a),b,c)})}function e(a,b,c,d){return n(b,a).then(function(a){return o(new Uint8Array(a),c,d)})}g.encodeKey=l;g.hmacSha256=a;g.extract=n;g.expand=o;g.extractAndExpand=c;g.extractWithSaltAndExpand=e}),98);
__d("WASignalOther",["WACryptoUtils","WAHkdf","WAProtoDecode","WAProtoEncode"],(function(a,b,c,d,e,f,g){"use strict";var h={name:"AES-CBC"},i={name:"HMAC",hash:"SHA-256"};function j(a,b){if(a.length!==b)throw new Error("Signal expected "+b+" bytes, given "+a.length);return a}function a(a,b){return j(new Uint8Array(a),b)}function b(a){var b=a.buffer,c=a.byteOffset;a=a.length;return c===0&&a===b.byteLength?b:b.slice(c,c+a)}function c(a,b){return a.readByteArray(b)}function e(a){return new Uint8Array(a)}function f(a,b,c){if(a.length-b<c)throw new Error("Can not split off "+c+" bytes from index "+b+" of "+a.length+" bytes");return a.slice(b,b+c)}function k(a){a=a==="extendedRange"?(-1>>>1)-1:16380;return d("WACryptoUtils").randomNumberLessThan(a)+1}function l(a){return o(a)}function m(){var a=-1>>>1;return d("WACryptoUtils").randomNumberLessThan(a)+1}function n(a){return o(a)}function o(a,b,c){b===void 0&&(b=0);c===void 0&&(c=4294967296);if(typeof a==="number"&&b<=a&&a<c&&Math.floor(a)===a)return a;else throw new Error("Expected integer in range ["+b+", "+c+"), given "+String(a))}function p(a,b){return d("WAProtoEncode").encodeProto(a,b).readByteArray()}function q(a,b,c){return c(d("WAProtoDecode").decodeProto(a,b))}function r(a,b,c,e){return d("WAHkdf").extractWithSaltAndExpand(a,b,c,e).then(function(a){return new Uint8Array(a)})}function s(a,b){var c,d;b==="hmac-sha256"?(c=i,d=["sign"]):(b,c=h,d=["encrypt","decrypt"]);return self.crypto.subtle.importKey("raw",a,c,!1,d)}g.AES_CBC=h;g.HMAC_SHA256=i;g.ensureSize=j;g.toBytes=a;g.toBuffer=b;g.readBytes=c;g.makeBytes=e;g.sliceBytes=f;g.makeRegistrationId=k;g.castRegistrationId=l;g.makeSenderKeyId=m;g.castSenderKeyId=n;g.ensureIntInRange=o;g.encodeSignalProto=p;g.decodeSignalProto=q;g.hkdf=r;g.makeCryptoKey=s}),98);
__d("WASignalKeys",["WAProtoDecode","WAProtoEncode","WASignalLocalStorageProtocol.pb","WASignalOther","tweetnacl.dist"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=16777215;function j(a,b){return{publicKey:a,privateKey:b}}function a(a){a=d("tweetnacl.dist").box.keyPair.fromSecretKey(a);var b=a.publicKey;a=a.secretKey;return j(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function k(){var a=d("tweetnacl.dist").box.keyPair(),b=a.publicKey;a=a.secretKey;a[0]&=248;a[31]=64|a[31]&63;return j(d("WASignalOther").ensureSize(b,32),d("WASignalOther").ensureSize(a,32))}function l(a,b){return j(d("WASignalOther").sliceBytes(b,1,32),a)}function m(a,b){return{serializedPubKey:b,privateKey:a}}function b(){var a=k();return m(a.privateKey,n(a))}function n(a){var b=d("WASignalOther").makeBytes(33);b[0]=h;b.set(a.publicKey,1);return b}function c(a){var b=d("WASignalOther").makeBytes(33);b[0]=h;b.set(d("WASignalOther").ensureSize(a,32),1);return b}function e(a){return m(a.privateKey,n(a))}function f(a,b){a=(a-1)%i;a<=0&&(a+=i);var c=[];for(var e=0;e<b;e++){var f=a===i?1:a+1,g=k(),h=d("WAProtoEncode").encodeProto(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,{id:f,publicKey:n(g),privateKey:g.privateKey}).readByteArray();c.push({plainObject:{id:f,keyPair:g},record:h});a=f}return c}function o(a){try{a=d("WAProtoDecode").decodeProto(d("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey;a=a.privateKey;return b==null||c==null||a==null?null:{id:p(b),keyPair:l(d("WASignalOther").toBytes(a,32),q(new Uint8Array(c)))}}catch(a){return null}}function p(a){return d("WASignalOther").ensureIntInRange(a,1,i)}function q(a){if(a.length===0||a[0]!==h)throw new Error("Unrecognized public key type");return d("WASignalOther").ensureSize(a,33)}function r(){var a=d("WASignalOther").makeBytes(32);self.crypto.getRandomValues(a);return a}function s(a,b){return d("tweetnacl.dist").scalarMult(a,b.subarray(1)).buffer}g.KEY_TYPE=h;g.makeKeyPairFrom=a;g.makeKeyPair=k;g.makeKeyPairFromSerialized=l;g.makeSerializedKeyPairFrom=m;g.makeSerializedKeyPair=b;g.serializePubKey=n;g.serializeIdentity=c;g.toSerializeKeyPair=e;g.makePreKeys=f;g.deserializePreKey=o;g.castToPreKeyId=p;g.castToSerializedPubKey=q;g.makeRawSenderKey=r;g.ecdh=s}),98);
__d("WASignalSessions",["WABinary","WASignalKeys","WASignalOther"],(function(a,b,c,d,e,f,g){"use strict";var h=3;function a(a,b){return i(a,0,b,[])}function i(a,b,c,d){return{ratchetPubKey:a,nextMsgIndex:b,chainKey:c,unusedMsgKeys:d}}function b(a,b){return j(a,0,b)}function j(a,b,c){return{ratchetKey:a,nextMsgIndex:b,chainKey:c}}function k(a,b,c){return{remoteOneTimeId:a,remoteSignedId:b,localOneTimePubKey:c}}function c(a,b){return m(a.local,a.remote,a.rootKey,a.recvChains,a.sendChain,a.initialExchangeInfo,a.prevSendChainHighestIndex,b,a.aliceBaseKey)}function e(a,b,c){return m(a.local,a.remote,a.rootKey,b,c,a.initialExchangeInfo,a.prevSendChainHighestIndex,a.prevSessions,a.aliceBaseKey)}function f(a,b,c,d){c===void 0&&(c=a.sendChain);return m(a.local,a.remote,d,b,c,null,Math.max(a.sendChain.nextMsgIndex-1,0),a.prevSessions,a.aliceBaseKey)}function l(a,b,c,d,e,f){return m(a,b,c,d,e,f,0,[])}function m(a,b,c,d,e,f,g,h,i){return{local:a,remote:b,rootKey:c,sendChain:e,recvChains:d,initialExchangeInfo:f,prevSendChainHighestIndex:g,prevSessions:h,aliceBaseKey:i}}function n(a,b){b=new(d("WABinary").Binary)(b);var c=d("WASignalOther").readBytes(b,32),e=d("WASignalOther").readBytes(b,32);b=d("WASignalOther").readBytes(b,16);return o(a,c,e,b)}function o(a,b,c,d){return{index:a,cipherKey:b,macKey:c,iv:d}}function p(a){return{senderRatchetKey:a.ratchetPubKey,chainKey:{index:a.nextMsgIndex,key:a.chainKey},messageKeys:a.unusedMsgKeys}}function q(a){var b=a.ratchetKey;return{senderRatchetKey:b.serializedPubKey,senderRatchetKeyPrivate:b.privateKey,chainKey:{index:a.nextMsgIndex,key:a.chainKey}}}function r(a){var b=a.local,c=a.remote,d=a.initialExchangeInfo,e=void 0;if(d){var f=d.remoteOneTimeId;e={preKeyId:f!=null?f:void 0,signedPreKeyId:d.remoteSignedId,baseKey:d.localOneTimePubKey}}return{currentSession:{sessionVersion:h,localIdentityPublic:b.pubKey,remoteIdentityPublic:c.pubKey,rootKey:a.rootKey,previousCounter:a.prevSendChainHighestIndex,senderChain:q(a.sendChain),receiverChains:a.recvChains.map(p),pendingPreKey:e,remoteRegistrationId:c.regId,localRegistrationId:b.regId,aliceBaseKey:a.aliceBaseKey},previousSessions:a.prevSessions}}function s(a){var b=a.local,c=a.remote,e=a.sendChain,f=a.initialExchangeInfo,g=void 0;if(f){var i=f.remoteOneTimeId;g={preKeyId:i!=null?i:void 0,signedPreKeyId:f.remoteSignedId,baseKey:d("WASignalOther").toBuffer(f.localOneTimePubKey)}}return{sessionVersion:h,localIdentityPublic:d("WASignalOther").toBuffer(b.pubKey),remoteIdentityPublic:d("WASignalOther").toBuffer(c.pubKey),rootKey:d("WASignalOther").toBuffer(a.rootKey),previousCounter:a.prevSendChainHighestIndex,senderChain:{senderRatchetKey:d("WASignalOther").toBuffer(e.ratchetKey.serializedPubKey),senderRatchetKeyPrivate:d("WASignalOther").toBuffer(e.ratchetKey.privateKey),chainKey:{index:e.nextMsgIndex,key:d("WASignalOther").toBuffer(e.chainKey)},messageKeys:[]},receiverChains:a.recvChains.map(function(a){return{senderRatchetKey:d("WASignalOther").toBuffer(a.ratchetPubKey),chainKey:{index:a.nextMsgIndex,key:d("WASignalOther").toBuffer(a.chainKey)},messageKeys:a.unusedMsgKeys.map(function(a){return{index:a.index,cipherKey:d("WASignalOther").toBuffer(a.cipherKey),macKey:d("WASignalOther").toBuffer(a.macKey),iv:d("WASignalOther").toBuffer(a.iv)}})}}),pendingPreKey:g,remoteRegistrationId:c.regId,localRegistrationId:b.regId,aliceBaseKey:a.aliceBaseKey||void 0}}function t(a){var b=z(a.currentSession,"currentSession");return v(b,a.previousSessions)}function u(a){return v(a,[])}function v(a,b){var c=z(a.sessionVersion,"sessionVersion");if(c!==h)throw new Error("Signal: bad session version "+c);c=z(a.senderChain,"senderChain");var e=z(c.chainKey,"senderChain.chainKey");c=j(d("WASignalKeys").makeSerializedKeyPairFrom(y(c.senderRatchetKeyPrivate,32,"senderRatchetKeyPrivate"),x(c.senderRatchetKey,"senderRatchetKey")),z(e.index,"senderChain.chainKey.index"),y(e.key,32,"senderChain.chainKey.key"));e=z(a.receiverChains,"receiverChains").map(function(a){var b=z(a.chainKey,"receiverChains[].chainKey");return i(x(a.senderRatchetKey,"receiverChains[].senderRatchetKey"),z(b.index,"receiverChains[].chainKey.index"),y(b.key,32,"receiverChains[].chainKey.key"),w(a.messageKeys))});var f={regId:d("WASignalOther").castRegistrationId(z(a.localRegistrationId,"localRegistrationId")),pubKey:x(a.localIdentityPublic,"localIdentityPublic")},g={regId:d("WASignalOther").castRegistrationId(z(a.remoteRegistrationId,"remoteRegistrationId")),pubKey:x(a.remoteIdentityPublic,"remoteIdentityPublic")},l=a.pendingPreKey,n=null;if(l){var o=l.preKeyId;n=k(o!=null?d("WASignalKeys").castToPreKeyId(o):null,d("WASignalKeys").castToPreKeyId(z(l.signedPreKeyId,"pendingPreKey.signedPreKeyId")),x(l.baseKey,"pendingPreKey.baseKey"))}return m(f,g,y(a.rootKey,32,"rootKey"),e,c,n,a.previousCounter||0,b,a.aliceBaseKey)}function w(a){return a.map(function(a){return{index:z(a.index,"messageKeys[].index"),cipherKey:y(a.cipherKey,32,"messageKeys[].cipherKey"),macKey:y(a.macKey,32,"messageKeys[].macKey"),iv:y(a.iv,16,"messageKeys[].iv")}})}function x(a,b){return d("WASignalKeys").castToSerializedPubKey(new Uint8Array(z(a,b)))}function y(a,b,c){return d("WASignalOther").toBytes(z(a,c),b)}function z(a,b){if(a==null)throw new Error("Signal: protobuf is missing "+b);return a}g.FORMAT_VERSION=h;g.makeFreshRecvChain=a;g.makeRecvChain=i;g.makeFreshSendChain=b;g.makeSendChain=j;g.makeInitialExchangeInfo=k;g.setPrevSessions=c;g.updateChains=e;g.ratchetSession=f;g.makeFreshSession=l;g.makeSession=m;g.splitMsgKey=n;g.serializeSession=r;g.detachSession=s;g.parseSessionFromRecord=t;g.parseSession=u;g._parseSession=v;g.bytesOrThrow=y;g.definedOrThrow=z}),98);
__d("WAEd25519",["tweetnacl.dist"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(a){var b=h;h=[];try{return a()}finally{((a=h)!=null?a:[]).forEach(function(a){return void a.fill(0)});h=b}}function j(a,b){if(h==null)throw new Error("allocate called outside of active scope");return new a(b)}function a(a,b,c){d("tweetnacl.dist").lowlevel.crypto_hash(a,b,c)}function b(a,b){for(var c=0;c<64;++c)b[c]=a[c],a[c]=0;l(a,b);b.fill(0)}function c(a,b){var c=[k(),k(),k(),k()];d("tweetnacl.dist").lowlevel.scalarbase(c,b);Q(a,c)}function k(a){var b=j(Float64Array,16);if(a){if(a.length>16)throw new Error("Incorrect initialiser array provided to the fieldElement");for(var c=0;c<a.length;c++)b[c]=a[c]}return b}function l(a,b){d("tweetnacl.dist").lowlevel.modL(a,b)}var m=function(){return k([0])},n=function(){return k([1])},o=function(){return k([2])},p=function(){return k([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])};function q(){return[k(),k(),k(),k()]}function r(){return[k(),k(),k(),k()]}function s(){return[k(),k(),k()]}function t(a,b){var c=0;b=b;while(b>0){var d=b%65536;a[c]=d;b=(b-d)/65536;c++}}function u(a,b){return S(a,b)?0:1}function v(a){var b=d("tweetnacl.dist").lowlevel.pack25519,c=j(Uint8Array,32);b(c,a);return c[0]&1}function w(a,b){var c=d("tweetnacl.dist").lowlevel.S,e=d("tweetnacl.dist").lowlevel.M,f=o(),g=k();c(g,b);e(a,f,g)}function x(a,b){var c=d("tweetnacl.dist").lowlevel.S,e=d("tweetnacl.dist").lowlevel.M,f=d("tweetnacl.dist").lowlevel.A,g=m(),h=n(),i=k(),j=k(),l=k(),o=k();t(g,486662);c(i,b);e(j,g,b);f(l,i,j);f(o,l,h);e(a,b,o)}function y(a,b,c){c===1&&a.set(b)}var z=new Uint8Array([176,160,14,74,39,27,238,196,120,228,47,173,6,24,67,47,167,215,251,61,153,0,77,43,11,223,193,79,128,36,131,43]);function A(a,b){var c=d("tweetnacl.dist").lowlevel.unpack25519,e=d("tweetnacl.dist").lowlevel.pow2523,f=d("tweetnacl.dist").lowlevel.M,g=d("tweetnacl.dist").lowlevel.S,h=k();c(h,z);c=k();e(c,b);e=k();f(e,b,c);c=k();g(c,e);g=k();f(g,e,h);y(e,g,1^u(c,b));a.set(e)}function B(a,b){var c=d("tweetnacl.dist").lowlevel.Z,e=d("tweetnacl.dist").lowlevel.A,f=d("tweetnacl.dist").lowlevel.M,g=n(),h=k(),i=k(),j=k();c(h,b,g);e(i,b,g);R(j,i);f(a,h,j)}function C(a,b){var c=d("tweetnacl.dist").lowlevel.Z,e=m();c(a,e,b)}function D(a,b){var c=d("tweetnacl.dist").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3])}function E(a,b){var c=d("tweetnacl.dist").lowlevel.M;c(a[0],b[0],b[3]);c(a[1],b[1],b[2]);c(a[2],b[2],b[3]);c(a[3],b[0],b[1])}function F(a,b){var c=d("tweetnacl.dist").lowlevel.S,e=d("tweetnacl.dist").lowlevel.A,f=d("tweetnacl.dist").lowlevel.Z;c(a[0],b[0]);c(a[2],b[1]);w(a[3],b[2]);e(a[1],b[0],b[1]);b=k();c(b,a[1]);e(a[1],a[2],a[0]);f(a[2],a[2],a[0]);f(a[0],b,a[1]);f(a[3],a[3],a[2])}var G=new Uint8Array([6,126,69,255,170,4,110,204,130,26,125,75,209,211,161,197,126,79,252,3,220,8,123,210,187,6,160,96,244,237,38,15]);function H(a,b,c){var e=d("tweetnacl.dist").lowlevel.unpack25519,f=d("tweetnacl.dist").lowlevel.M,g=k();e(g,G);e=k();B(e,b);var h=k();x(h,b);var i=k();A(i,h);h=k();f(h,b,g);b=k();R(b,i);g=k();f(g,h,b);i=k();C(i,g);y(g,i,v(g)^c);a[0].set(g);a[1].set(e);a[2].set(n());f(a[3],a[0],a[1])}function I(a,b){a[0].set(b[0]),a[1].set(b[1]),a[2].set(b[2])}function J(a,b){var c=s();I(c,b);F(a,c)}function K(a,b){var c=r(),d=s();J(c,b);D(d,c);F(c,d);D(d,c);F(c,d);E(a,c)}function L(a){var b=d("tweetnacl.dist").lowlevel.S,c=d("tweetnacl.dist").lowlevel.M,e=d("tweetnacl.dist").lowlevel.pow2523,f=d("tweetnacl.dist").lowlevel.pack25519,g=k(),h=k(),i=k(),j=k(),l=k();e(g,a);b(h,g);b(i,h);c(j,i,a);c(l,j,a);e=new Uint8Array(32);f(e,l);return 1&e[31]}function M(a,b){C(a[0],b[0]),a[1].set(b[1]),a[2].set(b[2]),C(a[3],b[3])}function e(a,b){var c=q();b=T(c,b);if(b!==0)return-1;M(a,c);return 0}function N(a,b){var c=d("tweetnacl.dist").lowlevel.M,e=d("tweetnacl.dist").lowlevel.A;b=b;var f=n(),g=m();t(g,486662);var h=k();w(h,b);b=k();e(b,h,f);h=k();R(h,b);f=k();c(f,h,g);b=k();C(b,f);c=k();x(c,b);h=L(c);f=k([0]);y(f,g,h);c=k();e(c,b,f);g=k();C(g,c);y(c,g,h);a.set(c)}function O(a){var b=d("tweetnacl.dist").lowlevel.unpack25519;a=d("tweetnacl.dist").hash(a);var c=(a[31]&128)>>7;a[31]&=127;var e=k();b(e,a);b=k();P(b,e);a=q();H(a,b,c);e=q();K(e,a);return e}function P(a,b){return i(function(){return N(a,b)})}function f(a){return i(function(){return O(a)})}function Q(a,b){var c=k(),e=k(),f=k(),g=d("tweetnacl.dist").lowlevel.M,h=d("tweetnacl.dist").lowlevel.pack25519;R(f,b[2]);g(c,b[0],f);g(e,b[1],f);h(a,e);g=new Uint8Array(32);h(g,c);a[31]^=(g[0]&1)<<7}function R(a,b){var c=k();c.set(b);var e=d("tweetnacl.dist").lowlevel.M,f=d("tweetnacl.dist").lowlevel.S;for(var g=253;g>=0;--g)f(c,c),g!==2&&g!==4&&e(c,c,b);a.set(c)}function S(a,b){var c=d("tweetnacl.dist").lowlevel.pack25519,e=d("tweetnacl.dist").lowlevel.crypto_verify_32,f=new Uint8Array(32),g=new Uint8Array(32);c(f,a);c(g,b);return e(f,0,g,0)}function T(a,b){var c=d("tweetnacl.dist").lowlevel.set25519,e=d("tweetnacl.dist").lowlevel.S,f=d("tweetnacl.dist").lowlevel.M,g=d("tweetnacl.dist").lowlevel.Z,h=d("tweetnacl.dist").lowlevel.A,i=d("tweetnacl.dist").lowlevel.D,j=d("tweetnacl.dist").lowlevel.unpack25519,l=d("tweetnacl.dist").lowlevel.pow2523,o=k(),q=k(),r=k(),s=k(),t=k(),u=k(),v=k();c(a[2],n());j(a[1],b);e(r,a[1]);f(s,r,i);g(r,r,a[2]);h(s,a[2],s);e(t,s);e(u,t);f(v,u,t);f(o,v,r);f(o,o,s);l(o,o);f(o,o,r);f(o,o,s);f(o,o,s);f(a[0],o,s);e(q,a[0]);f(q,q,s);S(q,r)&&f(a[0],a[0],p());e(q,a[0]);f(q,q,s);if(S(q,r))return-1;U(a[0])===b[31]>>7&&g(a[0],m(),a[0]);f(a[3],a[0],a[1]);return 0}function U(a){var b=d("tweetnacl.dist").lowlevel.pack25519,c=new Uint8Array(32);b(c,a);return c[0]&1}g.runInAllocationScope=i;g.allocate=j;g.hashSha512=a;g.reduce=b;g.scalarmultBase=c;g.fieldElement=k;g.modL=l;g.p3Element=q;g.unpack=e;g.elligator=P;g.hashToPoint=f;g.pack=Q;g.inv25519=R;g.unpackneg=T}),98);
__d("WASignalSignatures",["Promise","WAEd25519","WAProtoDecode","WAProtoEncode","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","tweetnacl.dist"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return d("WAEd25519").runInAllocationScope(function(){var e=b.length,f=a.privateKey,g=new Uint8Array(32);d("WAEd25519").scalarmultBase(g,f);var h=g[31]&128,i=new Uint8Array(e+128);i[0]=254;i.fill(255,1,32);i.set(f,32);i.set(b,64);i.set(c,e+64);var j=d("WAEd25519").allocate(Uint8Array,64);d("WAEd25519").hashSha512(j,i,e+128);i.set(g,32);g=d("WAEd25519").allocate(Float64Array,64);d("WAEd25519").reduce(j,g);d("WAEd25519").scalarmultBase(i,j);var k=d("WAEd25519").allocate(Uint8Array,64);d("WAEd25519").hashSha512(k,i,e+64);d("WAEd25519").reduce(k,g);for(e=0;e<32;++e)g[e]=j[e];for(e=0;e<32;++e)for(j=0;j<32;++j)g[e+j]+=k[e]*f[j];d("WAEd25519").modL(i.subarray(32,64),g);return{pubKeyNegative:h!==0,signedMsg:i}})}function a(a,c){return b("Promise").resolve().then(function(){var b=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(b);return i(a,c,b)})}function c(a,b,c){var e=c[63];return e&96?!1:d("WAEd25519").runInAllocationScope(function(){var f=d("tweetnacl.dist").lowlevel.A,g=d("tweetnacl.dist").lowlevel.M,h=d("tweetnacl.dist").lowlevel.Z,i=d("tweetnacl.dist").lowlevel.pack25519,j=d("tweetnacl.dist").lowlevel.unpack25519,k=d("WAEd25519").allocate(Uint8Array,64);k.set(c);k[63]=e&127;var l=d("WAEd25519").fieldElement(),m=d("WAEd25519").fieldElement(),n=d("WAEd25519").fieldElement(),o=d("WAEd25519").fieldElement(),p=d("WAEd25519").fieldElement(),q=d("WAEd25519").allocate(Uint8Array,32),r=d("WAEd25519").fieldElement();r[0]=1;j(l,a.subarray(1));h(m,l,r);f(n,l,r);d("WAEd25519").inv25519(o,n);g(p,m,o);i(q,p);q[31]=q[31]&127|e&128;return d("tweetnacl.dist").sign.detached.verify(b,k,q)})}function i(a,b,c){a=h(a,b,c);b=d("WASignalOther").sliceBytes(a.signedMsg,0,64);b[63]=b[63]&127|(a.pubKeyNegative?128:0);return b}function e(a,b,c){var e=d("WASignalKeys").makeKeyPair(),f=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(f);c=i(c,d("WASignalKeys").serializePubKey(e),f);if(!Number.isSafeInteger(b))throw new Error("Expected timestamp to be a safe integer, given "+String(b));return{id:d("WASignalKeys").castToPreKeyId(a),ts:b,keyPair:e,signature:c}}function f(a,b){var c=d("WASignalOther").makeBytes(64);self.crypto.getRandomValues(c);a=i(a,b,c);return a}function j(a){var b=a.id,c=a.keyPair;b=d("WAProtoEncode").encodeProto(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,{id:b,publicKey:d("WASignalKeys").serializePubKey(c),privateKey:c.privateKey,signature:a.signature,timestamp:a.ts});return b.readByteArray()}function k(a){try{a=d("WAProtoDecode").decodeProto(d("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,a);var b=a.id,c=a.publicKey,e=a.privateKey,f=a.signature;a=a.timestamp;return b==null||c==null||e==null||f==null||a==null?null:{id:d("WASignalKeys").castToPreKeyId(b),ts:a,keyPair:d("WASignalKeys").makeKeyPairFromSerialized(d("WASignalOther").toBytes(e,32),d("WASignalKeys").castToSerializedPubKey(new Uint8Array(c))),signature:d("WASignalOther").toBytes(f,64)}}catch(a){return null}}g.signMsg=a;g.verifyMsgSignalVariant=c;g.makeSignature=i;g.makeSignedPreKey=e;g.signSenderKeyMessage=f;g.serializeSignedPreKeyForPrivateStorage=j;g.deserializeSignedPreKey=k}),98);
__d("WASignalWhisperTextProtocol.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";a={};b={};c={};e={};f={};var h={};a.internalSpec={ratchetKey:[1,d("WAProtoConst").TYPES.BYTES],counter:[2,d("WAProtoConst").TYPES.UINT32],previousCounter:[3,d("WAProtoConst").TYPES.UINT32],ciphertext:[4,d("WAProtoConst").TYPES.BYTES]};b.internalSpec={registrationId:[5,d("WAProtoConst").TYPES.UINT32],preKeyId:[1,d("WAProtoConst").TYPES.UINT32],signedPreKeyId:[6,d("WAProtoConst").TYPES.UINT32],baseKey:[2,d("WAProtoConst").TYPES.BYTES],identityKey:[3,d("WAProtoConst").TYPES.BYTES],message:[4,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={id:[1,d("WAProtoConst").TYPES.UINT32],baseKey:[2,d("WAProtoConst").TYPES.BYTES],ratchetKey:[3,d("WAProtoConst").TYPES.BYTES],identityKey:[4,d("WAProtoConst").TYPES.BYTES],baseKeySignature:[5,d("WAProtoConst").TYPES.BYTES]};e.internalSpec={id:[1,d("WAProtoConst").TYPES.UINT32],iteration:[2,d("WAProtoConst").TYPES.UINT32],ciphertext:[3,d("WAProtoConst").TYPES.BYTES]};f.internalSpec={id:[1,d("WAProtoConst").TYPES.UINT32],iteration:[2,d("WAProtoConst").TYPES.UINT32],chainKey:[3,d("WAProtoConst").TYPES.BYTES],signingKey:[4,d("WAProtoConst").TYPES.BYTES]};h.internalSpec={generation:[1,d("WAProtoConst").TYPES.UINT32],signature:[2,d("WAProtoConst").TYPES.BYTES]};g.SignalMessageSpec=a;g.PreKeySignalMessageSpec=b;g.KeyExchangeMessageSpec=c;g.SenderKeyMessageSpec=e;g.SenderKeyDistributionMessageSpec=f;g.DeviceConsistencyCodeMessageSpec=h}),98);
__d("WASignalGroupSession",["WASignalKeys","WASignalSessions"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=3;function j(a){var b=d("WASignalSessions").definedOrThrow(a.senderSigningKey,"senderSigningKey"),c=d("WASignalSessions").definedOrThrow(a.senderMessageKeys,"senderMessageKeys"),e=d("WASignalSessions").definedOrThrow(a.senderChainKey,"senderChainKey");b={senderSigningKeyPublic:r(b["public"],"public"),senderSigningKeyPrivate:b["private"]?d("WASignalSessions").bytesOrThrow(b["private"],32,"private"):void 0,senderKeyId:d("WASignalSessions").definedOrThrow(a.senderKeyId,"senderKeyId"),unusedMsgKeys:c.map(function(a){return k(d("WASignalSessions").definedOrThrow(a.iteration,"iteration"),d("WASignalSessions").bytesOrThrow(a.seed,50,"seed"))}),senderKeyChainKey:l(d("WASignalSessions").definedOrThrow(e.iteration,"iteration"),d("WASignalSessions").bytesOrThrow(e.seed,32,"seed"))};return b}function a(a,b,c,d,e){return{senderSigningKeyPublic:a,senderSigningKeyPrivate:b,senderKeyChainKey:c,senderKeyId:d,unusedMsgKeys:e}}function b(a,b){var c=a.senderKeyStates.findIndex(function(a){return a.senderKeyId===b.senderKeyId});return{senderKeyStates:a.senderKeyStates.map(function(a,d){return d===c?b:a})}}function c(a,b){a=a.senderKeyStates.slice(a.senderKeyStates.length>h-1?1:0);a.push(b);return{senderKeyStates:a}}function e(a){return{senderKeyStates:[a]}}function k(a,b){return{iteration:a,seed:b}}function l(a,b){return{nextMsgIndex:a,chainKey:b}}function f(a){a=d("WASignalSessions").definedOrThrow(a.senderKeyStates,"senderKeyStates");return m(a)}function m(a){return n(a)}function n(a){a=a.map(function(a){return j(a)});return{senderKeyStates:a}}function o(a,b){var c=a.senderKeyStates.findIndex(function(a){return a.senderKeyId===b});if(c===-1)return void 0;a=a.senderKeyStates[c];return a}function p(a){return{senderKeyStates:a.senderKeyStates.map(function(a){return q(a)})}}function q(a){return{senderKeyId:a.senderKeyId,senderChainKey:{iteration:a.senderKeyChainKey.nextMsgIndex,seed:a.senderKeyChainKey.chainKey},senderSigningKey:{"public":a.senderSigningKeyPublic,"private":a.senderSigningKeyPrivate},senderMessageKeys:a.unusedMsgKeys?a.unusedMsgKeys.map(function(a){var b=a.iteration;a=a.seed;return{iteration:b,seed:a}}):[]}}function r(a,b){return d("WASignalKeys").castToSerializedPubKey(new Uint8Array(d("WASignalSessions").definedOrThrow(a,b)))}function s(a){return a}g.FORMAT_VERSION=i;g.makeSenderKeyState=a;g.updateSessionWithUpdatedSenderKeyState=b;g.updateSessionWithNewSenderKeyState=c;g.makeNewSenderKeySession=e;g.makeSenderKeyMsgKey=k;g.makeSenderKeyChainKey=l;g.parseSessionFromRecord=f;g._parseSession=m;g.makeSenderKeySessionFromRecord=n;g.findSenderKeyState=o;g.serializeSession=p;g.serializeSenderKeyState=q;g.convertFromRawToSenderKeyState=s}),98);
__d("WASignalWhitepaper",["Promise","WABinary","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSessions","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=new Uint8Array(32);h.fill(255);var i=new Uint8Array([1]),j=new Uint8Array([2]);function a(a,c,e){var f,g,i,j,k,l,p,q,r,s,t,u,v,w,x,y,z,A;return b("regeneratorRuntime").async(function(B){while(1)switch(B.prev=B.next){case 0:i=a.regId,j=a.staticKeyPair;k=c.identity;l=c.signedKey.publicKey;p=e.privateKey;q=j.privateKey;r=(f=c.oneTimeKey)==null?void 0:f.publicKey;s=d("WABinary").Binary.build(h,o(q,l),o(p,k),o(p,l),r&&o(p,r)).readByteArray();B.next=9;return b("regeneratorRuntime").awrap(n(s,"WhisperText"));case 9:t=B.sent;u=t[0];v=t[1];w=c.ratchetKey;x=d("WASignalSessions").makeFreshRecvChain(w,v);y=d("WASignalKeys").makeSerializedKeyPair();B.next=17;return b("regeneratorRuntime").awrap(m(u,y,w));case 17:z=B.sent;A=d("WASignalSessions").makeInitialExchangeInfo((g=c.oneTimeKey)==null?void 0:g.id,c.signedKey.id,d("WASignalKeys").serializePubKey(e));return B.abrupt("return",d("WASignalSessions").makeFreshSession({regId:i,pubKey:d("WASignalKeys").serializePubKey(j)},{regId:c.regId,pubKey:k},z.rootKey,[x],d("WASignalSessions").makeFreshSendChain(y,z.chainKey),A));case 20:case"end":return B.stop()}},null,this)}function c(a,c,e,f){var g,i,j,k,l,m,o,q,r,s,t,u,v,w;return b("regeneratorRuntime").async(function(x){while(1)switch(x.prev=x.next){case 0:i=a.regId,j=a.staticKeyPair;k=j.privateKey;l=f.signed.privateKey;m=e;o=c.pubKey;q=(g=f.oneTime)==null?void 0:g.privateKey;r=d("WABinary").Binary.build(h,p(o,l),p(m,k),p(m,l),q&&p(m,q)).readByteArray();x.next=9;return b("regeneratorRuntime").awrap(n(r,"WhisperText"));case 9:s=x.sent;t=s[0];u=s[1];v=f.ratchet;w=d("WASignalSessions").makeFreshSendChain(v,u);return x.abrupt("return",d("WASignalSessions").makeSession({regId:i,pubKey:d("WASignalKeys").serializePubKey(j)},c,t,[],w,null,0,[],d("WASignalOther").toBuffer(e)));case 15:case"end":return x.stop()}},null,this)}function e(a){a=d("WASignalGroupSession").makeSenderKeyState(d("WASignalKeys").serializePubKey(a),a.privateKey,d("WASignalGroupSession").makeSenderKeyChainKey(0,d("WASignalKeys").makeRawSenderKey()),d("WASignalOther").makeSenderKeyId(),[]);return b("Promise").resolve(d("WASignalGroupSession").makeNewSenderKeySession(a))}function f(a,c,e,f,g){e=d("WASignalGroupSession").makeSenderKeyState(e,void 0,d("WASignalGroupSession").makeSenderKeyChainKey(c,f),a,[]);c=null;g?c=d("WASignalGroupSession").updateSessionWithNewSenderKeyState(g,e):c=d("WASignalGroupSession").makeNewSenderKeySession(e);return b("Promise").resolve(c)}function k(a,c){var e,f,g,h;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(d("WASignalOther").makeCryptoKey(c,"hmac-sha256"));case 2:e=k.sent;f=function(a){return self.crypto.subtle.sign("HMAC",e,a)};g=f(i).then(function(a){return d("WASignalOther").hkdf(new Uint8Array(a),null,"WhisperMessageKeys",80)}).then(function(b){return d("WASignalSessions").splitMsgKey(a,b)});h=f(j).then(function(a){return d("WASignalOther").toBytes(a,32)});return k.abrupt("return",b("Promise").all([h,g]));case 7:case"end":return k.stop()}},null,this)}function l(a,c){var e,f,g,h;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(d("WASignalOther").makeCryptoKey(c,"hmac-sha256"));case 2:e=k.sent;f=function(a){return self.crypto.subtle.sign("HMAC",e,a)};g=f(i).then(function(a){return d("WASignalOther").hkdf(new Uint8Array(a),null,"WhisperGroup",50)}).then(function(b){return d("WASignalGroupSession").makeSenderKeyMsgKey(a,b)});h=f(j).then(function(a){return d("WASignalOther").toBytes(a,32)});return k.abrupt("return",b("Promise").all([h,g]));case 7:case"end":return k.stop()}},null,this)}function m(a,c,e){var f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:f=c.privateKey;g=e;l.next=4;return b("regeneratorRuntime").awrap(d("WASignalKeys").ecdh(f,g));case 4:h=l.sent;l.next=7;return b("regeneratorRuntime").awrap(n(new Uint8Array(h),"WhisperRatchet",a));case 7:i=l.sent;j=i[0];k=i[1];return l.abrupt("return",{rootKey:j,chainKey:k});case 11:case"end":return l.stop()}},null,this)}function n(a,c,e){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:e===void 0&&(e=null);g.next=3;return b("regeneratorRuntime").awrap(d("WASignalOther").hkdf(a,e,c,64));case 3:f=g.sent;return g.abrupt("return",[d("WASignalOther").sliceBytes(f,0,32),d("WASignalOther").sliceBytes(f,32,32)]);case 5:case"end":return g.stop()}},null,this)}function o(a,b){return new Uint8Array(d("WASignalKeys").ecdh(a,b))}function p(a,b){return o(b,a)}g.initiateSessionOutgoing=a;g.initiateSessionIncoming=c;g.initiateSenderKeySessionOutgoing=e;g.initiateSenderKeySessionIncoming=f;g.deriveMsgKey=k;g.deriveSenderKeyMsgKey=l;g.calculateRatchet=m}),98);
__d("WASignalCipher",["Promise","WABinary","WACryptoUtils","WAProtoDecode","WAProtoEncode","WAResultOrError","WASignalKeys","WASignalOther","WASignalSessions","WASignalSignatures","WASignalWhisperTextProtocol.pb","WASignalWhitepaper","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=40,i=8,j=2e3;function a(a,c){var e,f,g,h,j,k,l,m,n,o,p,r,u,v,w,x,y,z,A,B,C;return b("regeneratorRuntime").async(function(D){while(1)switch(D.prev=D.next){case 0:e=a.sendChain;D.next=3;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").deriveMsgKey(e.nextMsgIndex,e.chainKey));case 3:f=D.sent;g=f[0];h=f[1];D.next=8;return b("regeneratorRuntime").awrap(t(h));case 8:j=D.sent;k=j.cipherKey;l=j.macKey;D.next=13;return b("regeneratorRuntime").awrap(self.crypto.subtle.encrypt({name:"AES-CBC",iv:h.iv},k,c));case 13:m=D.sent;n=new(d("WABinary").Binary)();n.writeByteArray(a.local.pubKey);n.writeByteArray(a.remote.pubKey);o=n.size();n.writeUint8(q(d("WASignalSessions").FORMAT_VERSION,d("WASignalSessions").FORMAT_VERSION));d("WAProtoEncode").encodeProto(d("WASignalWhisperTextProtocol.pb").SignalMessageSpec,{ratchetKey:e.ratchetKey.serializedPubKey,counter:h.index,previousCounter:a.prevSendChainHighestIndex,ciphertext:m},n);p=n.readByteArray();D.next=23;return b("regeneratorRuntime").awrap(s(l,p));case 23:r=D.sent;u=p.subarray(o);v=d("WABinary").Binary.build(u,new Uint8Array(r,0,i)).readByteArray();y=a.initialExchangeInfo;y!=null?(A=new(d("WABinary").Binary)(),A.writeUint8(q(d("WASignalSessions").FORMAT_VERSION,d("WASignalSessions").FORMAT_VERSION)),d("WAProtoEncode").encodeProto(d("WASignalWhisperTextProtocol.pb").PreKeySignalMessageSpec,{registrationId:a.local.regId,preKeyId:(z=y.remoteOneTimeId)!=null?z:void 0,signedPreKeyId:y.remoteSignedId,baseKey:y.localOneTimePubKey,identityKey:a.local.pubKey,message:v},A),w="pkmsg",x=A.readByteArray()):(w="msg",x=v);B=d("WASignalSessions").makeSendChain(e.ratchetKey,h.index+1,g);C=d("WASignalSessions").updateChains(a,a.recvChains,B);return D.abrupt("return",[C,{type:w,ciphertext:x}]);case 31:case"end":return D.stop()}},null,this)}function c(a,c){var e,f,g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:if(!(a==null)){m.next=2;break}return m.abrupt("return",d("WAResultOrError").makeError("errSignalNoSession"));case 2:m.next=4;return b("regeneratorRuntime").awrap(n(a,c));case 4:e=m.sent;if(e.success){m.next=17;break}f=a.prevSessions;g=0;case 8:if(!(!e.success&&g<f.length)){m.next=17;break}h=d("WASignalSessions").parseSession(f[g]);m.next=12;return b("regeneratorRuntime").awrap(n(h,c));case 12:e=m.sent,e.success&&((i=e.value,j=i[0],k=i[1]),l=d("WASignalSessions").setPrevSessions(j,[d("WASignalSessions").detachSession(a)].concat(f.slice(0,g),f.slice(g+1))),e=d("WAResultOrError").makeSuccess([l,k]));case 14:g++;m.next=8;break;case 17:if(e.success){m.next=19;break}return m.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidMsg"));case 19:return m.abrupt("return",e);case 20:case"end":return m.stop()}},null,this)}function e(a,c,e,f){var g,h,i,j,m,o,p,q,r,s;return b("regeneratorRuntime").async(function(t){while(1)switch(t.prev=t.next){case 0:g=c&&k(c,e.sessionBaseKey);if(!g){t.next=9;break}t.next=4;return b("regeneratorRuntime").awrap(n(g,e));case 4:h=t.sent;if(h.success){t.next=7;break}return t.abrupt("return",h);case 7:i=h.value,j=i[0],m=i[1];return t.abrupt("return",d("WAResultOrError").makeSuccess({newIdentity:null,updatedSession:j,usedPreKey:!1,plaintext:m}));case 9:t.next=11;return b("regeneratorRuntime").awrap(l(a,c,e,f));case 11:o=t.sent;if(o.success){t.next=14;break}return t.abrupt("return",o);case 14:p=o.value,q=p.newIdentity,r=p.updatedSession,s=p.plaintext;return t.abrupt("return",d("WAResultOrError").makeSuccess({newIdentity:q,updatedSession:r,usedPreKey:!0,plaintext:s}));case 16:case"end":return t.stop()}},null,this)}function k(a,b){if(u(a,b))return a;var c=a.prevSessions;for(var e=0;e<c.length;e++){var f=d("WASignalSessions").parseSession(c[e]);if(u(f,b))return d("WASignalSessions").setPrevSessions(f,[d("WASignalSessions").detachSession(a)].concat(c.slice(0,e),c.slice(e+1)))}return null}function l(a,c,e,f){var g,i,j,k,l,m,o,p,q,r,s;return b("regeneratorRuntime").async(function(t){while(1)switch(t.prev=t.next){case 0:i=f.localSignedPreKey;if(!(i==null)){t.next=3;break}return t.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidKeyId"));case 3:j=d("WASignalSignatures").deserializeSignedPreKey(i);if(!(j==null||j.id!==e.localSignedPreKeyId)){t.next=6;break}return t.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidKey"));case 6:k=null;if(!(e.localOneTimeKeyId!=null)){t.next=14;break}l=f.localOneTimeKey;if(!(l==null)){t.next=11;break}return t.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidKeyId"));case 11:k=d("WASignalKeys").deserializePreKey(l);if(!(k==null||k.id!==e.localOneTimeKeyId)){t.next=14;break}return t.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidKey"));case 14:t.next=16;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").initiateSessionIncoming(a,e.remote,e.sessionBaseKey,{signed:j.keyPair,oneTime:(g=k)==null?void 0:g.keyPair,ratchet:d("WASignalKeys").toSerializeKeyPair(j.keyPair)}));case 16:m=t.sent;c&&(m=d("WASignalSessions").setPrevSessions(m,[d("WASignalSessions").detachSession(c)].concat(c.prevSessions.slice(0,h-1))));t.next=20;return b("regeneratorRuntime").awrap(n(m,e));case 20:o=t.sent;if(o.success){t.next=23;break}return t.abrupt("return",o);case 23:p=o.value,q=p[0],r=p[1];s=q.remote.pubKey;return t.abrupt("return",d("WAResultOrError").makeSuccess({newIdentity:!c||!d("WACryptoUtils").areBytesEqual(s,c.remote.pubKey)?s:null,baseSession:m,updatedSession:q,plaintext:r}));case 26:case"end":return t.stop()}},null,this)}function m(a){var b,c,e=null;try{var f=p(a,d("WASignalSessions").FORMAT_VERSION,i);if(!f.success)return f;f=d("WAProtoDecode").decodeProto(d("WASignalWhisperTextProtocol.pb").SignalMessageSpec,f.value);var g=f.ratchetKey;e=f.counter;c=f.ciphertext;if(g==null||e==null||c==null)return d("WAResultOrError").makeError("errSignalInvalidMsg");b=d("WASignalKeys").castToSerializedPubKey(new Uint8Array(g))}catch(a){return d("WAResultOrError").makeError("errSignalInvalidMsg")}if(c==null)throw new Error("ciphertext should not be null here");f={ratchetPubKey:b,counter:e,ciphertext:new Uint8Array(c),versionContentMac:a};return d("WAResultOrError").makeSuccess(f)}function f(a){a=p(a,d("WASignalSessions").FORMAT_VERSION,0);if(!a.success)return a;var b,c,e,f,g;try{a=d("WAProtoDecode").decodeProto(d("WASignalWhisperTextProtocol.pb").PreKeySignalMessageSpec,a.value);var h=a.registrationId,i=a.preKeyId,j=a.signedPreKeyId,k=a.baseKey,l=a.identityKey;a=a.message;if(h==null||j==null||k==null||l==null||a==null)return d("WAResultOrError").makeError("errSignalInvalidMsg");f=d("WASignalKeys").castToSerializedPubKey(new Uint8Array(k));b={regId:d("WASignalOther").castRegistrationId(h),pubKey:d("WASignalKeys").castToSerializedPubKey(new Uint8Array(l))};e=i!=null?d("WASignalKeys").castToPreKeyId(i):null;c=d("WASignalKeys").castToPreKeyId(j);g=new Uint8Array(a)}catch(a){return d("WAResultOrError").makeError("errSignalInvalidMsg")}k=m(g);return!k.success?k:d("WAResultOrError").makeSuccess(babelHelpers["extends"]({},k.value,{remote:b,sessionBaseKey:f,localSignedPreKeyId:c,localOneTimeKeyId:e}))}function n(a,c){var e,f,g,h,j,k,l,m,n,p,q,r,u,v,w,x,y,z,A,B,C,D,E,F,G;return b("regeneratorRuntime").async(function(H){while(1)switch(H.prev=H.next){case 0:e=c.ratchetPubKey,f=c.counter,g=c.ciphertext,h=c.versionContentMac;j=a.recvChains;k=a.recvChains.findIndex(function(a){return d("WACryptoUtils").areBytesEqual(a.ratchetPubKey,e)});if(!(k===-1)){H.next=24;break}H.next=6;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").calculateRatchet(a.rootKey,a.sendChain.ratchetKey,e));case 6:n=H.sent;p=d("WASignalSessions").makeFreshRecvChain(e,n.chainKey);H.next=10;return b("regeneratorRuntime").awrap(o(p,f));case 10:q=H.sent;if(q.success){H.next=13;break}return H.abrupt("return",q);case 13:r=q.value;u=d("WASignalKeys").makeSerializedKeyPair();H.next=17;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").calculateRatchet(n.rootKey,u,e));case 17:v=H.sent;w=j.slice(-4);w.push(r.updatedChain);m=r.msgKey;l=d("WASignalSessions").ratchetSession(a,w,d("WASignalSessions").makeFreshSendChain(u,v.chainKey),v.rootKey);H.next=34;break;case 24:H.next=26;return b("regeneratorRuntime").awrap(o(j[k],f));case 26:x=H.sent;if(x.success){H.next=29;break}return H.abrupt("return",x);case 29:y=x.value,z=j.slice(),z[k]=y.updatedChain,m=y.msgKey,l=d("WASignalSessions").updateChains(a,z,a.sendChain);case 34:H.next=36;return b("regeneratorRuntime").awrap(t(m));case 36:A=H.sent;B=A.cipherKey;C=A.macKey;D=d("WABinary").Binary.build(a.remote.pubKey,a.local.pubKey,h.subarray(0,-i)).readByteArray();H.next=42;return b("regeneratorRuntime").awrap(s(C,D));case 42:E=H.sent;F=h.subarray(-i);if(d("WACryptoUtils").areBytesEqual(new Uint8Array(E,0,i),F)){H.next=46;break}return H.abrupt("return",d("WAResultOrError").makeError("errInvalidMac"));case 46:H.next=48;return b("regeneratorRuntime").awrap(self.crypto.subtle.decrypt({name:"AES-CBC",iv:m.iv},B,g));case 48:G=H.sent;return H.abrupt("return",d("WAResultOrError").makeSuccess([l,G]));case 50:case"end":return H.stop()}},null,this)}function o(a,c){var e,f,g,h,i,k,l,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:e=c-a.nextMsgIndex;if(!(e>2e3)){q.next=3;break}return q.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidMsg"));case 3:f=a.unusedMsgKeys;if(!(e<0)){q.next=9;break}g=f.findIndex(function(a){return a.index===c});if(!(g===-1)){q.next=8;break}return q.abrupt("return",d("WAResultOrError").makeError("errDuplicateMsg"));case 8:return q.abrupt("return",d("WAResultOrError").makeSuccess({msgKey:f[g],updatedChain:d("WASignalSessions").makeRecvChain(a.ratchetPubKey,a.nextMsgIndex,a.chainKey,r(f,g))}));case 9:h=a.nextMsgIndex;q.next=12;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").deriveMsgKey(h,a.chainKey));case 12:i=q.sent;k=i[0];l=i[1];m=null;if(!(e>0)){q.next=30;break}n=e+f.length-j;n>0?(m=f.slice(n),n-=f.length):m=f.slice();o=h+1;case 20:if(!(o<=c)){q.next=30;break}n>0?n--:m.push(l);q.next=24;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").deriveMsgKey(o,k));case 24:p=q.sent,k=p[0],l=p[1];case 27:o++;q.next=20;break;case 30:return q.abrupt("return",d("WAResultOrError").makeSuccess({msgKey:l,updatedChain:d("WASignalSessions").makeRecvChain(a.ratchetPubKey,c+1,k,m||f)}));case 31:case"end":return q.stop()}},null,this)}function p(a,b,c){if(a.length<1)return d("WAResultOrError").makeError("errSignalInvalidMsg");var e=a[0]>>>4;if(e!==b)return e<b?d("WAResultOrError").makeError("errSignalLegacyMsg"):d("WAResultOrError").makeError("errSignalInvalidVersion");e=a.length-c;return e<1?d("WAResultOrError").makeError("errSignalInvalidMsg"):d("WAResultOrError").makeSuccess(a.subarray(1,e))}function q(a,b){return(a<<4|b)&255}function r(a,b){var c=[];for(var d=0;d<a.length;d++)d!==b&&c.push(a[d]);return c}function s(a,b){return self.crypto.subtle.sign(d("WASignalOther").HMAC_SHA256,a,b)}function t(a){return b("Promise").all([d("WASignalOther").makeCryptoKey(a.cipherKey,"aes-cbc"),d("WASignalOther").makeCryptoKey(a.macKey,"hmac-sha256")]).then(function(a){var b=a[0];a=a[1];return{cipherKey:b,macKey:a}})}function u(a,b){a=a.aliceBaseKey;if(!a)return!1;a=new Uint8Array(a);var c=a.length===b.length;for(var d=0;c&&d<b.length;d++)c=a[d]===b[d];return c}g.MAX_UNUSED_KEYS=j;g.encryptMsg=a;g.decryptMsg=c;g.decryptPkMsg=e;g.findMatchingSession=k;g.decryptPkMsgWithNewSession=l;g.deserializeMsg=m;g.deserializePkMsg=f;g.decryptMsgFromSession=n;g.readContent=p;g.versionByte=q}),98);
__d("WAPromiseCallSync",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return b("Promise").resolve(a.apply(c,e))}catch(a){return b("Promise").reject(a)}}f.promiseCallSync=a}),66);
__d("WASignalEnv",["WAPromiseCallSync","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","WASignalSessions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.regId,c=a.identity,e=a.signedKey;a=a.oneTimeKey;var f=d("WASignalKeys").castToSerializedPubKey(e.publicKey);return{regId:d("WASignalOther").castRegistrationId(b),identity:d("WASignalKeys").castToSerializedPubKey(c),signedKey:{id:d("WASignalKeys").castToPreKeyId(e.id),publicKey:f,signature:d("WASignalOther").ensureSize(e.signature,64)},oneTimeKey:a&&{id:d("WASignalKeys").castToPreKeyId(a.id),publicKey:d("WASignalKeys").castToSerializedPubKey(a.publicKey)},ratchetKey:f}}function b(a){return babelHelpers["extends"]({},a)}function c(a){return a.regInfo}function e(a,b){return d("WAPromiseCallSync").promiseCallSync(a.loadSession,null,b).then(function(a){return!a?null:d("WASignalOther").decodeSignalProto(d("WASignalLocalStorageProtocol.pb").RecordStructureSpec,a,d("WASignalSessions").parseSessionFromRecord)})}function f(a,b,c,e){c=d("WASignalOther").encodeSignalProto(d("WASignalLocalStorageProtocol.pb").RecordStructureSpec,d("WASignalSessions").serializeSession(c));return d("WAPromiseCallSync").promiseCallSync(a.saveSession,null,b,c,e).then(function(){})}function h(a,b,c){return d("WAPromiseCallSync").promiseCallSync(a.saveIdentity,null,b,c)}function i(a,b,c,e){return d("WAPromiseCallSync").promiseCallSync(a.loadSessionAndPreKeyData,null,{target:b,signedKeyId:c,oneTimeKeyId:e}).then(function(a){var b=a.session,c=a.signed;a=a.oneTime;return{session:b?d("WASignalOther").decodeSignalProto(d("WASignalLocalStorageProtocol.pb").RecordStructureSpec,b,d("WASignalSessions").parseSessionFromRecord):null,signed:c,oneTime:a}})}g.sanitizeInitialSessionInfo=a;g.makeSignalEnv=b;g.getRegInfo=c;g.loadSession=e;g.saveSession=f;g.saveIdentity=h;g.loadSessionAndPreKeyData=i}),98);
__d("WAJsSignal",["Promise","WAResultOrError","WASignalCipher","WASignalEnv","WASignalKeys","WASignalOther","WASignalSignatures","WASignalWhitepaper","regeneratorRuntime","tweetnacl.dist"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("Promise").resolve().then(function(){return d("WASignalKeys").makeKeyPair()})}function c(a,c){return b("Promise").resolve().then(function(){return d("tweetnacl.dist").scalarMult(d("WASignalOther").ensureSize(c,32),d("WASignalOther").ensureSize(a,32)).buffer})}function e(a){return b("Promise").resolve().then(function(){return{regId:d("WASignalOther").makeRegistrationId(a),staticKeyPair:d("WASignalKeys").makeKeyPair()}})}function f(a,c,e){return b("Promise").resolve().then(function(){var b=d("WASignalSignatures").makeSignedPreKey(a,c,e),f=d("WASignalSignatures").serializeSignedPreKeyForPrivateStorage(b);return{plainObject:b,record:f}})}function h(a,c){return b("Promise").resolve().then(function(){return d("WASignalKeys").makePreKeys(a,c)})}function i(a){return d("WASignalEnv").makeSignalEnv(a)}function j(a,c,e){var f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:j.next=2;return b("regeneratorRuntime").awrap(d("WASignalEnv").loadSession(a,c));case 2:f=j.sent;if(f){j.next=5;break}return j.abrupt("return",d("WAResultOrError").makeError("errSignalNoSession"));case 5:j.next=7;return b("regeneratorRuntime").awrap(d("WASignalCipher").encryptMsg(f,e));case 7:g=j.sent;h=g[0];i=g[1];j.next=12;return b("regeneratorRuntime").awrap(d("WASignalEnv").saveSession(a,c,h));case 12:return j.abrupt("return",d("WAResultOrError").makeSuccess(i));case 13:case"end":return j.stop()}},null,this)}function k(a,c,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;return b("regeneratorRuntime").async(function(C){while(1)switch(C.prev=C.next){case 0:g=e.type,h=e.ciphertext;if(!(g==="pkmsg")){C.next=29;break}i=d("WASignalCipher").deserializePkMsg(h);if(i.success){C.next=5;break}return C.abrupt("return",i);case 5:j=i.value;C.next=8;return b("regeneratorRuntime").awrap(d("WASignalEnv").loadSessionAndPreKeyData(a,c,j.localSignedPreKeyId,j.localOneTimeKeyId));case 8:k=C.sent;l=k.session;m=k.signed;n=k.oneTime;C.next=14;return b("regeneratorRuntime").awrap(d("WASignalCipher").decryptPkMsg(d("WASignalEnv").getRegInfo(a),l,j,{localSignedPreKey:m,localOneTimeKey:n}));case 14:o=C.sent;if(o.success){C.next=17;break}return C.abrupt("return",o);case 17:p=o.value,q=p.newIdentity,r=p.updatedSession,s=p.usedPreKey,t=p.plaintext;if(!q){C.next=21;break}C.next=21;return b("regeneratorRuntime").awrap(d("WASignalEnv").saveIdentity(a,c,q));case 21:C.next=23;return b("regeneratorRuntime").awrap(f(t));case 23:u=C.sent;C.next=26;return b("regeneratorRuntime").awrap(d("WASignalEnv").saveSession(a,c,r,s?j.localOneTimeKeyId:null));case 26:return C.abrupt("return",d("WAResultOrError").makeSuccess(u));case 29:g;v=d("WASignalCipher").deserializeMsg(h);if(v.success){C.next=33;break}return C.abrupt("return",v);case 33:C.next=35;return b("regeneratorRuntime").awrap(d("WASignalEnv").loadSession(a,c));case 35:w=C.sent;C.next=38;return b("regeneratorRuntime").awrap(d("WASignalCipher").decryptMsg(w,v.value));case 38:x=C.sent;if(x.success){C.next=41;break}return C.abrupt("return",x);case 41:y=x.value,z=y[0],A=y[1];C.next=44;return b("regeneratorRuntime").awrap(f(A));case 44:B=C.sent;C.next=47;return b("regeneratorRuntime").awrap(d("WASignalEnv").saveSession(a,c,z));case 47:return C.abrupt("return",d("WAResultOrError").makeSuccess(B));case 48:case"end":return C.stop()}},null,this)}function l(a,c,e){var f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:if(!(a==null)){j.next=2;break}return j.abrupt("return",b("Promise").reject(new Error("signalCreateSession called with null signal")));case 2:f=d("WASignalEnv").sanitizeInitialSessionInfo(e);g=f.signedKey;j.next=6;return b("regeneratorRuntime").awrap(d("WASignalSignatures").verifyMsgSignalVariant(f.identity,g.publicKey,g.signature));case 6:h=j.sent;if(h){j.next=9;break}return j.abrupt("return",d("WAResultOrError").makeError("errSignalInvalidKey"));case 9:j.next=11;return b("regeneratorRuntime").awrap(d("WASignalWhitepaper").initiateSessionOutgoing(d("WASignalEnv").getRegInfo(a),f,d("WASignalKeys").makeKeyPair()));case 11:i=j.sent;j.next=14;return b("regeneratorRuntime").awrap(d("WASignalEnv").saveSession(a,c,i));case 14:return j.abrupt("return",d("WAResultOrError").makeSuccess());case 15:case"end":return j.stop()}},null,this)}g.generateIdentityKeyPair=a;g.calculateAgreement=c;g.generateRegistrationInfo=e;g.generateSignedPreKey=f;g.generatePreKeys=h;g.initSignalEnv=i;g.signalEncryptMsg=j;g.signalDecryptMsg=k;g.signalCreateSession=l}),98);
__d("WAPreRegistrationCrypto",["WAJsSignal","WASignalSignatures","err","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,c,e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:j.next=2;return b("regeneratorRuntime").awrap(d("WAJsSignal").generateRegistrationInfo());case 2:a=j.sent;c=a.regId;e=a.staticKeyPair;f=Date.now();j.next=8;return b("regeneratorRuntime").awrap(d("WAJsSignal").generateSignedPreKey(1,f,e));case 8:g=j.sent;h=g.plainObject;i=g.record;return j.abrupt("return",{regId:c,identityKeyPair:e,signedPreKey:{keyId:h.id,encoded:i}});case 12:case"end":return j.stop()}},null,this)}function e(a){var b=d("WASignalSignatures").deserializeSignedPreKey(a.signedPreKey.encoded);if(b==null||b.id!==a.signedPreKey.keyId)throw c("err")("Badly formatted signed prekey");return{regId:a.regId,identityPubKeyType:5,identityPubKey:a.identityKeyPair.publicKey,signedPreKey:b}}g.makeRegistrationData=a;g.serializeRegistrationData=e}),98);
__d("MessengerWebModuleMawDeviceRegistrationQPLEvent",["cr:10850"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:10850")}),98);
__d("WAPromiseBackoffs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a===0)return 0;var c=m(b.algo);for(var d=1;d<a;d++)c();return h(b,c())}function g(a){var b=a.relativeDelay,c=b===void 0?!1:b,d=null,e=m(a.algo);return function(){if(d==null){d=c?Date.now():0;return 0}var b=h(a,e());if(c){var f=Date.now(),g=f-d;g>0&&(b=Math.max(0,b-g));d=f}return b}}function c(a){var c=g(a);return function(a){return new(b("Promise"))(function(b){var d=c();d>0?setTimeout(b,d,a):b(a)})}}function h(a,b){var c=a.max,d=a.min;a=a.jitter;a=a===void 0?.1:a;b=b;c!=null&&b>c&&(b=c);d!=null&&b<d&&(b=d);a!==0&&(b=Math.ceil(b*(1+a*Math.random())));return b}function i(a){var b=a.second-a.first,c=a.first-b;return function(){var a=b+c;c=b;b=a;return a}}function j(a){var b=a.base,c=b===void 0?2:b,d=a.first;return function(){var a=d;d*=c;return a}}function k(a){var b=a.delay;return function(){return b}}function l(a){var b=a.toMs;a=a.backoff;var c=m(a);return function(){return b(c())}}function m(a){switch(a.type){case"fibonacci":return i(a);case"exponential":return j(a);case"constant":return k(a);case"adjust":return l(a);default:a;throw new Error("makeTimeFunc unrecognized backoff "+a.type)}}f.getDelay=a;f.createTimer=g;f.createPromiseTimer=c}),66);
__d("WAPromiseDelays",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return new(b("Promise"))(function(b){setTimeout(b,a,c)})}function c(a,c,d){return new(b("Promise"))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}f.delayMs=a;f.withTimeout=c}),66);
__d("WAResolvable",["Promise"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$2=!1;var a;this.promise=new(b("Promise"))(function(b){a=b});this.$1=a}var c=a.prototype;c.resolve=function(a){this.$2=!0,this.$1(a)};c.reject=function(a){this.resolve(b("Promise").reject(a))};c.resolveWasCalled=function(){return this.$2};return a}();f.Resolvable=a}),66);
__d("WAPromiseRetryLoop",["Promise","WALogger","WAPromiseBackoffs","WAPromiseDelays","WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: retrying "," in ","ms"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop was called several times. You may have race conditions"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: starting ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""]);l=function(){return a};return a}a=function(){function a(a){var b=this;this.$2=new(d("WAResolvable").Resolvable)();this.$3=null;this.$4=null;this.$5=0;this.endWithValue=function(a){b.$5++,b.$2.resolve(a)};this.$1=a}var c=a.prototype;c.resetTimeoutAfter=function(a){this.$4=Date.now()+a};c.cancelReset=function(){this.$4=null};c.reset=function(){if(this.$2.resolveWasCalled())return;d("WALogger").LOG(l(),this.$1.name);this.$5++;this.$6()};c.start=function(){if(this.$2.resolveWasCalled())return;d("WALogger").LOG(k(),this.$1.name);this.$5!==0&&d("WALogger").ERROR(j());this.$5++;this.$6()};c.$6=function(){var a=this,c=this.$1,e=this.$5,f=d("WAPromiseBackoffs").createTimer(this.$1.timer);f();var g=function b(){if(a.$2.resolveWasCalled())return;if(e!==a.$5)return;var g=Date.now();a.$3=c.code(a.endWithValue).then(function(){if(a.$2.resolveWasCalled())return;var e=c.resetDelay;(e!==void 0&&Date.now()>=g+e||a.$4!=null&&a.$4<=Date.now())&&(d("WALogger").LOG(i(),c.name),f=d("WAPromiseBackoffs").createTimer(a.$1.timer));a.$4=null;e=f();d("WALogger").LOG(h(),c.name,e);return d("WAPromiseDelays").delayMs(e).then(b)})};this.$3=b("Promise").resolve().then(g)};c.promise=function(){var a=this;if(this.$2.resolveWasCalled())return this.$2.promise;return!this.$3?b("Promise").reject(new Error("PromiseRetryLoop "+this.$1.name+" had promise() called before start()")):b("Promise").race([this.$2.promise,this.$3.then(function(){return a.$2.promise})])};return a}();g.PromiseRetryLoop=a}),98);
__d("LSDatabaseDeferred.re",["LSDatabaseDeferred.bs"],(function(a,b,c,d,e,f){a=b("LSDatabaseDeferred.bs").db;f.db=a}),null);
__d("LSThreadMediaGalleryGroup.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.photosAndVideos=a;f.filesOnly=c;f.links=d}),null);
__d("LSContactIdType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.unknown=a;f.fbid=c;f.smsLocalId=d}),null);
__d("LSContactViewerRelationship.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.unknown=a;f.notContact=c;f.contactOfViewer=d;f.facebookFriend=e;f.softContact=b}),null);
__d("ArmadilloDataTraceCheckPoint.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,63];b=[0,98];c=[0,1e3];d=[0,1001];e=[0,1210];var g=[0,504];f.traceGroupMessage=a;f.traceCreated=b;f.traceTextMessage=c;f.traceMediaMessage=d;f.deliveryReceiptReceived=e;f.richMediaMediaSendAttachmentType=g}),null);
__d("LSDataTraceTag.bs",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=4;var g=5,h=6,i=7;f.none=a;f.sticker=b;f.image=c;f.animatedImage=d;f.video=e;f.audio=g;f.file=h;f.xma=i}),null);
__d("LSRequestId.bs",["bs_caml_int64","uuid"],(function(a,b,c,d,e,f){"use strict";var g="0123456789abcdef",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(a){a=b("uuid")();var c=/[^0-9a-f]/gi;a=a.replace(c,"");c=0;var d="";while(c<33){var e,f=(e=b("bs_caml_int64")).lsl_(e.of_int32(g.indexOf(a.charAt(c))),8);c=c+1|0;var i=e.lsl_(e.of_int32(g.indexOf(a.charAt(c))),4);c=c+1|0;var j=e.of_int32(g.indexOf(a.charAt(c)));c=c+1|0;j=e.or_(j,e.or_(i,f));i=e.asr_(j,6);f=e.and_(j,[0,63]);d=d+(h.charAt(e.to_int32(i))+h.charAt(e.to_int32(f)))}return"#"+d}f.hexlist=g;f.b64list=h;f.generate=a}),null);
__d("LSNullstateDescriptionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.default_=a;f.subtext=c;f.titleSmallDefault=d;f.titleSmallSubtext=e}),null);
__d("WAShiftTimer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=this;this.$2=0;this.$3=0;this.ts=0;this.$4=0;this.$5=0;this.$6=0;this.$7=void 0;this.$8=function(){var a=b.$7,c=b.$1;b.$3=0;b.$2=0;b.ts=0;b.$4=0;b.$5=0;b.$6=0;b.$7=void 0;c(a)};this.onOrBefore=function(a,c){g(a);var d=Date.now();d=d+a;var e=b.$5;if(e!==0&&e<d)return;e=b.$6;if(e!==0&&d<e)return;b.$5=d;!b.$3&&(!b.$2||d<b.ts)&&b.$9(d,a,c)};this.forceRunNow=function(a){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$7=a,b.$8()};this.cancel=function(){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$2=0,b.$3=0,b.ts=0,b.$4=0,b.$5=0,b.$6=0,b.$7=void 0};this.$1=a}var b=a.prototype;b.onOrBeforeRepaint=function(a){if(this.$3)return;var b=Date.now(),c=this.$6;if(c!==0&&b<c)return;c=this.$5;(c===0||b<c)&&(this.$5=b);this.$2&&(clearTimeout(this.$2),this.$2=0);(!this.ts||this.ts>b)&&(this.ts=b);this.$7=a;this.$3=requestAnimationFrame(this.$8)};b.onOrAfter=function(a,b){g(a);var c=Date.now();c=c+a;var d=this.$6;if(d!==0&&c<d)return;d=this.$5;if(d!==0&&d<c)return;this.$6=c;(!this.$2||this.ts<c)&&this.$9(c,a,b)};b.debounce=function(a,b){g(a),this.$10(Date.now(),a,b)};b.debounceAndCap=function(a,b,c){g(a);g(b);var d=Date.now();b=d+b;var e=this.$6,f=this.$5;(e===0||e<=b)&&(f===0||b<f)&&(this.$5=b);this.$10(d,a,c)};b.forceRunNowIfScheduled=function(){this.$2?(clearTimeout(this.$2),this.$8()):this.$3&&(cancelAnimationFrame(this.$3),this.$8())};b.isScheduled=function(){return this.$2!==0||this.$3!==0};b.$10=function(a,b,c){var d=a+b,e=this.$6;if(e!==0&&d<e)return;e=this.ts;var f=this.$5;f!==0&&f<d?e<f&&this.$9(f,f-a,c):e<d&&this.$9(d,b,c)};b.$9=function(a,b,c){this.$3&&(cancelAnimationFrame(this.$3),this.$3=0);this.$7=c;this.ts=a;if(this.$2){c=a-this.$4;if(-16<c&&c<16)return;clearTimeout(this.$2)}this.$2=setTimeout(this.$8,b);this.$4=a};return a}();function g(a){if(!(a>=0))throw new Error("ShiftTimer must be given delay >= 0")}f.ShiftTimer=a}),66);
__d("WABridgeBatcher",["WAShiftTimer"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=1e3;a=function(){function a(a,b){var c=this;this.$1=null;this.$4=h;this.$5=Date.now();this.$6=new(d("WAShiftTimer").ShiftTimer)(function(){var a=c.$1;if(a==null)return;c.$1=null;c.$2(a)});this.$2=b;this.$3=a}var b=a.prototype;b.addEvent=function(a){var b=this.$1;this.$1=b?this.$3(b,a):[a];if(this.$6.isScheduled())return;b=this.$4;if(b<1){a=Date.now();var c=Math.max(a-this.$5,0)/i;b=Math.min(b+c,h);this.$4=b;this.$5=a}b>=1?(c=0,this.$4=b-1):(c=Math.ceil(i*(1-b)),this.$4=0);this.$6.onOrBefore(c)};b.cancel=function(){this.$1=null,this.$6.cancel()};return a}();g.BridgeBatcher=a}),98);
__d("WAPromiseManagement",["Promise","WAPromiseCallSync"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null,c=function(){b||(b=d("WAPromiseCallSync").promiseCallSync(a)["finally"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function c(a,c){var d=new Map();return function(e){var f=a(e),g=d.get(f);if(g)return g;try{g=b("Promise").resolve(c(e))}catch(a){g=b("Promise").reject(a)}e=g["finally"](function(){return void d["delete"](f)});d.set(f,e);return e}}var h=new Set();function e(a){h.add(a),a["finally"](function(){h["delete"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=c;g.preventGarbageCollection=e}),98);
__d("WACrossWorkerPortal",["Promise","WABridgeBatcher","WALogger","WAPromiseManagement"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["absorbPortal: transferring request #",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected non-result to call"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected result to cast"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unrecognized result ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," response of ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," request for ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge queuing "," msgs"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge sending "," across (delayed)"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge received msg on old port"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge updating port"]);q=function(){return a};return a}var r=function(){function a(a,b,c){var e=this;this.port=null;this.$2=1;this.openRequests=new Map();this.$1=a;this.sendStream=new(d("WABridgeBatcher").BridgeBatcher)(b,function(a){e.$3(a)});c.forEach(function(b){a.setNamespaceHandler(b,e.$4(b))})}var c=a.prototype;c.setPort=function(a){var b=this;d("WALogger").LOG(q());this.port=a;this.sendStream.cancel();a.onmessage=function(c){if(b.port!==a){d("WALogger").WARN(p()).devConsole(c.data);return}c=c.data;if(!c)return;c.forEach(function(c){return b.$5(a,c)})};this.openRequests.forEach(function(a){a=a.request;d("WALogger").LOG(o(),a.name);b.sendStream.addEvent({type:"request",content:a})})};c.getBridge=function(){return this.$1};c.$4=function(a){var b=this;return function(c,d,e,f){b.$6(a,c,d,e,f)}};c.$6=function(a,b,c,d,e){var f=this.$2++;a={requestId:f,expectsResponse:!!d,namespace:a,name:b,arg:c,silentLog:e};this.openRequests.set(f,{request:a,resolver:d});this.sendStream.addEvent({type:"request",content:a})};c.$7=function(a,b){if(a!==this.port)return;this.sendStream.addEvent({type:"result",content:b})};c.$3=function(a){var b=this.port;if(!b){d("WALogger").LOG(n(),a.length);return}b.postMessage(a)};c.$5=function(a,c){var e=this;if(c.type==="request"){var f=c.content,g=f.namespace,h=f.name,n=f.requestId,o=f.arg,p=f.expectsResponse,q=f.silentLog;q||d("WALogger").LOG(m(),n,h);f=this.$1;if(p){p=f.sendAndReceive(g,h,o,q).then(function(b){e.$7(a,{requestId:n,type:"success",result:b,silentLog:q})},function(b){e.$7(a,{requestId:n,type:"error",result:String(b),silentLog:q})});d("WAPromiseManagement").preventGarbageCollection(p)}else f.fireAndForget(g,h,o,q),a.postMessage([{type:"result",content:{requestId:n,type:"handled",silentLog:q}}])}else{c.type;p=c.content;f=p.requestId;g=p.type;h=p.result;o=p.silentLog;o||d("WALogger").LOG(l(),f,g);c=this.openRequests.get(f);if(!c){d("WALogger").WARN(k(),f);return}switch(g){case"success":case"error":this.openRequests["delete"](f);c.resolver?c.resolver(g==="success"?h:b("Promise").reject(new Error(h))):d("WALogger").ERROR(j());break;case"handled":c.resolver?d("WALogger").ERROR(i()):this.openRequests["delete"](f);break}}};return a}();function a(a,b,c){a=new r(a,c,b);return a}function c(a){var b;(b=a.port)==null?void 0:b.close==null?void 0:b.close();a.port=null;a.sendStream.cancel();b=a.openRequests;a.openRequests=new Map();var c=a.getBridge();b.forEach(function(a){var b=a.request;a=a.resolver;var e=b.namespace,f=b.name,g=b.arg,i=b.silentLog;d("WALogger").LOG(h(),b.requestId);a?a(c.sendAndReceive(e,f,g,i)):c.fireAndForget(e,f,g,i)})}g.CrossWorkerPortal=r;g.attachPortal=a;g.killPortalAndSendPendingToBridge=c}),98);
__d("XLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout.php",{h:{type:"String"},next:{type:"String"},button_name:{type:"String"},button_location:{type:"String"},source:{type:"String"},ref:{type:"String"},p:{type:"String"}})}),null);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);
__d("WorkerBundleResource",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c,d;for(var e=arguments.length,f=new Array(e>2?e-2:0),g=2;g<e;g++)f[g-2]=arguments[g];var h=(c=b)!=null?c:a.name,i=window.URL.createObjectURL(new Blob(["__DEV__=false;","importScripts('"+a.url+"');","StartBundle.apply(null, "+JSON.stringify([a].concat((d=f)!=null?d:[]))+")"],{type:"text/javascript"})),j=new Worker(i,{name:h}),k=j.terminate;j.terminate=function(){window.URL.revokeObjectURL(this._objectURL),k.apply(this,arguments)};return j}f.createDedicatedWebWorker=a}),66);
__d("MessengerWebModuleMawInitQPLEvent",["cr:7083"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:7083")}),98);
__d("ReStore.re",["ReStore.bs"],(function(a,b,c,d,e,f){a=b("ReStore.bs").Provider.make;f.Provider_make=a;c=b("ReStore.bs").useHook;f.useHook=c;d=b("ReStore.bs").Provider;f.Provider=d}),null);
__d("MWChatUIStateV2.bs",["MWChatStateActions.bs","MWChatStateV2.bs","MWChatStateV2IsCollapsed.bs","MWChatStateV2IsComposeTab.bs","MWChatStateV2IsOpen.bs","bs_caml_array","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,b){a=a.openWatermark-b.openWatermark;if(a<0)return 1;else if(a>0)return-1;else return 0}function j(a,b){a=Math.max(a.minimiseWatermark,a.clientForcedMinimiseWatermark)-Math.max(b.minimiseWatermark,b.clientForcedMinimiseWatermark);if(a<0)return 1;else if(a>0)return-1;else return 0}d={byMostRecentOpened:i,byMostRecentMinimised:j};function k(a,b){return[a.slice(0,b),a.slice(b,a.length)]}function l(a,c,d){var e=a.length;if(e>c&&c>0&&d!==void 0){var f=a.findIndex(function(a){return a.tabId===d});if(f!==-1&&f>=c&&f<e){e=function(c,d){var e=b("bs_caml_array").get(a,c);a[c]=b("bs_caml_array").get(a,d);a[d]=e};e(c-1|0,f)}}return a}function m(a,c,d){return k(l(Array.from(a.values()).filter(b("MWChatStateV2IsOpen.bs").isOpen).sort(i),d,c),d)}function n(a,c,d){c=Array.from(c.values()).filter(b("MWChatStateV2IsCollapsed.bs").isCollapsed).sort(function(a,b){var c=j(a,b);if(c===0)return i(a,b);else return c});return k(a.filter(function(a){return!b("MWChatStateV2IsComposeTab.bs").isComposeTab(a)}).concat(c),d)}e=[];var o=[],p=[],q=[];e={visible:e,heads:o,excess:p,overflow:q,maxTabs:3};var r=h.createContext(e);function a(a,c){return b("bs_curry")._1(a,h.useContext(r))}function c(a){a=a.children;var c=b("MWChatStateV2.bs").useState(function(a){return a}),d=b("MWChatStateV2.bs").useDispatch(void 0),e=h.useMemo(function(){var a=m(c.tabs,c.focusedTabId,3),b=a[1],d=n(b,c.tabs,5);return{visible:a[0],heads:d[0],excess:b,overflow:d[1],maxTabs:3}},[c,3]),f=e.excess.map(function(a){return String(a.tabId)}).join("|");h.useEffect(function(){var a=Date.now();b("bs_curry")._1(d,e.excess.flatMap(function(c){return b("MWChatStateActions.bs").forceMinimizeTab(a,c.tabId)}))},[f,d]);return h.createElement(r.Provider,{value:e,children:a})}o=3;p=c;f.Comparators=d;f.prioritiseFocusedTabInPlace=l;f.getTabs=m;f.getHeads=n;f.maxTabs=o;f.$$default=e;f["default"]=e;f.__esModule=!0;f.useState=a;f.make=p}),null);
__d("LSThreadTitle.bs",["fbt","CometTextWithEntities.react","CurrentUser","LSMessagingThreadTypeUtil.bs","MWChatTextTransform.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","gkx","intlList","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=[b("MWChatTextTransform.bs").emojiTransform,b("MWChatTextTransform.bs").emoticonTransform];function k(a){var c=a.thread;a=a.wrapOutput;var d=c.a,e=b("bs_int64").to_string(d),f=b("ReStore.bs").useHook(void 0),h=b("MWLSActor.bs").useActor(void 0),k=b("gkx")("1846003"),l=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"participants").asc,{hd:d,tl:0}),function(a){var c=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"contacts").asc,{hd:a.b,tl:0}));return[a,c]})},[f,e])),m=b("CurrentUser").isWorkUser()?g._("Ng\u01b0\u1eddi d\u00f9ng Workplace").toString():g._("Ng\u01b0\u1eddi d\u00f9ng Facebook").toString();if(l.length===0)return"";if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c)){if(l.length===1){e=l[0];c=e[1];e=c!==void 0?c.h:m;return i.jsx(b("CometTextWithEntities.react"),{text:e,transforms:j})}c=l.filter(function(a){return b("bs_caml").i64_neq(a[0].b,h)});if(c.length===0){b("recoverableViolation")("multiple viewers in 1:1 thread","messenger_comet");return""}e=c[0];var n=e[0].e,o,p=0;n!==void 0&&k?o=n:p=1;if(p===1){n=e[1];o=n!==void 0?n.h:m}p=i.jsx(b("CometTextWithEntities.react"),{text:o,transforms:j});e=c[0];if(a===void 0)return p;n=e[1];if(n!==void 0)return b("bs_curry")._3(a,n,e[0],p);else return p}if(l.length===1){c=l[0];a=c[1];n=a!==void 0?a.h:"";return i.jsx(b("CometTextWithEntities.react"),{text:n,transforms:j})}e=l.filter(function(a){return b("bs_caml").i64_neq(a[0].b,h)}).sort(function(a,b){b=b[1];a=a[1];if(a!==void 0)if(b!==void 0)return b.o-a.o;else return 0;else return 0}).map(function(b){var a=b[0].e;if(a!==void 0&&k)return a;a=b[1];if(a===void 0)return m;b=a.p;if(b!==void 0&&l.length>2)return b;else return a.h});p=b("intlList")(e,b("intlList").CONJUNCTIONS.NONE,b("intlList").DELIMITERS.COMMA).toString();return i.jsx(b("CometTextWithEntities.react"),{text:p,transforms:j})}c={make:k};function a(a){var c=a.thread;a=a.wrapOutput;var d=c.d;if(d!==void 0)return i.jsx(b("CometTextWithEntities.react"),{text:d,transforms:j});d={thread:c};a!==void 0&&(d.wrapOutput=b("bs_caml_option").valFromOption(a));return i.jsx(k,d)}d=a;f.transforms=j;f.ComputedThreadName=c;f.make=d}),null);
__d("MWChatHeadPicture.bs",["ix","BaseGlimmer.react","MWChatFacepile.bs","MWChatProfile.bs","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c="pym96oi7-B";var k={withBackground:{backgroundColor:"nred35xi"},chatHeadIntroAnim:{animationDirection:"afxn4irw",animationDuration:"il7rb8sk",animationFillMode:"j1l0snac",animationIterationCount:"h9pa7xm5",animationName:"bnyrfe0q",animationTimingFunction:"mqussk9c"},dropShadow:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",boxShadow:"akv41dx8",":hover":{boxShadow:"eb3gnj61"}},headGlimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",position:"l9j0dhe7",height:"m7zwrmfr",width:"tmrshh9y"},withOverflowBackground:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",height:"m7zwrmfr",width:"tmrshh9y",backgroundColor:"nred35xi"}};function a(a){var c=a.images,d=a.children;a=a.noFacepile;a=a!==void 0?a:!1;var e=c.length;if(e!==1)if(e!==0)if(a)return j.jsxs("div",{className:(i||(i=b("stylex")))(k.dropShadow,k.withOverflowBackground),children:[j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("481920"),24)}),d]});else return j.jsx(b("MWChatFacepile.bs").make,{borderBetweenImages:!1,children:d,firstParticipantURI:c[0],secondParticipantURI:c[1],shadow:!0,size:48});else return j.jsx("div",{className:(i||(i=b("stylex")))(k.withBackground,k.headGlimmer),children:j.jsx(b("BaseGlimmer.react"),{theme:"dark",index:1,children:d})});e=c[0];return j.jsx("div",{className:(i||(i=b("stylex")))(k.dropShadow,k.chatHeadIntroAnim),children:j.jsx(b("MWChatProfile.bs").make,{size:48,src:e,children:d})})}d=a;f.chatheadAppear=c;f.styles=k;f.make=d}),null);
__d("MWChatConnectionHook.bs",["bs_curry","cr:11792","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("cr:11792").instance;a=h.useState(function(){return c.getConnectionState()});var d=a[1];h.useEffect(function(){var a={onMQTTStateChanged:function(a){return b("bs_curry")._1(d,function(b){return a})}};c.subscribeChannelEvents(a);return function(b){c.unsubscribeChannelEvents(a)}},[d]);return a[0]}c=b("cr:11792");f.$LSMqttChannel$OR$FBMqttChannel$requireCond=b("cr:11792");f.MwMqttChannel=c;f.useConnectionStatus=a}),null);
__d("MWChatConnectionStatusCard.bs",["fbt","MWChatConnectionHook.bs","MqttState.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{textAlign:"oqcyycmt",color:"eqrdut5j",fontWeight:"ekzkrbhg",fontSize:"r9r71o1u",display:"a8c37x1j",backgroundColor:"nred35xi"}};function l(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:a})}function a(a){a=b("MWChatConnectionHook.bs").useConnectionStatus(void 0);if(a===b("MqttState.bs").connected)return null;else if(a===b("MqttState.bs").disconnected)return l(g._("Kh\u00f4ng c\u00f3 k\u1ebft n\u1ed1i Internet"));else if(a===b("MqttState.bs").connecting)return l(g._("\u0110ang k\u1ebft n\u1ed1i..."));else return null}c=a;f.styles=k;f.renderStatus=l;f.make=c}),null);
__d("LsMessengerThreadDamagingActionsSource",[],(function(a,b,c,d,e,f){a=Object.freeze({BLOCKED_PEOPLE:0,CANONICAL_THREAD:1,EMPTY_THREAD:2,GROUP_THREAD:3,INCOMING_CALL:4,PAGE:5,STORY:6,TINCAN_THREAD:7,USER:8,CARRIER_THREAD:9,MESSAGE_REQUEST:10,SUPPORT_INBOX:11,DISAPPEARING_THREAD:12,OFFLINE_RETRIES:13,ONGOING_CALL:14,POST_CALL:15,CONTACT_MANAGER:16,SECURE_OVER_WA_CANONICAL:17,SECURE_OVER_WA_GROUP:18,GROUP_COMMUNITY_MESSAGING_THREAD:19,GROUP_COMMUNITY_MEMBER_LIST:20});f["default"]=a}),66);
__d("LsMessengerThreadDamagingActionsSourceOwner",[],(function(a,b,c,d,e,f){a=Object.freeze({MCI:0,MBI:1,RTC:2,HI:3});f["default"]=a}),66);
__d("MWUIParticipantDetails.bs",["cr:607"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:607")).useParticipantName;d=a.useParticipantShortName;e=a.useParticipantSecondaryName;b=a.useNameAndGender;var g=a.useParticipantReachabilityStatus,h=a.useParticipantProfilePictureUrl;f.$MWLSParticipantDetails$OR$WorkplaceMSParticipantDetails$requireCond=a;f.useParticipantName=c;f.useParticipantShortName=d;f.useParticipantSecondaryName=e;f.useNameAndGender=b;f.useParticipantReachabilityStatus=g;f.useParticipantProfilePictureUrl=h}),null);
__d("MWChatBlockedComposer.bs",["fbt","CometLazyDialogTrigger.react","JSResource","LSContactTypeExact.bs","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","MDSTextCommon.react","MWUIParticipantDetails.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraButton.react","TetraTextPairing.react","bs_caml","bs_caml_format","bs_curry","cr:12000","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"j1kv9ji2",paddingStart:"pcu7st4i"},rootLarge:{borderTop:"gcieejh5"},firstButton:{marginTop:"tr9rh885"},firstButtonLarge:{marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",width:"k4urcfbm"},secondButton:{marginTop:"aov4n071"},secondButtonLarge:{marginTop:"kvgmc6g5",marginEnd:"oi9244e8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",width:"k4urcfbm"},inlineButtons:{display:"j83agx80",justifyContent:"taijpn5t",marginTop:"n1l5q3vz"}},l=b("gkx")("1224637");function a(a){var c=a.fbid,d=a.reportingToken,e=a.size;a=a.isReachable;e=e!==void 0?e:"small";a=a!==void 0?a:!0;var f=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantName,c),h=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantShortName,c),m=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantSecondaryName,c);m=m!==void 0&&m!==""?m:void 0;var n=b("ReStore.bs").useHook(void 0),o=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(n,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(c),tl:0})},[c,n]));o=o!==void 0?o.r:b("LSContactTypeExact.bs").unknown;o=b("bs_caml").i64_eq(o,b("LSContactTypeExact.bs").fbPage);var p,q=0,r=0;f!==void 0?m!==void 0?f!==m?p=g._("B\u1ea1n \u0111\u00e3 ch\u1eb7n tin nh\u1eafn v\u00e0 cu\u1ed9c g\u1ecdi c\u1ee7a {display_name} ({username})",[g._param("display_name",f),g._param("username",m)]):r=2:q=1:r=2;r===2&&(m!==void 0?p=g._("B\u1ea1n \u0111\u00e3 ch\u1eb7n tin nh\u1eafn v\u00e0 cu\u1ed9c g\u1ecdi c\u1ee7a {username}",[g._param("username",m)]):q=1);q===1&&(p=f!==void 0?l?g._("B\u1ea1n \u0111\u00e3 ch\u1eb7n tin nh\u1eafn v\u00e0 cu\u1ed9c g\u1ecdi t\u1eeb t\u00e0i kho\u1ea3n Workplace c\u1ee7a {full_name}",[g._param("full_name",f)]):o?g._("B\u1ea1n \u0111\u00e3 ch\u1eb7n {name}",[g._param("name",f)]):g._("B\u1ea1n \u0111\u00e3 ch\u1eb7n tin nh\u1eafn v\u00e0 cu\u1ed9c g\u1ecdi t\u1eeb t\u00e0i kho\u1ea3n Facebook c\u1ee7a {full_name}",[g._param("full_name",f)]):h!==void 0?g._("B\u1ea1n \u0111\u00e3 ch\u1eb7n {name}",[g._param("name",h)]):g._("B\u1ea1n \u0111\u00e3 ch\u1eb7n ng\u01b0\u1eddi n\u00e0y."));r=m!==void 0?g._("B\u1ea1n v\u00e0 {username} s\u1ebd kh\u00f4ng th\u1ec3 nh\u1eafn tin hay g\u1ecdi \u0111i\u1ec7n cho nhau trong \u0111o\u1ea1n chat n\u00e0y.",[g._param("username",m)]):o?g._("B\u1ea1n kh\u00f4ng th\u1ec3 nh\u1eafn tin cho h\u1ecd v\u00e0 c\u0169ng kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn c\u1ee7a h\u1ecd."):g._("B\u1ea1n kh\u00f4ng th\u1ec3 nh\u1eafn tin ho\u1eb7c g\u1ecdi \u0111i\u1ec7n cho h\u1ecd trong \u0111o\u1ea1n chat n\u00e0y, c\u0169ng nh\u01b0 kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn hay cu\u1ed9c g\u1ecdi c\u1ee7a h\u1ecd.");q=g._("Kh\u00f4ng ph\u1ea3i ai c\u0169ng c\u00f3 th\u1ec3 nh\u1eafn tin cho t\u00e0i kho\u1ea3n n\u00e0y.");f=j.jsx("div",{className:(i||(i=b("stylex")))(k.firstButton,e==="large"?k.firstButtonLarge:!1),children:b("cr:12000")==null?j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBlockActionDialog").__setRef("MWChatBlockedComposer.bs"),dialogProps:{targetFBID:c,threadFBID:c,onClose:function(a){},loggingData:{entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadViewBlockerComposer,requestId:void 0,source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,sourceOwner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI}},children:function(a,c){return j.jsx(b("TetraButton.react"),{label:g._("B\u1ecf ch\u1eb7n"),type:"secondary",onPress:a,ref:c})}}):j.jsx(b("cr:12000").make,{threadId:c})});h=d!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(k.secondButton,e==="large"?k.secondButtonLarge:!1),children:j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWChatBlockedComposer.bs"),dialogProps:{entryPoint:"BLOCK_COMPOSER",id:d,location:"MESSENGER_DIRECT_THREAD_DETAILS"},children:function(a,c){return j.jsx(b("TetraButton.react"),{label:g._("C\u00f3 g\u00ec \u0111\u00f3 kh\u00f4ng \u1ed5n"),type:"secondary",onPress:a,ref:c})}})}):null;m=e==="large"?j.jsxs(j.Fragment,{children:[h,f]}):j.jsxs(j.Fragment,{children:[f,h]});o=a?j.jsxs(j.Fragment,{children:[j.jsx(b("TetraTextPairing.react"),{body:j.jsx(b("MDSTextCommon.react"),{align:"center",color:"secondary",type:"body4",children:r}),headline:j.jsx(b("MDSTextCommon.react"),{color:"primary",type:"bodyLink4",children:p}),textAlign:"center"}),j.jsx("div",{className:(i||(i=b("stylex")))(e==="large"?k.inlineButtons:!1),children:m})]}):j.jsx(b("MDSTextCommon.react"),{align:"center",color:"secondary",type:"body4",children:q});return j.jsx("div",{className:i(k.root,e==="large"?k.rootLarge:!1),children:o})}c=b("cr:12000");d=a;f.styles=k;f.isWorkUser=l;f.$WorkChatComposerUnblockUser$requireCond=b("cr:12000");f.mwWorkChatComposerUnblockUser=c;f.make=d}),null);
__d("MWChatUnavailableComposer.bs",["fbt","MDSTextCommon.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"j1kv9ji2",paddingStart:"pcu7st4i"}};function a(a){a=g._("Ng\u01b0\u1eddi n\u00e0y \u0111ang v\u1eafng m\u1eb7t tr\u00ean Messenger.");return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextCommon.react"),{align:"center",color:"secondary",type:"body4",children:a})})}c=a;f.styles=k;f.make=c}),null);
__d("LSNullstateCTAType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.none=a;f.getStarted=c;f.icebreaker=d}),null);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743878");c=b("FalcoLoggerInternal").create("ls_reply_rendered",a);e.exports=c}),null);
__d("MWChatTextFormatting",["$InternalEnum","MessengerFormattingConfig","TetraText.react","UnicodeUtils","cr:1695543","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]);function j(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case i.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case i.CodeBlock:d=function(a){var b;return(b=a[4])!=null?b:a[5]};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var k=[i.CodeBlock,i.InlineCode,i.BlockQuote,i.InlineQuote,i.Bold,i.Italics,i.StrikeThrough];function a(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"ii04i59q b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 b3i9ofy5",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"ii04i59q b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 b3i9ofy5",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=[];k.forEach(function(c){var e=j(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,i=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=d("UnicodeUtils").substr(a,0,k.index);e=e.length-d("UnicodeUtils").strlen(e);var h=k.index-e,j=k[0].length;g&&(h+=k[i].length,j-=k[i].length);e=function(a){var b=h+j,c=a.offset+a.length;return b>a.offset&&h<c};var l=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+l;e.length+=j+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:l},length:j,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=l}),98);
__d("MWChatReplyText.bs",["CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={replyToText:{color:"m9osqain"}};function a(a){var c=a.text;a=a.ranges;var d={};d.MessengerTextFormatting=[b("MWChatTextFormatting").replyRenderer];c={maxLength:120,maxLines:2,truncationStyle:"ellipsis-only",withParagraphs:!1,text:c,renderers:d,transforms:b("MWChatTextTransform.bs").epdTextTransforms};a!==void 0&&(c.ranges=b("bs_caml_option").valFromOption(a));d=i.jsx(b("CometTextWithEntities.react"),c);return i.jsx("div",{dir:"auto",className:(h||(h=b("stylex")))(j.replyToText),children:d})}c=a;f.styles=j;f.make=c}),null);
__d("MWVersion.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.v1=a;f.v2=c}),null);
__d("LSContactLink.bs",["CometLink.react","CurrentEnvironment","FBID.bs","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.contact,d=a.children;a=a.testid;var e=c.K,f=b("MWLSContactTypeExactUtils.bs").isIgUser(c);if(e!==void 0&&f){f={href:"https://www.instagram.com/"+e,target:"_blank",children:d};a!==void 0&&(f.testid=a);return h.jsx(b("CometLink.react"),f)}e={href:(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.a))}),children:d};f=b("CurrentEnvironment").facebookdotcom?void 0:"_blank";f!==void 0&&(e.target=b("bs_caml_option").valFromOption(f));a!==void 0&&(e.testid=a);return h.jsx(b("CometLink.react"),e)}c=a;f.make=c}),null);
__d("MWPresenceText.bs",["fbt","CometRelativeTimestamp.react","MWChatContactPresenceHook.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){if(a!==void 0)return b("bs_caml_option").some(i.jsx(b("CometRelativeTimestamp.react"),{date:new Date(a),format:"minimized"}))}function k(a){a=a.contactId;var c=b("MWChatContactPresenceHook.bs").useIsActive(a);a=b("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(a);if(c)return g._("\u0110ang ho\u1ea1t \u0111\u1ed9ng");c=j(a);if(c!==void 0)return g._("Ho\u1ea1t \u0111\u1ed9ng {time} tr\u01b0\u1edbc",[g._param("time",b("bs_caml_option").valFromOption(c))]);else return null}d={make:k};function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=a.a;a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:e,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,d)})},[c,d,JSON.stringify(e)]));if(a!==void 0)return i.jsx(k,{contactId:a.b});else return null}e={fromLastActiveTimestampMs:j,PresenceText:d,useHook:a};function c(a){var c=a.a;a=b("bs_int64").to_string(c);var d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)})},[d,a]));a=a.map(function(a){return a.b});a=b("MWChatContactPresenceHook.bs").useHasActiveContact(a);if(a)return g._("\u0110ang ho\u1ea1t \u0111\u1ed9ng")}d={useHook:c};f.OneOnOne=e;f.Group=d}),null);
__d("LSPresenceStatusText.bs",["MWPresenceText.bs","MessagingThreadType.bs","bs_caml","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.thread,d=a.startContent;a=a.endContent;c=b("MWPresenceText.bs").OneOnOne.useHook(c);if(c===null)return null;else return h.jsxs(h.Fragment,{children:[d,c,a]})}c={make:i};function j(a){var c=a.thread,d=a.startContent;a=a.endContent;c=b("MWPresenceText.bs").Group.useHook(c);if(c!==void 0)return h.jsxs(h.Fragment,{children:[d,c,a]});else return null}d={make:j};function a(a){var c=a.thread,d=a.startContent;a=a.endContent;d=d!==void 0?b("bs_caml_option").valFromOption(d):null;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var e=c.c;if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne))return h.jsx(i,{thread:c,startContent:d,endContent:a});else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group))return h.jsx(j,{thread:c,startContent:d,endContent:a});else return null}e=a;f.OneOnOnePresence=c;f.GroupPresence=d;f.make=e}),null);
__d("LSVerificationBadge.bs",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_belt_Array","bs_belt_Option","bs_caml","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={badge:{paddingStart:"scb9dxdr"}};function a(a){var c=a.thread;a=a.size;var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a,e=b("ReQLSuspense.bs").firstExn((a=b("ReQL.bs")).map(b("ReQLTable").table(d,"_user_info").asc,function(a){return a.b}));return a.map(a.filter(a.getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c.a,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)}),function(a){var c=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:a.b,tl:0}));return[a,c]})},[d,JSON.stringify(c.a)]));if(e.length!==1)return null;e=b("bs_belt_Array").get(e,0);if(e===void 0)return null;e=e[1];if(e!==void 0&&b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,e),!1))return i.jsx("span",{className:(h||(h=b("stylex")))(j.badge),children:i.jsx(b("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})});else return null}c=a;f.styles=j;f.make=c}),null);
__d("MWChatHeaderDetailsSubtitleIcons.bs",["cr:1737008"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1737008").Muted;f.$MDSMWChatHeaderDetailsSubtitleIcons$OR$TetraMWChatHeaderDetailsSubtitleIcons$requireCond=b("cr:1737008");f.Muted=a}),null);
__d("MWChatHeaderDetailsSubtitle.bs",["fbt","ix","CometMiddot.react","CometTintedIcon.react","MWChatHeaderDetailsSubtitleIcons.bs","MWPTooltip.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.isMuted,d=a.isOngoingCall,e=a.isActiveNow;a=a.actorAttribution;d=d?g._("Cu\u1ed9c g\u1ecdi \u0111ang di\u1ec5n ra"):e?g._("\u0110ang ho\u1ea1t \u0111\u1ed9ng"):a!==void 0?a:null;e=c&&d!==null?j.jsx(b("CometMiddot.react"),{}):null;a=c?j.jsx(b("MWPTooltip.react"),{tooltip:g._("Cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y \u0111\u00e3 b\u1ecb t\u1eaft th\u00f4ng b\u00e1o. C\u00e1c tab tr\u00f2 chuy\u1ec7n s\u1ebd kh\u00f4ng b\u1eadt l\u00ean v\u00e0 th\u00f4ng b\u00e1o \u0111\u1ea9y \u0111\u00e3 t\u1eaft."),align:"start",position:"above",children:j.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(h("636130"),12),testid:"comet_messenger_mute_icon"})}):null;return j.jsxs(j.Fragment,{children:[d,e,a]})}function c(a){return g._("\u0110ang ho\u1ea1t \u0111\u1ed9ng")}function d(a){a=a.forceInlineDisplay;var c={tooltip:g._("Cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y \u0111\u00e3 b\u1ecb t\u1eaft th\u00f4ng b\u00e1o. C\u00e1c tab tr\u00f2 chuy\u1ec7n s\u1ebd kh\u00f4ng b\u1eadt l\u00ean v\u00e0 th\u00f4ng b\u00e1o \u0111\u1ea9y \u0111\u00e3 t\u1eaft."),align:"start",position:"above",children:b("bs_curry")._1(b("MWChatHeaderDetailsSubtitleIcons.bs").Muted.icon,void 0)};a!==void 0&&(c.forceInlineDisplay=a);return j.jsx(b("MWPTooltip.react"),c)}function e(a){return g._("Cu\u1ed9c g\u1ecdi \u0111ang di\u1ec5n ra")}a=a;c=c;d=d;e=e;f.make=a;f.activeNow=c;f.mutedIcon=d;f.ongoingCall=e}),null);
__d("MWInboxHeaderDetails.bs",["CometMiddot.react","CometPlaceholder.react","LSContactLink.bs","LSPresenceStatusText.bs","LSRtcCallState.bs","LSThreadTitle.bs","LSVerificationBadge.bs","MDSTextCommon.react","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Array","bs_caml","bs_caml_int64","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"ll8tlv6m",justifyContent:"bkfpd7mw",flexGrow:"buofh1pr",minHeight:"qx9c56kf"},title:{marginTop:"aahdfvyu",marginBottom:"bi6gxh9e"},item:{maxWidth:"d2edcug0",display:"j83agx80",alignItems:"bp9cbjyn"}};function a(a){var c=a.thread,d=a.threadNameSize,e=a.color;a=a.isTitleALink;a=a!==void 0?a:!0;var f=b("ReStore.bs").useHook(void 0),g=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"contacts").asc,{hd:c.a,tl:0})},[f,JSON.stringify(c.a)]));if(b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").oneToOne)){g=b("bs_belt_Array").get(g.filter(b("MWLSContactTypeExactUtils.bs").isIgUser).map(function(a){return a.K}),0);if(g!==void 0){g=b("bs_caml_option").valFromOption(g);g=g!==void 0?g:null}else g=null}else g=null;var k=b("bs_caml").i64_eq(c.l,b("bs_caml_int64").neg_one)||b("bs_caml").i64_gt(c.l,b("bs_caml_int64").of_float(Date.now())),l=b("bs_caml").i64_neq(c.u,b("LSRtcCallState.bs").noOngoingCall),m=i.jsx(b("CometMiddot.react"),{});a=b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").oneToOne)&&a?i.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,c,d){return i.jsx(b("LSContactLink.bs").make,{contact:a,participant:c,children:d})}}):i.jsx(b("LSThreadTitle.bs").make,{thread:c});d={align:"center",isSemanticHeading:!0,type:d,numberOfLines:1,children:[a,i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("LSVerificationBadge.bs").make,{thread:c,size:"small"}),fallback:null})],testid:"mw_inbox_header_details_title"};e!==void 0&&(d.color=b("bs_caml_option").valFromOption(e));a={align:"center",type:"meta3",numberOfLines:1,children:[g,(l||k)&&g!==null?m:null,l?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{}):i.jsx(b("LSPresenceStatusText.bs").make,{thread:c,startContent:g!==null?m:null,endContent:k?m:null}),k&&l?m:null,k?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx("div",{className:h(j.item,j.title),children:i.jsxs(b("MDSTextCommon.react"),d)}),i.jsx("div",{className:h(j.item),children:i.jsxs(b("MDSTextCommon.react"),a)})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWInboxHeaderDetailsContainer.bs",["CometPlaceholder.react","MDSRow.react","MDSRowItem.react","MWInboxHeaderDetails.bs","MWThreadPicture.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.photoSize,e=a.badgeSize,f=a.threadNameSize,g=a.color;a=a.isTitleALink;d=d!==void 0?d:"s_40";e=e!==void 0?e:10;f=f!==void 0?f:"headlineEmphasized3";f={thread:c,threadNameSize:f};g!==void 0&&(f.color=b("bs_caml_option").valFromOption(g));a!==void 0&&(f.isTitleALink=b("bs_caml_option").valFromOption(a));return h.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",expanding:!0,children:h.jsxs(b("CometPlaceholder.react"),{children:[h.jsx(b("MDSRowItem.react"),{children:h.jsx(b("MWThreadPicture.bs").make,{photoSize:d,badgeSize:e,thread:c})}),h.jsx(b("MDSRowItem.react"),{expanding:!0,children:h.jsx(b("MWInboxHeaderDetails.bs").make,f)})],fallback:"suspending"})})}c=a;f.make=c}),null);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755417")).$$Audio;d=a.Video;e=a.Info;f.$MDSMWChatRTCButtonIcons$OR$TetraMWChatRTCButtonIcons$requireCond=a;f.$$Audio=c;f.Video=d;f.Info=e}),null);
__d("RTWebLoggingComponentConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="participate_live_dialog")return"participate_live_dialog";else if(a==="free_call")return"free_call";else if(a==="submit_feedback")return"submit_feedback";else if(a==="calendar_clock")return"calendar_clock";else if(a==="rating_not_now")return"rating_not_now";else if(a==="view_participants")return"view_participants";else if(a==="video_escalate_accept")return"video_escalate_accept";else if(a==="media_access_pending")return"media_access_pending";else if(a==="calendar_clock_tooltip")return"calendar_clock_tooltip";else if(a==="create_live_dialog_next_button")return"create_live_dialog_next_button";else if(a==="raise_hand_queue")return"raise_hand_queue";else if(a==="self_view_minimize")return"self_view_minimize";else if(a==="banner")return"banner";else if(a==="live_indicator")return"live_indicator";else if(a==="more_options")return"more_options";else if(a==="end_live_dialog_end_button")return"end_live_dialog_end_button";else if(a==="create_live_dialog_show_button")return"create_live_dialog_show_button";else if(a==="save_button")return"save_button";else if(a==="start_call_button")return"start_call_button";else if(a==="mweb_roster_row")return"mweb_roster_row";else if(a==="create_live_dialog_start_button")return"create_live_dialog_start_button";else if(a==="incoming_ring_tone")return"incoming_ring_tone";else if(a==="upgrade_chrome")return"upgrade_chrome";else if(a==="recent_calls")return"recent_calls";else if(a==="toggle_filters")return"toggle_filters";else if(a==="screensharing_pop_out_button")return"screensharing_pop_out_button";else if(a==="join_call_button")return"join_call_button";else if(a==="window_resize")return"window_resize";else if(a==="fullscreen_enable")return"fullscreen_enable";else if(a==="calendar_meeting_now_notification_join")return"calendar_meeting_now_notification_join";else if(a==="participant_remove")return"participant_remove";else if(a==="self_view_unminimize")return"self_view_unminimize";else if(a==="review_room")return"review_room";else if(a==="call_back")return"call_back";else if(a==="copy_link")return"copy_link";else if(a==="schedule_room")return"schedule_room";else if(a==="scroll_filters")return"scroll_filters";else if(a==="media_access_rejected")return"media_access_rejected";else if(a==="participant_row_unselect")return"participant_row_unselect";else if(a==="participate_live_dialog_join_button")return"participate_live_dialog_join_button";else if(a==="fullscreen")return"fullscreen";else if(a==="pin_speaker")return"pin_speaker";else if(a==="video_escalate")return"video_escalate";else if(a==="browser_notification")return"browser_notification";else if(a==="calendar_end_call_view")return"calendar_end_call_view";else if(a==="upgrade_edge")return"upgrade_edge";else if(a==="redial")return"redial";else if(a==="toggle_video_first")return"toggle_video_first";else if(a==="poor_network_tooltip")return"poor_network_tooltip";else if(a==="install_app_button")return"install_app_button";else if(a==="video_filter_option")return"video_filter_option";else if(a==="calendar_end_call_view_join")return"calendar_end_call_view_join";else if(a==="chat_panel_message")return"chat_panel_message";else if(a==="audio_button")return"audio_button";else if(a==="plus_expander_menu")return"plus_expander_menu";else if(a==="participant_row_select")return"participant_row_select";else if(a==="fullscreen_disable")return"fullscreen_disable";else if(a==="toggle_chat")return"toggle_chat";else if(a==="toggle_camera")return"toggle_camera";else if(a==="accept_button")return"accept_button";else if(a==="settings")return"settings";else if(a==="participate_live_dialog_leave_button")return"participate_live_dialog_leave_button";else if(a==="calendar_meeting_now_notification")return"calendar_meeting_now_notification";else if(a==="raise_hand")return"raise_hand";else if(a==="call_again")return"call_again";else if(a==="toggle_audio")return"toggle_audio";else if(a==="video_button")return"video_button";else if(a==="create_room")return"create_room";else if(a==="star_rating")return"star_rating";else if(a==="message")return"message";else if(a==="video_layout_switch")return"video_layout_switch";else if(a==="more_options_live_comments_menu")return"more_options_live_comments_menu";else if(a==="unpin_speaker")return"unpin_speaker";else if(a==="select_invitees")return"select_invitees";else if(a==="upsell_rooms_chrome_extension")return"upsell_rooms_chrome_extension";else if(a==="close_dialog")return"close_dialog";else if(a==="add_participant")return"add_participant";else if(a==="toggle_video")return"toggle_video";else if(a==="self_view")return"self_view";else if(a==="close_chat")return"close_chat";else if(a==="end_live_dialog_show_button")return"end_live_dialog_show_button";else if(a==="end_call_button")return"end_call_button";else if(a==="video_escalate_decline")return"video_escalate_decline";else if(a==="calendar_meeting_soon_notification")return"calendar_meeting_soon_notification";else if(a==="decline_button")return"decline_button";else if(a==="screensharing")return"screensharing";else if(a==="close_window")return"close_window";else return"cancel_button"}function c(a){switch(a){case"accept_button":return"accept_button";case"add_participant":return"add_participant";case"audio_button":return"audio_button";case"banner":return"banner";case"browser_notification":return"browser_notification";case"calendar_clock":return"calendar_clock";case"calendar_clock_tooltip":return"calendar_clock_tooltip";case"calendar_end_call_view":return"calendar_end_call_view";case"calendar_end_call_view_join":return"calendar_end_call_view_join";case"calendar_meeting_now_notification":return"calendar_meeting_now_notification";case"calendar_meeting_now_notification_join":return"calendar_meeting_now_notification_join";case"calendar_meeting_soon_notification":return"calendar_meeting_soon_notification";case"call_again":return"call_again";case"call_back":return"call_back";case"cancel_button":return"cancel_button";case"chat_panel_message":return"chat_panel_message";case"close_chat":return"close_chat";case"close_dialog":return"close_dialog";case"close_window":return"close_window";case"copy_link":return"copy_link";case"create_live_dialog_next_button":return"create_live_dialog_next_button";case"create_live_dialog_show_button":return"create_live_dialog_show_button";case"create_live_dialog_start_button":return"create_live_dialog_start_button";case"create_room":return"create_room";case"decline_button":return"decline_button";case"end_call_button":return"end_call_button";case"end_live_dialog_end_button":return"end_live_dialog_end_button";case"end_live_dialog_show_button":return"end_live_dialog_show_button";case"free_call":return"free_call";case"fullscreen":return"fullscreen";case"fullscreen_disable":return"fullscreen_disable";case"fullscreen_enable":return"fullscreen_enable";case"incoming_ring_tone":return"incoming_ring_tone";case"install_app_button":return"install_app_button";case"join_call_button":return"join_call_button";case"live_indicator":return"live_indicator";case"media_access_pending":return"media_access_pending";case"media_access_rejected":return"media_access_rejected";case"message":return"message";case"more_options":return"more_options";case"more_options_live_comments_menu":return"more_options_live_comments_menu";case"mweb_roster_row":return"mweb_roster_row";case"participant_remove":return"participant_remove";case"participant_row_select":return"participant_row_select";case"participant_row_unselect":return"participant_row_unselect";case"participate_live_dialog":return"participate_live_dialog";case"participate_live_dialog_join_button":return"participate_live_dialog_join_button";case"participate_live_dialog_leave_button":return"participate_live_dialog_leave_button";case"pin_speaker":return"pin_speaker";case"plus_expander_menu":return"plus_expander_menu";case"poor_network_tooltip":return"poor_network_tooltip";case"raise_hand":return"raise_hand";case"raise_hand_queue":return"raise_hand_queue";case"rating_not_now":return"rating_not_now";case"recent_calls":return"recent_calls";case"redial":return"redial";case"review_room":return"review_room";case"save_button":return"save_button";case"schedule_room":return"schedule_room";case"screensharing":return"screensharing";case"screensharing_pop_out_button":return"screensharing_pop_out_button";case"scroll_filters":return"scroll_filters";case"select_invitees":return"select_invitees";case"self_view":return"self_view";case"self_view_minimize":return"self_view_minimize";case"self_view_unminimize":return"self_view_unminimize";case"settings":return"settings";case"star_rating":return"star_rating";case"start_call_button":return"start_call_button";case"submit_feedback":return"submit_feedback";case"toggle_audio":return"toggle_audio";case"toggle_camera":return"toggle_camera";case"toggle_chat":return"toggle_chat";case"toggle_filters":return"toggle_filters";case"toggle_video":return"toggle_video";case"toggle_video_first":return"toggle_video_first";case"unpin_speaker":return"unpin_speaker";case"upgrade_chrome":return"upgrade_chrome";case"upgrade_edge":return"upgrade_edge";case"upsell_rooms_chrome_extension":return"upsell_rooms_chrome_extension";case"video_button":return"video_button";case"video_escalate":return"video_escalate";case"video_escalate_accept":return"video_escalate_accept";case"video_escalate_decline":return"video_escalate_decline";case"video_filter_option":return"video_filter_option";case"video_layout_switch":return"video_layout_switch";case"view_participants":return"view_participants";case"window_resize":return"window_resize";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingComponent.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("RTWebLoggingSurfaceConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="screensharing_pop_out")return"screensharing_pop_out";else if(a==="group_call_participant_picker_dialog")return"group_call_participant_picker_dialog";else if(a==="chat_panel")return"chat_panel";else if(a==="setting_dialog")return"setting_dialog";else if(a==="pre_call_screen")return"pre_call_screen";else if(a==="admin_message")return"admin_message";else if(a==="timeline_top_section")return"timeline_top_section";else if(a==="group_call_view_members_dialog")return"group_call_view_members_dialog";else if(a==="chat_tab")return"chat_tab";else if(a==="missed_call_dialog")return"missed_call_dialog";else if(a==="meeting_room_intern_search_card")return"meeting_room_intern_search_card";else if(a==="meeting_room_map_dialog")return"meeting_room_map_dialog";else if(a==="call_controls")return"call_controls";else if(a==="mweb_roster_view")return"mweb_roster_view";else if(a==="work_profile")return"work_profile";else if(a==="audio_fallback_dialog")return"audio_fallback_dialog";else if(a==="call_container")return"call_container";else if(a==="chat_sidebar")return"chat_sidebar";else if(a==="post_vc_call_upsell")return"post_vc_call_upsell";else if(a==="messenger_bubble")return"messenger_bubble";else if(a==="www_roster_view")return"www_roster_view";else if(a==="incoming_call_dialog")return"incoming_call_dialog";else if(a==="unsupported_browser_dialog")return"unsupported_browser_dialog";else if(a==="workplace_group_chat")return"workplace_group_chat";else if(a==="star_rating_surface")return"star_rating_surface";else if(a==="group_call_add_members_dialog")return"group_call_add_members_dialog";else if(a==="dropdown_call_menu")return"dropdown_call_menu";else if(a==="messages_jewel")return"messages_jewel";else if(a==="chat_sidebar_confirmation_dialog")return"chat_sidebar_confirmation_dialog";else if(a==="meeting_room_profile")return"meeting_room_profile";else if(a==="messenger_header")return"messenger_header";else if(a==="workplace_p2p_chat")return"workplace_p2p_chat";else if(a==="work_hovercard")return"work_hovercard";else if(a==="thread_list")return"thread_list";else if(a==="call_header")return"call_header";else if(a==="post_rooms_call_upsell")return"post_rooms_call_upsell";else return"desktop_notification"}function c(a){switch(a){case"admin_message":return"admin_message";case"audio_fallback_dialog":return"audio_fallback_dialog";case"call_container":return"call_container";case"call_controls":return"call_controls";case"call_header":return"call_header";case"chat_panel":return"chat_panel";case"chat_sidebar":return"chat_sidebar";case"chat_sidebar_confirmation_dialog":return"chat_sidebar_confirmation_dialog";case"chat_tab":return"chat_tab";case"desktop_notification":return"desktop_notification";case"dropdown_call_menu":return"dropdown_call_menu";case"group_call_add_members_dialog":return"group_call_add_members_dialog";case"group_call_participant_picker_dialog":return"group_call_participant_picker_dialog";case"group_call_view_members_dialog":return"group_call_view_members_dialog";case"incoming_call_dialog":return"incoming_call_dialog";case"meeting_room_intern_search_card":return"meeting_room_intern_search_card";case"meeting_room_map_dialog":return"meeting_room_map_dialog";case"meeting_room_profile":return"meeting_room_profile";case"messages_jewel":return"messages_jewel";case"messenger_bubble":return"messenger_bubble";case"messenger_header":return"messenger_header";case"missed_call_dialog":return"missed_call_dialog";case"mweb_roster_view":return"mweb_roster_view";case"post_rooms_call_upsell":return"post_rooms_call_upsell";case"post_vc_call_upsell":return"post_vc_call_upsell";case"pre_call_screen":return"pre_call_screen";case"screensharing_pop_out":return"screensharing_pop_out";case"setting_dialog":return"setting_dialog";case"star_rating_surface":return"star_rating_surface";case"thread_list":return"thread_list";case"timeline_top_section":return"timeline_top_section";case"unsupported_browser_dialog":return"unsupported_browser_dialog";case"work_hovercard":return"work_hovercard";case"work_profile":return"work_profile";case"workplace_group_chat":return"workplace_group_chat";case"workplace_p2p_chat":return"workplace_p2p_chat";case"www_roster_view":return"www_roster_view";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingSurface.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("MWChatConfirmTabCloseDialog.bs",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={body:g._("B\u1ea1n c\u00f3 ch\u1eafc b\u1ea1n mu\u1ed1n \u0111\u00f3ng c\u1eeda s\u1ed5 chat n\u00e0y kh\u00f4ng?"),confirm:g._("OK"),title:g._("B\u1ea1n ch\u01b0a g\u1eedi tin nh\u1eafn c\u1ee7a m\u00ecnh.")};f.content=a}),null);
__d("ZenonUserActionLoggerCommon.bs",["cr:11084"],(function(a,b,c,d,e,f){"use strict";a=b("cr:11084").logClick;c=b("cr:11084").logImpression;f.$LazyZenonUserActionLoggerForMessenger$OR$ZenonUserActionLogger$requireCond=b("cr:11084");f.logClick=a;f.logImpression=c}),null);
__d("MWChatInThreadBanner.bs",["CometImageIcon_DEPRECATED.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSTextCommon.react","TetraButton.react","TetraTextPairing.react","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{position:"l9j0dhe7",backgroundColor:"nred35xi"},sheet:{borderBottom:"s1tcr66n"},sheetInner:{width:"k4urcfbm",paddingBottom:"osnr6wyh"},image:{marginEnd:"cxmmr5t8"},infoLabel:{backgroundColor:"tdjehn4e",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"ggysqto6",paddingEnd:"ph5uu5jm",paddingBottom:"ojkyduve",paddingStart:"b3onmgus",textOverflow:"ltmttdrg",whiteSpace:"g0qnabr5"},grow:{flexGrow:"buofh1pr"},linkBanner:{width:"k4urcfbm"}};function k(a){var c=a.button;a=a.action;var d=c.e;if(typeof a==="number"){b("recoverableViolation")("In thread banner cta not implemented: "+c.d,"messenger_web_product");return null}switch(a.TAG|0){case 0:return i.jsx(b("MDSRowItem.react"),{xstyle:j.grow,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",linkProps:{target:"_blank",url:a._0}})});case 1:var e=a._0;c={label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(e,void 0)}};a._1!==void 0&&(c.ref=b("bs_caml_option").valFromOption(a._1));return i.jsx(b("MDSRowItem.react"),{xstyle:j.grow,children:i.jsx(b("TetraButton.react"),c)});case 2:return i.jsx(b("MDSRowItem.react"),{xstyle:j.grow,children:b("bs_curry")._1(a._0,function(a,c,e,f,g,h,j){return i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a})})})}}c={make:k};function a(a){var c=a.banner;a=a.ctaParser;var d=c.banner.d;d=d!==void 0?i.jsx(b("MDSRowItem.react"),{expanding:!1,children:i.jsx("div",{className:(h||(h=b("stylex")))(j.image),children:i.jsx(b("CometImageIcon_DEPRECATED.react"),{size:24,src:d,style:"circle"})})}):null;var e=i.jsx(b("MDSRowItem.react"),{expanding:!0,children:i.jsx(b("TetraTextPairing.react"),{body:b("bs_belt_Option").getWithDefault(c.banner.h,"")+b("bs_belt_Option").getWithDefault(c.banner.i,""),meta:b("bs_belt_Option").mapWithDefault(c.banner.g,null,function(a){return a}),level:4,bodyLineLimit:1,metaLineLimit:1,metaLocation:"above"})}),f=c.banner.t;f=f!==void 0?i.jsx(b("MDSRowItem.react"),{children:i.jsx(b("MDSTextCommon.react"),{type:"meta1",children:i.jsx("span",{className:(h||(h=b("stylex")))(j.infoLabel),children:f})})}):null;var g=c.leftButton,l=c.rightButton,m,n=0,o;g!==void 0?l!==void 0?m=i.jsxs(b("MDSRow.react"),{paddingTop:8,children:[i.jsx(k,{button:g,action:b("bs_curry")._2(a,c,g)}),i.jsx(k,{button:l,action:b("bs_curry")._2(a,c,l)})]}):(o=g,n=1):l!==void 0?(o=l,n=1):m=null;n===1&&(m=i.jsx(b("MDSRow.react"),{paddingTop:8,children:i.jsx(k,{button:o,action:b("bs_curry")._2(a,c,o)})}));var p=i.jsxs("div",{className:(h||(h=b("stylex")))(j.sheetInner),children:[i.jsxs(b("MDSRow.react"),{children:[d,e,f]}),m]});g=b("bs_belt_Option").map(c.bannerAction,b("bs_curry")._1(a,c));var q;if(g!==void 0)if(typeof g==="number")b("recoverableViolation")("In thread banner cta not implemented: "+b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(c.bannerAction,function(a){return a.d}),""),"messenger_web_product"),q=p;else switch(g.TAG|0){case 0:q=i.jsx(b("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:g._0},xstyle:function(a){return[j.linkBanner]},children:p});break;case 1:var r=g._0;l={expanding:!0,onPress:function(a){return b("bs_curry")._1(r,void 0)},children:p};g._1!==void 0&&(l.ref=b("bs_caml_option").valFromOption(g._1));q=i.jsx(b("CometPressable.react"),l);break;case 2:q=b("bs_curry")._1(g._0,function(a,c,d,e,f,g,h){return i.jsx(b("CometPressable.react"),{expanding:!0,ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},children:p})});break}else q=p;return i.jsx("div",{className:h(j.container),children:i.jsx("div",{className:h(j.sheet),children:q})})}d=a;f.styles=j;f.BannerButton=c;f.make=d}),null);
__d("MWLSEnsureInThreadBannerExists.bs",["LS.bs","LSInThreadBannerFetchBannersStoredProcedure","LSTransaction.bs","MWThreadKey.bs","ReStore.bs","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSInThreadBannerFetchBannersStoredProcedure")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("MWLSInThreadBanner.bs",["ReQL.bs","ReQLSuspense.bs","ReQLTable","bs_belt_Array","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64","qex"],(function(a,b,c,d,e,f){"use strict";d={a:(c=b("bs_caml_int64")).zero,b:c.zero,c:c.zero,d:void 0,e:void 0,f:void 0,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:void 0,m:void 0,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0};e={a:c.zero,b:c.zero,c:c.zero,d:"fallback",e:"",f:void 0,g:void 0,h:void 0};var g=[];g={banner:d,leftButton:void 0,rightButton:void 0,bannerAction:void 0,overflowMenuActions:g};function a(a,c){var d=b("qex")._("223")===!0;if(d){return(d=b("ReQL.bs")).map(d.leftJoin(d.getKeyRange(b("ReQLTable").table(a,"in_thread_banner").asc,{hd:c,tl:0}),d.getKeyRange(b("ReQLTable").table(a,"in_thread_banner_overflow_menu").asc,{hd:c,tl:0})),function(c){var d=c[1];c=c[0];var e=new Map(b("ReQLSuspense.bs").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"in_thread_banner_ctas").asc,{hd:c.b,tl:0}),function(a){return[b("bs_int64").to_string(a.b),a]}))),f=function(a){return b("bs_caml_option").nullable_to_opt(e.get(b("bs_int64").to_string(a)))};return{banner:c,leftButton:b("bs_belt_Option").flatMap(c.j,f),rightButton:b("bs_belt_Option").flatMap(c.m,f),bannerAction:b("bs_belt_Option").flatMap(c.r,f),overflowMenuActions:d!==void 0?b("bs_belt_Array").keepMap([d.c,d.f,d.i,d.l,d.o],function(a){return b("bs_belt_Option").flatMap(a,f)}):[]}})}else{return(d=b("ReQL.bs")).map(d.mergeJoin(d.getKeyRange(b("ReQLTable").table(a,"in_thread_banner").asc,{hd:c,tl:0}),d.getKeyRange(b("ReQLTable").table(a,"in_thread_banner_overflow_menu").asc,{hd:c,tl:0})),function(c){var d=c[1];c=c[0];var e=new Map(b("ReQLSuspense.bs").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"in_thread_banner_ctas").asc,{hd:c.b,tl:0}),function(a){return[b("bs_int64").to_string(a.b),a]}))),f=function(a){return b("bs_caml_option").nullable_to_opt(e.get(b("bs_int64").to_string(a)))};return{banner:c,leftButton:b("bs_belt_Option").flatMap(c.j,f),rightButton:b("bs_belt_Option").flatMap(c.m,f),bannerAction:b("bs_belt_Option").flatMap(c.r,f),overflowMenuActions:b("bs_belt_Array").keepMap([d.c,d.f,d.i,d.l,d.o],function(a){return b("bs_belt_Option").flatMap(a,f)})}})}}c={a:c.zero,b:c.zero,c:void 0,d:void 0,e:void 0,f:void 0,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:void 0,m:void 0,n:void 0,o:void 0,p:void 0,q:void 0};f.emptyBanner=d;f.emptyCta=e;f.emptyMenu=c;f.empty=g;f.getInThread=a}),null);
__d("C2CTransactionActionConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="LABEL_COMPLETED")return"LABEL_COMPLETED";else if(a==="MARK_AS_SOLD")return"MARK_AS_SOLD";else if(a==="RATE_SELLER")return"RATE_SELLER";else if(a==="LABEL_AWAITING_PAYMENT")return"LABEL_AWAITING_PAYMENT";else if(a==="LABEL_SHIPPED")return"LABEL_SHIPPED";else if(a==="RATE_BUYER")return"RATE_BUYER";else if(a==="MAKE_AN_OFFER")return"MAKE_AN_OFFER";else if(a==="LABEL_PAID")return"LABEL_PAID";else if(a==="LISTING_REMOVAL")return"LISTING_REMOVAL";else if(a==="BUYER_SURVEY_THREAD_AFTER_MAS")return"BUYER_SURVEY_THREAD_AFTER_MAS";else if(a==="LABEL_CASH_ON_DELIVERY")return"LABEL_CASH_ON_DELIVERY";else if(a==="BUYER_SURVEY_BROWSE_FEED")return"BUYER_SURVEY_BROWSE_FEED";else if(a==="LABEL_NEEDS_SHIPPING")return"LABEL_NEEDS_SHIPPING";else if(a==="REQUEST_RATING")return"REQUEST_RATING";else if(a==="DELETE")return"DELETE";else if(a==="MARK_AS_SHIPPED")return"MARK_AS_SHIPPED";else if(a==="X_DAYS_MESSENGER_BOT")return"X_DAYS_MESSENGER_BOT";else if(a==="BUYER_SURVEY_BSG_GROUP_MALL")return"BUYER_SURVEY_BSG_GROUP_MALL";else return"MARK_AS_PAID"}function c(a){switch(a){case"BUYER_SURVEY_BROWSE_FEED":return"BUYER_SURVEY_BROWSE_FEED";case"BUYER_SURVEY_BSG_GROUP_MALL":return"BUYER_SURVEY_BSG_GROUP_MALL";case"BUYER_SURVEY_THREAD_AFTER_MAS":return"BUYER_SURVEY_THREAD_AFTER_MAS";case"DELETE":return"DELETE";case"LABEL_AWAITING_PAYMENT":return"LABEL_AWAITING_PAYMENT";case"LABEL_CASH_ON_DELIVERY":return"LABEL_CASH_ON_DELIVERY";case"LABEL_COMPLETED":return"LABEL_COMPLETED";case"LABEL_NEEDS_SHIPPING":return"LABEL_NEEDS_SHIPPING";case"LABEL_PAID":return"LABEL_PAID";case"LABEL_SHIPPED":return"LABEL_SHIPPED";case"LISTING_REMOVAL":return"LISTING_REMOVAL";case"MAKE_AN_OFFER":return"MAKE_AN_OFFER";case"MARK_AS_PAID":return"MARK_AS_PAID";case"MARK_AS_SHIPPED":return"MARK_AS_SHIPPED";case"MARK_AS_SOLD":return"MARK_AS_SOLD";case"RATE_BUYER":return"RATE_BUYER";case"RATE_SELLER":return"RATE_SELLER";case"REQUEST_RATING":return"REQUEST_RATING";case"X_DAYS_MESSENGER_BOT":return"X_DAYS_MESSENGER_BOT";default:return b("bs_js_exn").raiseError("Invalid C2CTransactionAction.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("MWLSExecuteInThreadBannerCta.bs",["LS.bs","LSInThreadBannerExecuteCTAStoredProcedure","LSTransaction.bs","ReStore.bs","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(a){var d=b("LSTransaction.bs").run(c,function(c){return b("LSInThreadBannerExecuteCTAStoredProcedure")(a,b("LS.bs").make(c))},"readWrite");b("promiseDone")(d,void 0,void 0)},[c])}f.useHook=a}),null);
__d("MWLSMarketplaceCtaParser.bs",["C2CTransactionActionConvert.bs","CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint","JSResource","MWLSActor.bs","MWLSExecuteInThreadBannerCta.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","bs_int64","qex","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var i=new Set(c);d=new Set(c.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount"]));function j(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:e,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,d)}),function(a){return a.b})},[JSON.stringify(d),e,c]);a=b("ReQLSubscription.bs").useArray(a);var f=a.length;if(f!==1)return;f=a[0];return b("bs_int64").to_string(f)}function a(a){var c=b("MWLSExecuteInThreadBannerCta.bs").useHook(void 0),d=j(void 0);a=b("useCometLazyDialog")(b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs"));var e=a[1],f=a[0],g=b("bs_int64").to_string(b("MWThreadKey.bs").useIdMemoizedExn(void 0)),k=(a=b("useCometEntryPointDialog"))(b("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:g}),l=k[0];k=a(b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint"),{threadId:g});var m=k[0];k=a(b("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:g});var n=k[0];k=a(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:g});var o=k[0];return h.useMemo(function(){var a=function a(j,k){var p=k.d;if(p==="marketplace_see_details"){var q=k.g;if(q!==void 0)return{TAG:0,_0:q};q=k.f;if(q!==void 0)return{TAG:0,_0:q};else{b("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return 0}}if(p!=="marketplace_view_profile")if(p==="marketplace_more_options"&&j.overflowMenuActions.length>0)return{TAG:2,_0:function(c){return h.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),popoverProps:{menu:j.overflowMenuActions,ctaParser:function(b){return a(j,b)}},align:"end",children:c})}};else if(p==="marketplace_report_buyer"||p==="marketplace_report_seller")if(d!==void 0)return{TAG:1,_0:function(a){return f({entryPoint:"REPORT_BUTTON",id:d,location:p==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(a){})},_1:e};else{b("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return 0}else if(p==="marketplace_mark_as_sold_with_txn_survey"||p==="marketplace_mark_as_sold_with_txn_survey_scaled")return{TAG:1,_0:function(a){b("bs_curry")._1(c,k.b);if(b("qex")._("1911463")===!0)return m({action:b("bs_curry")._1(b("C2CTransactionActionConvert.bs").converter.toJS,"MARK_AS_SOLD")},function(a){})},_1:void 0};else if(i.has(p))return{TAG:1,_0:function(a){return b("bs_curry")._1(c,k.b)},_1:void 0};else if(p==="marketplace_label_chat")return{TAG:1,_0:function(a){return l({threadID:g},function(a){return b("bs_curry")._1(c,k.b)})},_1:void 0};else if(p==="marketplace_mark_as_paid")return{TAG:1,_0:function(a){return n({threadID:g},function(a){return b("bs_curry")._1(c,k.b)})},_1:void 0};else if(p==="marketplace_create_discount")return{TAG:1,_0:function(a){b("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return o({threadID:g},function(a){return b("bs_curry")._1(c,k.b)})},_1:void 0};else return 0;q=k.g;if(q!==void 0)return{TAG:0,_0:q};q=k.f;if(q!==void 0)return{TAG:0,_0:q};else{b("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return 0}};return a},[c,d,f,e,l,m,g])}f.marketplaceCta=d;f.useOtherParticipantId=j;f.useHook=a}),null);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("MWLSMarketplaceCtaParser.bs").useHook(void 0),d=b("MWLSAdContextCtaParser.bs").useHook(void 0);return function(a,e){var f=e.d;if(b("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(f))return b("bs_curry")._2(c,a,e);else if(b("MWLSAdContextCtaParser.bs").adContextCta.has(f))return b("bs_curry")._2(d,a,e);else return 0}}f.useHook=a}),null);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.bs","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBanner.bs","MWLSInThreadBannerCtaParser.bs","MWThreadKey.bs","ReQLSubscription.bs","ReStore.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){b("MWLSEnsureInThreadBannerExists.bs").useHook(void 0);b("MWLSEnsureAdContextExists.bs").useHook(void 0);var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){return b("MWLSInThreadBanner.bs").getInThread(c,d)},[c,d]);a=b("ReQLSubscription.bs").useFirst(a);var e=b("MWLSInThreadBannerCtaParser.bs").useHook(void 0);if(a!==void 0)return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e});else return null}c=a;f.make=c}),null);
__d("MWChatTabFocusHandler.bs",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext.bs","bs_caml_js_exceptions","bs_caml_option","bs_curry","bs_js_exn","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{height:"datstx6m",":focus":{outline:"iqfcb0g7"}}};function k(a){try{return document.activeElement.getAttribute("data-release-focus-from")==="CLICK"}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID===b("bs_js_exn").$$Error)return!1;throw a}}function a(a){var c=a.onEscape,d=a.onFocus,e=a.onBlur,f=a.xstyle;a=a.children;c=c!==void 0?c:function(a){};var g=d!==void 0?d:function(a){},l=e!==void 0?e:function(a){};d=f!==void 0?b("bs_caml_option").valFromOption(f):!1;var m=i.useRef(null);e=i.useContext(b("MWChatFocusComposerContext.bs").context);var n=e.focusComposer;f=i.useCallback(function(a){a=m.current;if(!(a==null)&&n!==void 0&&window.getSelection().toString()===""&&(a===document.activeElement||k(void 0)))return b("bs_curry")._1(n,void 0)},[m,n]);return i.jsx(b("FocusWithinHandler.react"),{onFocusWithin:function(a){a.target.getAttribute("data-prevent_chattab_focus")==null&&b("bs_curry")._1(g,void 0);var c=m.current;if(!(c==null)&&n!==void 0&&c===a.target)return b("bs_curry")._1(n,void 0)},onBlurWithin:function(a){return b("bs_curry")._1(l,void 0)},children:i.jsx(b("CometHideLayerOnEscape.react"),{onHide:c,children:i.jsx("div",{onClick:f,tabIndex:-1,className:(h||(h=b("stylex")))(j.root,d),ref:m,children:a})})})}c=a;f.styles=j;f.getShouldTakeFocusFromActiveElement=k;f.make=c}),null);
__d("MWChatLoadMoreItemsIncrementally.bs",["LSMailboxMessagesRangeQueryDirection.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_curry","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:void 0};function j(a){i.contents===void 0&&(i.contents=window.document.documentElement.style.overflowAnchor!==void 0);return b("bs_belt_Option").getWithDefault(i.contents,!1)}function a(a,c,d,e,f,g){a=a!==void 0?a:!1;var i=c!==void 0?c:!0;c=d!==void 0?d:0;d=a||!j(void 0)||!b("gkx")("1776660");var k=e.length,l=typeof c==="number"?!1:c._0>=200;a=h.useState(function(){if(l)return k;else if(i)if(window.screen.availHeight<1200)return 20;else return 40;else return 10});var m=a[1],n=a[0];c=h.useMemo(function(){return b("bs_belt_Array").sliceToEnd(e,-n|0)},[e,n]);var o=h.useRef(n);a=h.useCallback(function(a){b("bs_caml").i64_neq(a,b("LSMailboxMessagesRangeQueryDirection.bs").before)&&b("unrecoverableViolation")("Message fetch direction must be 'before'","messenger_web_product");if((o.current+15|0)<=k){o.current=o.current+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else{b("bs_curry")._1(f,b("LSMailboxMessagesRangeQueryDirection.bs").before);if(o.current<(k+15|0)){o.current=k+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else return}},[f,k,m]);if(d)return[e,f,g];else return[c,a,g||n<k]}c=15;d=10;e=20;var k=40,l=1200,m=200;f.pageSize=c;f.initialCountSmall=d;f.initialCountDefault=e;f.initialCountTall=k;f.tallWindowHeight=l;f.minScrollPosToMountAll=m;f.useLoadMore=a}),null);
__d("MWInboxThreadMessagesSpinner.bs",["CometHeroHoldTrigger.react","CometProgressRingIndeterminate.react","bs_curry","react","stylex","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={mask:{backgroundColor:"nred35xi"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",height:"rgmg9uty",flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",flexShrink:"pfnyh3mw",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"},spinnerPlaceholder:{height:"rgmg9uty",width:"k4urcfbm",backgroundColor:"nred35xi"}};function a(a){var c=b("useIsMountedRef")();a=i.useState(function(){return!1});var d=a[1];a=a[0];var e=i.useMemo(function(){return{onHidden:function(a){if(c.current)return b("bs_curry")._1(d,function(a){return!1})},onVisible:function(a){if(c.current)return b("bs_curry")._1(d,function(a){return!0})}}},[c,d]);e=b("useVisibilityObserver")(e);return i.jsxs(i.Fragment,{children:[i.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:a}),i.jsx("div",{ref:e,className:(h||(h=b("stylex")))(j.spinner,j.mask),children:a?i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):i.jsx("div",{className:(h||(h=b("stylex")))(j.spinnerPlaceholder)})})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatMessageListColumn.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignSelf:"ns4p8fja",display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"a6sixzi8",justifyContent:"bkfpd7mw",maxWidth:"d2edcug0"},shrinkwrap:{flexGrow:"kb5gq1qc"},grow:{flexGrow:"buofh1pr"},paint:{backgroundColor:"nred35xi"},profile:{paddingStart:"pcp91wgn",paddingEnd:"dflh9lhu"},withGutters:{paddingEnd:"akiltmtj",paddingStart:"ox664e6k"},makeSpaceForActions:{maxWidth:"jit8km0v"},centered:{alignItems:"bp9cbjyn"}};function k(a){var c=a.children,d=a.grow,e=a.shrinkwrap,f=a.paint,g=a.profile,k=a.withGutters,l=a.makeSpaceForActions;a=a.centered;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;k=k!==void 0?k:!1;l=l!==void 0?l:!1;a=a!==void 0?a:!1;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,d?j.grow:!1,e?j.shrinkwrap:!1,f?j.paint:!1,g?j.profile:!1,k?j.withGutters:!1,l?j.makeSpaceForActions:!1,a?j.centered:!1),children:c})}var l={styles:j,make:k};function a(a){var b=a.children,c=a.shrinkwrap;a=a.grow;c=c!==void 0?c:!1;a=a!==void 0?a:!1;return i.jsx(k,{children:b,grow:a,shrinkwrap:c,paint:!0,withGutters:!0})}a={make:a};function c(a){a=a.children;return i.jsx(k,{children:a,shrinkwrap:!0,paint:!0,profile:!0})}c={make:c};function d(a){var b=a.children,c=a.paint;a=a.centered;c=c!==void 0?c:!0;a=a!==void 0?a:!1;return i.jsx(k,{children:b,shrinkwrap:!0,paint:c,centered:a})}d={make:d};function e(a){a=a.children;return i.jsx(k,{children:a,grow:!0,paint:!0})}e={make:e};function m(a){var b=a.children,c=a.paint;a=a.makeSpaceForActions;return i.jsx(k,{children:b,paint:c,makeSpaceForActions:a})}m={make:m};var n={spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"}};function o(a){return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(n.spacer)})}o={styles:n,make:o};var p={vr:{backgroundColor:"nred35xi",width:"k4urcfbm"}};function q(a){a=a.height;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(p.vr),style:{height:""+a+"px"}})}q={styles:p,make:q};f.BaseColumn=l;f.WithGutters=a;f.Profile=c;f.Shrinkwrap=d;f.Grow=e;f.Bubble=m;f.HorizontalSpacer=o;f.VerticalRhythm=q}),null);
__d("MWV2ConversationScrollerRefs.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useRef(null),c=h.useRef(0);return h.useMemo(function(){return{scrollerRef:b,scrollPositionRef:c}},[])}f.useHook=a}),null);
__d("MWMessageElementRefList.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Map(),d={contents:void 0};return{set:function(a){return function(e){if(e==null){c["delete"](a);return}c.set(a,e);var f=d.contents;if(f!==void 0&&f[0]===a){b("bs_curry")._1(f[1],e);d.contents=void 0;return}}},get:function(a,e){var f=c.get(a);if(f==null){d.contents=[a,e];return}else return b("bs_curry")._1(e,f)}}}function c(a){switch(a.TAG|0){case 0:var b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){var c=b._0.offlineThreadingId;return c}c=b._0.messageId;return c;case 1:b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){c=b._0.offlineThreadingId;return c}c=b._0.messageId;return c;case 2:b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){c=b._0.offlineThreadingId;return c}a=b._0.messageId;return a}}f.make=a;f.messageIdFromContent=c}),null);
__d("MWVisibleMessageContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}e={setVisibleMessage:a,visibleMessage:void 0};var i=h.createContext(e);function c(a){var b=a.value;a=a.children;return h.createElement(i.Provider,{value:b,children:a})}b={make:c};function d(a){return h.useContext(i)}f.Provider=b;f.useHook=d}),null);
__d("MWV2FetchMessagesPage.bs",["LS.bs","LSMailboxIssueMessagesRangeQueryStoredProcedure","LSTransaction.bs","ReQL.bs","ReQLTable","ReStore.bs","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("ReStore.bs").useHook(void 0);return h.useCallback(function(e){b("promiseDone")(b("LSTransaction.bs").run(d,function(d){return(c!==void 0?a!==void 0?window.Promise.resolve(a):b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"messages_ranges_v2__generated").desc,{hd:c,tl:0})):window.Promise.resolve(void 0)).then(function(a){if(c!==void 0&&a!==void 0)return b("LSMailboxIssueMessagesRangeQueryStoredProcedure")(c,a.b,e,b("LS.bs").make(d));else return window.Promise.resolve(void 0)})},"readWrite"),void 0,void 0)},[d,JSON.stringify(c),a])}f.useFetchMessagesPage=a}),null);
__d("MWV2JumpToMostRecentMessage.bs",["MWVisibleMessageContext.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWVisibleMessageContext.bs").useHook(void 0),d=c.visibleMessage,e=c.setVisibleMessage,f=h.useCallback(function(b){b=a.current;if(!(b==null))return b.scrollToBottom()},[a]);return h.useCallback(function(a){if(d!==void 0)return b("bs_curry")._1(e,function(a){});else return b("bs_curry")._1(f,void 0)},[f,d,e])}f.useHook=a}),null);
__d("MWV2JumpToMostRecentMessageButton.bs",["fbt","CurrentUser","MWV2ColorUtils.bs","MWV2JumpToMostRecentMessage.bs","MWV2Theme.bs","ODS","TetraCircleButton.react","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{position:"l9j0dhe7",width:"k4urcfbm",height:"do00u71z"},button:{position:"pmk7jnqg",bottom:"i09qtzwb",start:"kfkz5moi",marginStart:"pg7hd1hw",backgroundColor:"nred35xi",transform:"n9g6laej",transitionProperty:"flx89l3n",transitionDuration:"kmdw4o4n",transitionTimingFunction:"heur4gxb",zIndex:"tghn160j",boxShadow:"oyvrxjdn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},visible:{transform:"amx3n8jj"}};function a(a){var c=a.scrollerRefs,d=a.visible,e=a.onPress;a=b("MWV2Theme.bs").useHook(void 0);var f=a.threadTheme,h=b("MWV2JumpToMostRecentMessage.bs").useHook(c.scrollerRef);return j.useMemo(function(){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx("div",{className:i(k.button,d?k.visible:!1),children:j.jsx(b("TetraCircleButton.react"),{color:"white",disabled:!d,icon:function(a){a=b("MWV2ColorUtils.bs").int64ToHex(f.c);return j.jsx("svg",{width:"18",height:"18",viewBox:"7 7 22 22",fill:"none",children:j.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})},label:g._("Xem tin nh\u1eafn m\u1edbi \u0111\u00e2y nh\u1ea5t"),onPress:function(a){b("bs_curry")._1(h,void 0);b("bs_curry")._1(e,void 0);a=b("CurrentUser").getAppID();a=a==null?"unknown":a;b("ODS").bumpEntityKey(3185,"mw_jump_to_bottom",a)},size:40})})})},[h,e,d,f])}c=a;f.styles=k;f.make=c}),null);
__d("MWChatTypingIndicator.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c="rqt66bd7-B";var j={root:{alignItems:"bp9cbjyn",display:"j83agx80",height:"kmzbrmfl"},dot:{animationName:"d75kxgp9",animationDuration:"kv069q7b",animationIterationCount:"ee40wjg4",animationTimingFunction:"rr7aif1o",borderTopStartRadius:"s8bnoagg",borderTopEndRadius:"bn9qtmzc",borderBottomEndRadius:"hp05c5td",borderBottomStartRadius:"b6jg2yqc",display:"q9uorilb",height:"mw227v9j",marginEnd:"ditlmg2l",marginStart:"nvdbi5me",width:"loos5mxf",backgroundColor:"aph9nnby"},dot1:{animationDelay:"tv4077gy"},dot2:{animationDelay:"oeefd0zo"},dot3:{animationDelay:"dg03pwpq"}};function a(a){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx("div",{className:h(j.dot,j.dot1)}),i.jsx("div",{className:h(j.dot,j.dot2)}),i.jsx("div",{className:h(j.dot,j.dot3)})]})}d=a;f.dotAnimation=c;f.styles=j;f.make=d}),null);
__d("MWV2MessageRowSimple.bs",["FocusWithinHandler.react","MWMessageTableFocusTable.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={row:{position:"l9j0dhe7"},rowFocusVisible:{zIndex:"tkr6xdv7"}};function a(a){var c=a.children;return i.jsx(b("MWMessageTableFocusTable.bs").Table_.Row.make,{children:i.jsx("div",{role:"row",children:i.jsx(b("MWMessageTableFocusTable.bs").Table_.Cell.make,{children:i.jsx(b("FocusWithinHandler.react"),{children:function(a,d){return i.jsx("div",{role:"gridcell",tabIndex:0,"data-scope":b("MWMessageTableFocusTable.bs").scopeID,"data-release-focus-from":"CLICK",className:(h||(h=b("stylex")))(j.row,d?j.rowFocusVisible:!1),children:c})}})})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatTypingIndicators.bs",["fbt","CometScreenReaderText.react","MWChatProfile.bs","MWChatTypingIndicator.bs","MWPTooltip.react","MWV2ChatBubbleSolid.bs","MWV2ChatMessageListColumn.bs","MWV2MessageRowSimple.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","ServerTime","bs_caml_int64","bs_curry","bs_int64","clearTimeout","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{alignItems:"aovydwv3",display:"j83agx80",paddingTop:"jwdofwj8",flexShrink:"pfnyh3mw",paddingBottom:"e5nlhep0"},profile:{flexShrink:"pfnyh3mw",display:"j83agx80",marginStart:"h676nmdw",marginEnd:"oi9244e8"}};function l(a,b){a=a.e;if(a!==void 0)return a;a=b.p;if(a!==void 0)return a;else return b.h}function m(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"typing_indicator").asc,{hd:c,tl:0}),function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(a.c)})},[d,a,b("bs_int64").to_string(c)]));return j.useMemo(function(){var c=[];e.forEach(function(d){var e=a.get(b("bs_int64").to_string(d.b));if(!(e==null)){c.push([e[0],e[1],d]);return}});return c},[e])}function n(a){return j.useMemo(function(){var b=a.length;if(b!==1)if(b!==0)return g._("Nhi\u1ec1u ng\u01b0\u1eddi tham gia \u0111ang nh\u1eadp");else return"";b=a[0];return g._("{The participants name} \u0111ang nh\u1eadp",[g._param("The participants name",l(b[0],b[1]))])},[a])}function o(a,b){j.useEffect(function(){if(a!==void 0&&a.scrollPositionRef.current===0&&b.length>0){var c=a.scrollerRef.current;c==null||c.scrollToBottom()}},[b,a])}function p(a){var c=a.contact,d=a.participant,e=a.typingIndicator;a=j.useState(function(){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(e.c)});var f=a[1],g=j.useMemo(function(){return l(d,c)},[d,c]);j.useEffect(function(){b("bs_curry")._1(f,function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(e.c)});var a=b("bs_caml_int64").to_float(e.c)-b("ServerTime").getMillis(),c=b("setTimeout")(function(a){return b("bs_curry")._1(f,function(a){return!1})},a);return function(a){b("clearTimeout")(c)}},[e,f]);if(a[0])return j.jsxs("div",{"aria-hidden":!0,className:(i||(i=b("stylex")))(k.root),children:[j.jsx("div",{className:i(k.profile),children:j.jsx(b("MWPTooltip.react"),{tooltip:g,align:"middle",position:"start",children:j.jsx(b("MWChatProfile.bs").make,{size:28,src:c.b,alt:g})})}),j.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:j.jsx(b("MWChatTypingIndicator.bs").make,{}),style:{backgroundColor:"var(--wash)"},connectTop:!1,connectBottom:!1,precedesXMA:!1,outgoing:!1})]});else return null}c={make:p};function a(a){var c=a.threadKey,d=a.scrollerRefs;a=a.participants;a=m(a,c);c=n(a);o(d,a);if(a.length>0)return j.jsx(b("MWV2MessageRowSimple.bs").make,{children:j.jsxs(b("MWV2ChatMessageListColumn.bs").Grow.make,{children:[j.jsx("div",{"aria-live":"polite",children:j.jsx(b("CometScreenReaderText.react"),{text:c})}),a.map(function(a){var c=a[1];return j.jsx(p,{contact:c,participant:a[0],typingIndicator:a[2]},b("bs_int64").to_string(c.a))})]})});else return null}d=a;f.styles=k;f.getNameForContact=l;f.useTypingParticipants=m;f.useAccessibilityText=n;f.useScrollToBottomIfTheScrollPositionIsBottom=o;f.TypingIndicator=c;f.make=d}),null);
__d("MWV2MessageAuthor.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({contact:void 0,nickname:void 0});function a(a){var b=a.children,c=a.contact,d=a.nickname;a=h.useMemo(function(){return{contact:c,nickname:d}},[c,d]);return h.createElement(i.Provider,{children:b,value:a})}d={make:a};function c(a){a=h.useContext(i);var b=a.nickname;a=a.contact;if(b!==void 0)b=b;else if(a!==void 0){var c=a.p;b=c!==void 0?c:a.h}else b=void 0;return[b,a]}f.ctx=i;f.Provider=d;f.useAuthorName=c}),null);
__d("MWV2MessageListIsRowModalContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}var i=h.createContext(a);function c(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}d={make:c};f.emptyValue=a;f.context=i;f.Provider=d}),null);
__d("BaseHeadingContextWrapper.re",["BaseHeadingContextWrapper.react"],(function(a,b,c,d,e,f){a=b("BaseHeadingContextWrapper.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWTheme.bs",["bs_caml_exceptions","bs_caml_int64","cr:1581959","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){if(a.TAG===0)return!1;else return!0}var i=b("bs_caml_exceptions").create("MWTheme.NotEnoughColorsForAGradient");function c(a,b){a=a!==void 0?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function d(a){if(a.TAG===0)return a._0.color;else return a._0.colors[0]}function e(a){if(a.TAG===0)return a._0.color;a=a._0.colors;return a[a.length-1|0]}function j(a){if(a.TAG===0)return a._0.color;else return a._0.fallback}function k(a,b,c){var d=a!==void 0?a:0;a=b!==void 0?b:100;b=c.length;if(b!==1){if(b!==0){var e=[];b=c.length;var f=a-d,g=f/(b-1|0);d!==0&&e.push(c[0]+" 0%");c.forEach(function(a,b){b=(d+b*g).toFixed(2);e.push(""+a+" "+b+"%")});a!==100&&e.push(c[b-1|0]+" 100%");f=e.join(", ");return"linear-gradient("+f+")"}throw{RE_EXN_ID:i,Error:new Error()}}throw{RE_EXN_ID:i,Error:new Error()}}function l(a){return"#"+a.slice(2)}function m(a){a=b("bs_caml_int64").to_int32(a);var c=(a&16711680)>>>16,d=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(c)+(e(d)+e(a)))}var n=h.createContext({theme:b("cr:1581959").$$default,setTheme:function(a){},clearTheme:function(a){}});function o(a){return h.useContext(n).theme}function p(a){a=h.useContext(n);var b=a.clearTheme;h.useEffect(function(){return b},[b]);return[a.setTheme,b]}function q(a){}function r(a){}function s(a){var b=a.theme,c=a.setTheme,d=a.clearTheme;a=a.children;c=c!==void 0?c:q;d=d!==void 0?d:r;b={theme:b,setTheme:c,clearTheme:d};return h.createElement(n.Provider,{value:b,children:a})}var t=b("cr:1581959"),u=b("cr:1581959").$$default;s=s;f.isGradient=a;f.NotEnoughColorsForAGradient=i;f.lighten=c;f.top=d;f.bottom=e;f.middle=j;f.gradient=k;f.aRGBtoHex=l;f.intToHex=m;f.$WorkChatDefaultTheme$OR$MessengerDefaultTheme$requireCond=b("cr:1581959");f.DefaultTheme=t;f.$$default=u;f["default"]=u;f.__esModule=!0;f.context=n;f.useTheme=o;f.usePreview=p;f.defaultSetTheme=q;f.defaultClearTheme=r;f.provider=s}),null);
__d("MWChatGutterItem.bs",["BaseGlimmer.react","MWMessageDeliveryStatus.bs","MWMessageDeliveryStatusIcons.bs","MWPTooltip.react","MWTheme.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",alignItems:"aovydwv3"},mask:{backgroundColor:"nred35xi"},incoming:{flexDirection:"rl25f0pe"},icon:{display:"j83agx80",flexShrink:"pfnyh3mw",marginStart:"kkf49tns",marginEnd:"cgat1ltu",verticalAlign:"hrs1iv20",userSelect:"abiwlrkh",width:"gab7stmx",height:"i4qgphn6"},image:{marginStart:"kkf49tns",marginEnd:"cgat1ltu",verticalAlign:"hrs1iv20",userSelect:"abiwlrkh",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},profilePlaceholder:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",verticalAlign:"pzggbiyp",width:"gab7stmx",height:"i4qgphn6"},noneStatus:{flexShrink:"pfnyh3mw",width:"pgctjfs5"}};function a(a){var c=a.status,d=a.incoming,e=a.hasRepliedToMessage,f=a.xstyle;a=a.id;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?b("bs_caml_option").valFromOption(f):!1;a=a!==void 0?a:"";var g=b("MWTheme.bs").useTheme(void 0);g=b("MWTheme.bs").isGradient(g);var k=b("MWMessageDeliveryStatus.bs").getStatusTitle(c),l;if(typeof c==="number")if(c===0)l=i.jsx("div",{className:(h||(h=b("stylex")))(j.noneStatus)});else{var m;if(typeof c==="number")switch(c){case 0:m=null;break;case 1:m=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Sending.make,{size:1,xstyle:j.icon});break;case 2:m=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Sent.make,{size:1,xstyle:j.icon});break;case 3:m=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Delivered.make,{size:1,xstyle:j.icon});break;case 4:m=i.jsx(b("MWMessageDeliveryStatusIcons.bs").$$Error.make,{size:1,xstyle:j.icon});break}else m=null;l=i.jsx("div",{children:m})}else if(c.TAG===0){c=c._0;l=c.imageSrc===""?i.jsx(b("BaseGlimmer.react"),{className:(h||(h=b("stylex")))(j.profilePlaceholder),index:1}):i.jsx("img",{width:"14px",height:"14px",alt:k,"data-testid":"messenger_single_seen_head",className:(h||(h=b("stylex")))(j.image),src:c.imageSrc})}else l=null;c=i.jsx(b("MWPTooltip.react"),{tooltip:k,align:"end",position:"above",children:l});return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,g&&!e?j.mask:!1,d?j.incoming:!1,f),"data-testid":"messenger_delivery_status",id:a,children:c})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatBubbleTransparent.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c=36;d=c+6|0;e=d+14|0;var j={bubble:{maxWidth:"odn2s2vf",paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"geli4699",bottom:"fkq5d175",start:"oskkt2ky",end:"i4sm7uox",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"dzm1kfb5",borderEndWidth:"oc4jhviy",borderBottomWidth:"h624itt5",borderStartWidth:"reaovrpu",borderTopColor:"hwba8txa",borderEndColor:"dzgn2jm7",borderBottomColor:"n4g4bzxc",borderStartColor:"sdxs9vve",borderTopStartRadius:"cur584us",borderTopEndRadius:"gt092ec4",borderBottomEndRadius:"t02hhl22",borderBottomStartRadius:"lm2lsiji",pointerEvents:"yfudjqg5"}},incoming_connect_top:{":after":{borderTopStartRadius:"efeyjaql"}},incoming_connect_bot:{":after":{borderBottomStartRadius:"dcchegku"}},outgoing_connect_top:{":after":{borderTopEndRadius:"qyep8gqv"}},outgoing_connect_bot:{":after":{borderBottomEndRadius:"af2nlw56"}},precedes_xma:{boxSizing:"rq0escxv",maxWidth:"nqmqzb3c",width:"k4urcfbm",":after":{borderBottomEndRadius:"iep0m7mp",borderBottomStartRadius:"pgkcj7gb"}}};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble,d?a?j.outgoing_connect_top:j.incoming_connect_top:!1,!f&&e?a?j.outgoing_connect_bot:j.incoming_connect_bot:!1,f?j.precedes_xma:!1),children:c})}var k=18;a=a;f.baseSize=k;f.borderWidth=c;f.smallRadius=d;f.largeRadius=e;f.styles=j;f.make=a}),null);
__d("bs_caml_splice_call",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c,d;d=b.length;var e=[];for(c=0;c<d-1;++c)e.push(b[c]);b=b[d-1];for(c=0;c<b.length;++c)e.push(b[c]);return a.apply(null,e)};b=function(a,b,c){var d,e;e=c.length;var f=[];for(d=0;d<e-1;++d)f.push(c[d]);c=c[e-1];for(d=0;d<c.length;++d)f.push(c[d]);return a[b].apply(a,f)};f.spliceApply=a;f.spliceObjApply=b}),null);
__d("MWV2ChatBubble.bs",["MWLSThreadDisplayContext.bs","MWV2ChatBubbleSolid.bs","MWV2ChatBubbleTransparent.bs","MWV2ColorUtils.bs","MWV2MessageHasReply.bs","MWV2Theme.bs","bs_caml_obj","bs_caml_splice_call","react","stylex","useMatchMedia"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emphasis_ring:{display:"j83agx80",borderTop:"dmyp13bq",borderEnd:"ndhlz62r",borderBottom:"ncbqlf8d",borderStart:"s0vq2i2w",maxWidth:"blud8cpg",position:"l9j0dhe7",backgroundColor:"g5ia77u1",":before":{content:"g25sr70m",display:"jdo7v6z6",position:"lzm9zonv",top:"hlthg0ru",bottom:"bukg358c",start:"nsmdno57",end:"p8m4tlpt",borderTopStyle:"fboblok7",borderEndStyle:"hooc0cby",borderBottomStyle:"bblsj9ze",borderStartStyle:"sj46kbig",borderTopWidth:"ek0ugbdb",borderEndWidth:"dpj2ryut",borderBottomWidth:"rq41jfz2",borderStartWidth:"t1qoqrst",borderTopColor:"ctd5sy3o",borderEndColor:"t7740pma",borderBottomColor:"h01b6lxl",borderStartColor:"is8i6zgj",opacity:"f9zxapb0",borderTopStartRadius:"o5g7ym2r",borderTopEndRadius:"swnt2q8t",borderBottomEndRadius:"egy40mqu",borderBottomStartRadius:"m3lz4j07",pointerEvents:"szx2nxjd",zIndex:"c4u49bkg"},":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"e15w2yfi",bottom:"jdr4sxky",start:"opatuxy4",end:"jj6iul7h",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"avvvbj8i",borderEndWidth:"qc19tv0c",borderBottomWidth:"seh407zj",borderStartWidth:"mgkhc2l0",borderTopColor:"qu1lfhdz",borderEndColor:"h2zxmtvk",borderBottomColor:"r13p1xmt",borderStartColor:"thnup18q",borderTopStartRadius:"tdsjupxz",borderTopEndRadius:"o6z0k5ic",borderBottomEndRadius:"m0ai3fox",borderBottomStartRadius:"t06v70oj",pointerEvents:"yfudjqg5",zIndex:"sebibeov"}},emphasis_ring_before_xma:{borderBottom:"humdl8nn",":before":{borderBottom:"dwjjxrjg",borderBottomStartRadius:"vha61xgp",borderBottomEndRadius:"cninlv0n"},":after":{borderBottom:"h4hm3dj4",borderBottomStartRadius:"pgkcj7gb",borderBottomEndRadius:"iep0m7mp"}},emphasis_ring_xma:{width:"gaoewp0a",borderTop:"gcieejh5",":before":{borderTop:"bsyhajyn",borderTopStartRadius:"rlntl7br",borderTopEndRadius:"rgkwebxj"},":after":{borderTop:"q22nnh5l",borderTopStartRadius:"lm7vadms",borderTopEndRadius:"s6fxew23"}},emphasis_ring_connect_top_outgoing:{":before":{borderTopEndRadius:"m2bnzw1h"},":after":{borderTopEndRadius:"mk1s9yjy"}},emphasis_ring_connect_top_incoming:{":before":{borderTopStartRadius:"izwkhwj2"},":after":{borderTopStartRadius:"i7jao9op"}},emphasis_ring_connect_bottom_outgoing:{":before":{borderBottomEndRadius:"aultcim1"},":after":{borderBottomEndRadius:"lgl5u3oa"}},emphasis_ring_connect_bottom_incoming:{":before":{borderBottomStartRadius:"mfjs0nqm"},":after":{borderBottomStartRadius:"qrw7h0bf"}}};function k(a,c){if(c)return{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.c)};else return{backgroundColor:"var(--wash)"}}function l(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing;a=a.threadTheme;a=k(a,g);return i.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:c,style:a,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}c={useInlineStyles:k,make:l};function m(a,c,d){var e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=b("useMatchMedia")("(min-height: "+String(1280)+"px)");return i.useMemo(function(){if(d&&c.length>1)return{backgroundAttachment:"fixed",backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.c),backgroundImage:b("MWV2ColorUtils.bs").gradient(c,b("bs_caml_obj").caml_notequal(e,1),f,void 0)};else if(d)return{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.c)};else return{backgroundColor:"var(--wash)"}},[a,c,d,e,f])}function n(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.threadTheme;a=a.gradientColors;h=m(h,a,g);return i.jsx(b("MWV2ChatBubbleSolid.bs").make,{children:c,style:h,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}d={useInlineStyles:m,make:n};function o(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx(b("MWV2ChatBubbleTransparent.bs").make,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:a})}e={make:o};function p(a){var c=a.children,d=a.shouldConnectTop,e=a.shouldConnectBottom,f=a.isBeforeXMA,g=a.hasXMA;a=a.isOutgoing;f=[j.emphasis_ring,f?j.emphasis_ring_before_xma:e?a?j.emphasis_ring_connect_bottom_outgoing:j.emphasis_ring_connect_bottom_incoming:!1,g?d?j.emphasis_ring_xma:!1:d?a?j.emphasis_ring_connect_top_outgoing:j.emphasis_ring_connect_top_incoming:!1];return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[f]),children:c})}var q={make:p};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var j=b("MWV2Theme.bs").useHook(void 0),k=j.gradientColors;j=j.threadTheme;h=b("MWV2MessageHasReply.bs").make(h);h=h?i.jsx(n,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j,gradientColors:k}):g&&k.length>1?i.jsx(o,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g}):i.jsx(l,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j});if(a)return i.jsx(p,{children:h,shouldConnectTop:d,shouldConnectBottom:e,isBeforeXMA:f,hasXMA:!1,isOutgoing:g});else return h}a=a;f.styles=j;f.Solid=c;f.Reply=d;f.Transparent=e;f.EmphasisRing=q;f.make=a}),null);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometMessengerPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_photo/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("deferredLoadComponentForReason",["deferredLoadComponentBase"],(function(a,b,c,d,e,f,g){var h=function(a){return a.make};function a(a){return{make:c("deferredLoadComponentBase")(a,h)}}g["default"]=a}),98);
__d("MWChatImageSize.bs",["bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=c!==void 0?c:!1,f=h.useRef(void 0);d=h.useState(function(){});var g=d[1];h.useEffect(function(){if(a===void 0)return;if(f.current===void 0&&!e){var c=new Image();c.src=a;c.onload=function(){return b("bs_curry")._1(g,function(a){return{width:c.naturalWidth,height:c.naturalHeight}})};f.current=b("bs_caml_option").some(c)}return function(a){b("bs_curry")._1(g,function(a){});a=f.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);a.onload=null}},[a,e,g]);return d[0]}f.useImageSize=a}),null);
__d("MNLSXMALayoutType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.single=a;f.hscroll=c;f.xcenter=d}),null);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743852");c=b("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e.exports=c}),null);
__d("MWChatOpenTabByThreadKey.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSContactType.bs","LSMailboxVerifyThreadRowExistsStoredProcedure","LSTransaction.bs","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWLSActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("ReStore.bs").useHook(void 0),f=b("bs_curry")._3(b("MWChatOpenTabForUser.bs").useHook,void 0,c,d),g=f[0],i=b("bs_curry")._3(b("MWChatOpenTabForPage.bs").useHook,void 0,c,d),j=b("MWLSActor.bs").useActor(void 0),k=h.useMemo(function(){return new(b("Promise"))(function(c,d){var f=(d=b("ReQL.bs")).mergeJoin(d.filter(d.getKeyRange(b("ReQLTable").table(e,"participants").asc,{hd:a,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,j)}),b("ReQLTable").table(e,"contacts").asc),g={contents:function(a){}};g.contents=b("SortedAsyncIterable.bs").subscribe(f,function(a,d){if(typeof d==="number")return;a=d._0[1];if(b("bs_caml").i64_ge(a.J,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(a)}});b("promiseDone")(d.first(f),function(d){if(d!==void 0){d=d[1];if(b("bs_caml").i64_ge(d.J,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(d)}else return}b("promiseDone")(b("LSTransaction.bs").run(e,function(c){return b("LSMailboxVerifyThreadRowExistsStoredProcedure")(a,b("MessagingThreadType.bs").oneToOne,b("LS.bs").make(c))},"readWrite"),void 0,void 0)})})},[a,e]);return h.useCallback(function(c){b("promiseDone")(k,function(c){var d=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a));c=c.q;if(b("bs_caml").i64_eq(c,b("LSContactType.bs").page))return i(d,!1);else return g(d,!1)})},[k,g,i,a])}f.useHook=a}),null);
__d("MWChatPollFacepile.bs",["ix","CometTintedIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80"},rootReversed:{flexDirection:"rl25f0pe"},contact:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},contactWithBoarder:{borderTop:"e6olcokw",borderEnd:"enkuubej",borderBottom:"r2474ujb",borderStart:"sxdk7pr0"},contactGapNegative:{marginStart:"pec0n382"},contactGapNormal:{marginStart:"kkf49tns"},contactLarge:{width:"bsnbvmp4",height:"k7cz35w2"},contactMedium:{width:"odw8uiq3",height:"jnigpg78"},contactSmall:{width:"gab7stmx",height:"i4qgphn6"},overflow:{backgroundColor:"g6srhlxm",color:"m9osqain",height:"i4qgphn6",borderTopStartRadius:"h1ci2mql",borderTopEndRadius:"mjfe6jtr",borderBottomEndRadius:"c6w6u7b1",borderBottomStartRadius:"hc21y3pz",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"qnrpqo6b",marginStart:"pec0n382",fontWeight:"ekzkrbhg"},photoWrap:{position:"l9j0dhe7",display:"q9uorilb"},overflowOverlay:{alignItems:"bp9cbjyn",backgroundColor:"s8bbyrx9",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",justifyContent:"taijpn5t",opacity:"ocubwz8y",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"tkr6xdv7"}};function a(a){var c=a.contacts,d=a.size,e=a.gap,f=a.direction,h=a.limit,l=a.contactWithBorder;a=a.overflowStyle;var m=e!==void 0?e:"normal";e=f!==void 0?f:"normal";var n=h!==void 0?h:2,o=l!==void 0?l:!0,p=a!==void 0?a:"showTotalCount",q=c.length>n;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root,e==="reversed"?k.rootReversed:!1),children:[q&&p==="showTotalCount"?j.jsx("div",{className:(i||(i=b("stylex")))(k.overflow),children:"+"+String(c.length-2|0)}):null,c.slice(-(q?n:1e3)|0).reverse().map(function(a,c){return j.jsxs("div",{className:(i||(i=b("stylex")))(k.photoWrap,m==="normal"?k.contactGapNormal:k.contactGapNegative,d==="medium"?k.contactMedium:d==="small"?k.contactSmall:k.contactLarge),children:[j.jsx("img",{src:a,className:i(k.contact,d==="medium"?k.contactMedium:d==="small"?k.contactSmall:k.contactLarge,o?k.contactWithBoarder:!1)}),q&&p==="overlayLastPhoto"&&c===(n-1|0)?j.jsx("div",{className:(i||(i=b("stylex")))(k.overflowOverlay),children:j.jsx(b("CometTintedIcon.react"),{color:"white",icon:b("fbicon")._(g("484386"),16)})}):null]},String(c))})]})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatPollXMAActionHandler.bs",["JSResource","MWThreadKey.bs","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadKey.bs").useIdMemoized(void 0);a=b("useCometLazyDialog")(b("JSResource")("MWChatPollDetailsDialog").__setRef("MWChatPollXMAActionHandler.bs"));var d=a[0];return h.useCallback(function(a){return function(b){return d({pollId:a,threadKey:c,title:b},function(a){})}},[d])}f.useHandler=a}),null);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1746398");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e.exports=c}),null);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_feedback_form_state.form_state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744182");c=b("FalcoLoggerInternal").create("pii_action_flow",a);e.exports=c}),null);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){a&&(c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}}),a.messenger_pii_nux==null?f({description:"",seen:!0,title:"",url:"",url_text:""}):f({description:a.messenger_pii_nux.description,seen:!1,title:a.messenger_pii_nux.title,url:a.messenger_pii_nux.url,url_text:a.messenger_pii_nux.url_text}))},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{messageID:b,receiptID:a}).toPromise().then(function(a){if(a){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWP2PPaymentMethodAdd.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("MWP2PPaymentMethodAdd.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentMethodAdd=a}),null);
__d("MWP2PPaymentRequestCancel.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("MWP2PPaymentRequestCancel.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestCancel=a}),null);
__d("MWP2PPaymentRequestConfirm.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("MWP2PPaymentRequestConfirm.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestConfirm=a}),null);
__d("MWP2PPaymentRequestDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("MWP2PPaymentRequestDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestDecline=a}),null);
__d("MWP2PPaymentTransactionDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("MWP2PPaymentTransactionDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentTransactionDecline=a}),null);
__d("XP2PVerificationDialogBaseControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/p2p/verify/dialog/",Object.freeze({is_sender_flow:!1}),void 0);b=a;g["default"]=b}),98);
__d("MWP2PPaymentTransactionInformationVerify.bs",["JSResource","XP2PVerificationDialogBaseControllerRouteBuilder","bs_belt_Option","bs_caml_option","gkx","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var c=a[0];a=b("useCometLazyDialog")(b("JSResource")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var d=a[0];return h.useCallback(function(a){a=a.id;if(b("gkx")("94"))return d({transferId:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))},function(a){});else return c({params:{rel:"dialog-post",uri:b("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({is_sender_flow:!1,id:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))})}},function(a){})},[c])}f.useP2PPaymentTransactionInformationVerify=a}),null);
__d("MWUIOpenStaticLocationDialog.bs",["cr:618"],(function(a,b,c,d,e,f){"use strict";a=b("cr:618").useHook;f.$MWLSOpenStaticLocationDialog$OR$WorkplaceMSOpenStaticLocationDialog$requireCond=b("cr:618");f.useHook=a}),null);
__d("MWUIShowPaymentDetails.bs",["bs_curry","cr:1573776"],(function(a,b,c,d,e,f){"use strict";function a(){if(b("cr:1573776")==null)return function(a){};else return b("bs_curry")._1(b("cr:1573776").useHook,void 0)}f.$MWLSShowPaymentDetails$OR$null$requireCond=b("cr:1573776");f.useHook=a}),null);
__d("MakeRoomRingbackCommon.bs",["cr:9972"],(function(a,b,c,d,e,f){"use strict";a=b("cr:9972").useHook;f.$WorkPlaceMakeRoomRingback$OR$MakeRoomRingback$requireCond=b("cr:9972");f.useHook=a}),null);
__d("MentorshipClientSideEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setApplicationID=function(a){this.$1.application_id=a;return this};c.setApplicationProfileID=function(a){this.$1.application_profile_id=a;return this};c.setCohortGroupOrPageID=function(a){this.$1.cohort_group_or_page_id=a;return this};c.setCohortID=function(a){this.$1.cohort_id=a;return this};c.setContainerType=function(a){this.$1.container_type=a;return this};c.setDestinationContainerType=function(a){this.$1.destination_container_type=a;return this};c.setDestinationUnitType=function(a){this.$1.destination_unit_type=a;return this};c.setDisplayName=function(a){this.$1.display_name=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitActorType=function(a){this.$1.explicit_actor_type=a;return this};c.setPairCreationType=function(a){this.$1.pair_creation_type=a;return this};c.setProgramGroupID=function(a){this.$1.program_group_id=a;return this};c.setProgramID=function(a){this.$1.program_id=a;return this};c.setProgramThreadID=function(a){this.$1.program_thread_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceContainerType=function(a){this.$1.source_container_type=a;return this};c.setSourceUnitType=function(a){this.$1.source_unit_type=a;return this};c.setUnitType=function(a){this.$1.unit_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,app_id:!0,app_version:!0,application_id:!0,application_profile_id:!0,cohort_group_or_page_id:!0,cohort_id:!0,container_type:!0,destination_container_type:!0,destination_unit_type:!0,display_name:!0,event:!0,explicit_actor_type:!0,pair_creation_type:!0,program_group_id:!0,program_id:!0,program_thread_id:!0,session_id:!0,source_container_type:!0,source_unit_type:!0,unit_type:!0};e.exports=a}),null);
__d("MentorshipMessengerLoggingUtils",["CurrentUser","MentorshipClientSideEventsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("MentorshipClientSideEventsTypedLogger"))().setEvent(a.event).setActorID(c("CurrentUser").getID()).setProgramID(a.programID).setDisplayName(a.displayName).updateExtraData(a.extraData).setContainerType("messenger_thread").setUnitType(a.unit);a.event=="click_unit"&&b.setDestinationContainerType(a.destContainer).setDestinationUnitType(a.destUnit);b.log()}g.logMessengerEvent=a}),98);
__d("MWLSMediaSendUtils.bs",["LS.bs","LSMediaSendMarkSubJobCompletedV2StoredProcedure","LSMediaSendResumeMediaSendJobStoredProcedure","bs_caml_format","bs_caml_int64","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a.toString()};function a(a,c,d,e,f,h,i){i=e!==void 0?b("bs_caml_option").valFromOption(e):void 0;e=f!==void 0?b("bs_caml_option").valFromOption(f):void 0;f=h!==void 0?b("bs_caml_option").valFromOption(h):void 0;return b("LSMediaSendMarkSubJobCompletedV2StoredProcedure")(c,b("bs_caml_format").caml_int64_of_string(g(d)),i!==void 0?b("bs_caml_option").valFromOption(i):void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,b("LS.bs").make(a))}function c(a,c){return b("LSMediaSendResumeMediaSendJobStoredProcedure")(c,b("bs_caml_int64").zero,b("LS.bs").make(a))}f.castFbidFromNumber=g;f.markSubJobCompleted=a;f.resumeMediaSendJob=c}),null);
__d("MWLSImagePostbackCtaHandler.bs",["ActorURI","FBID.bs","LS.bs","LSDict","LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxType.bs","LSMediaSendInsertNewMediaSendStoredProcedure","LSMediaSendMarkSubJobCompletedV2StoredProcedure","LSMediaSendResumeMediaSendJobStoredProcedure","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","LSVec.bs","MWLSActor.bs","MWLSMediaSendUtils.bs","MWThreadKey.bs","MercuryConfig","MercuryLocalIDs","MessagingAttachmentType.bs","MessagingThreadType.bs","Promise","ReQLTable","ReStore.bs","URI","XComposerPhotoUploader","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f,g,h){var i=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);return b("LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(c,d,b("MessagingThreadType.bs").oneToOne,void 0,void 0,!1,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,b("LSVec.bs").make([b("LSDict").fromObject({attachment_fbid:i,offline_attachment_id:i,attachment_type:b("MessagingAttachmentType.bs").image,attachment_index:b("bs_caml_int64").zero,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,playable_url:void 0,playable_url_mime_type:void 0,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:"image/jpeg ",mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0})]),b("LS.bs").make(a)).then(function(c){var e=c[0];return b("ReQLTable").table(a,"messages_optimistic_context").add({a:b("bs_caml_format").caml_int64_of_string(e),b:d,c:e,d:void 0,e:g,f:void 0,g:void 0,h:f,i:void 0,j:void 0,k:void 0,l:!0,m:void 0}).then(function(a){return b("Promise").resolve([e,i])})})}function a(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return i.useMemo(function(){return function(g,i,k){var l=b("FBID.bs").ofStringExn(b("bs_int64").to_string(e)),m=function(a){var c=a[1],e=a[0],f=new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){a=b("LSTransaction.bs").run(d,function(a){return b("LSMediaSendInsertNewMediaSendStoredProcedure")(c,e,b("bs_caml_int64").zero,b("MessagingAttachmentType.bs").image,!1,!1,!1,!1,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},onUploadSuccess:function(a,f){a=b("bs_caml_array").get(f.response.payload.metadata,0);f=a.image_id;if(f===void 0)return;var g=b("bs_caml_option").valFromOption(f);a=b("LSTransaction.bs").run(d,function(a){return b("LSMediaSendMarkSubJobCompletedV2StoredProcedure")(c,b("bs_caml_format").caml_int64_of_string(b("MWLSMediaSendUtils.bs").castFbidFromNumber(g)),void 0,void 0,void 0,b("LS.bs").make(a)).then(function(c){return b("LSMediaSendResumeMediaSendJobStoredProcedure")(e,b("bs_caml_int64").zero,b("LS.bs").make(a))})},"readWrite");b("promiseDone")(a,void 0,void 0)},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(h||(h=b("URI")))(b("MercuryConfig").upload_url),l)});a=window.fetch(k).then(function(a){return a.blob()}).then(function(a){f.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})],void 0).send();return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},n=b("LSThreadAttributionStore.bs").getSource(a,b("bs_int64").to_string(f)),o=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(n);n=b("LSTransaction.bs").run(d,function(a){return b("LSMailboxOptimisticSendMessageStoredProcedure")(e,f,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,g,g,!1,void 0,void 0,void 0,void 0,o,void 0,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,!0,!0,void 0,c!==void 0?b("bs_caml_option").valFromOption(c):void 0,void 0,b("LS.bs").make(a))},"readWrite").then(function(a){return b("LSTransaction.bs").run(d,function(a){return j(a,e,f,k,i,o,c).then(function(a){b("bs_curry")._1(m,a)})},"readWrite")});b("promiseDone")(n,void 0,void 0)}},[d,e,f])}f.usePostbackCtaHandler=a}),null);
__d("MWLSPostbackCtaHandler.bs",["LS.bs","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingInitiatingSourceHook.bs","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWThreadKey.bs","MessagingThreadType.bs","ReStore.bs","bs_caml_option","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0),f=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0);return h.useMemo(function(){return function(a,g){var h=b("LSThreadAttributionStore.bs").getSource(void 0,b("bs_int64").to_string(e)),i=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(h);b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSMailboxOptimisticSendMessageStoredProcedure")(d,e,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,g,g,!1,void 0,void 0,void 0,void 0,i,void 0,a!==void 0?b("bs_caml_option").valFromOption(a):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,!0,!0,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("LS.bs").make(c))},"readWrite"),void 0,void 0)}},[c,d,e])}f.usePostbackCtaHandler=a}),null);
__d("MWLSWebUrlCtaHandler.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler.bs"));var c=a[0];return h.useCallback(function(a){return c({htmlBlob:a},function(a){})},[c])}f.useShowWebViewDialog=a}),null);
__d("ReactStyle.bs",["ReactDOMStyle.bs"],(function(a,b,c,d,e,f){"use strict";a=b("ReactDOMStyle.bs").unsafeAddProp;f.unsafeAddProp=a}),null);
__d("MWV2ChatErrorBubble.bs",["fbt","MWV2TombstonedMessage.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={withBackground:{backgroundColor:"nred35xi"},withReply:{zIndex:"tkr6xdv7"},vr:{height:"p3ovkuyr",width:"k4urcfbm"}};function a(a){a=a.hasReply;return j.jsxs("div",{className:(i||(i=b("stylex")))(a?k.withReply:k.withBackground),children:[a?null:j.jsx("div",{className:(i||(i=b("stylex")))(k.vr,k.withBackground)}),j.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._("L\u1ed7i khi xu\u1ea5t file ph\u01b0\u01a1ng ti\u1ec7n"),xstyle:k.withBackground})]})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatReactionEmoji.bs",["cr:1817610"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1817610").make;f.$ChatGeminiReactionImage$OR$CometEmoji$requireCond=b("cr:1817610");f.make=a}),null);
__d("MWChatReactionsUtils.bs",["cr:10957"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:10957")).cUSTOM_REACTIONS_NUM;d=a.defaultStaticReactions;e=a.defaultCustomizableReactions;b=a.heartType1;var g=a.heartType2,h=a.isHeart;f.$WorkChatReactionsUtils$OR$MWChatMessengerReactionsUtils$requireCond=a;f.cUSTOM_REACTIONS_NUM=c;f.defaultStaticReactions=d;f.defaultCustomizableReactions=e;f.heartType1=b;f.heartType2=g;f.isHeart=h}),null);
__d("MWV2ChatReactionsTooltip.bs",["fbt","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.reactions,d=a.threadKey,e=a.messageId,f=b("ReStore.bs").useHook(void 0);a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").leftJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"reactions").asc,{hd:d,tl:{hd:e,tl:0}}),b("ReQLTable").table(f,"contacts").asc)},[JSON.stringify(d),f,e]));var h=new Map(a.map(function(a){var c=a[1];return[b("bs_int64").to_string(a[0].d),c!==void 0?c.h:g._("Ng\u01b0\u1eddi d\u00f9ng Facebook")]}));a=i.useMemo(function(){var a=c.map(function(a){a=h.get(b("bs_int64").to_string(a.d));if(a==null)return"";else return a}).filter(function(a){return a!==""}),d=a.length;a=a.slice(0,9);if(d>9){d=d-9|0;a.push(g._({"*":"v\u00e0 {count} ng\u01b0\u1eddi kh\u00e1c"},[g._param("count",String(d)),g._plural(d)]))}return a},[c,a]);a=a.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:a})}c=9;d=a;f.maxExplicitNames=c;f.make=d}),null);
__d("MWV2ChatReactionsPill.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","EmojiRenderer","JSResourceForInteraction","MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWPTooltip.react","MWV2ChatReactionsTooltip.bs","MWV2MessageRowIsRowFocusedContext.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml_array","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{display:"j83agx80",height:"hm271qws",justifyContent:"bkfpd7mw",width:"k4urcfbm",position:"l9j0dhe7",zIndex:"tkr6xdv7",backgroundColor:"hybvsw6c"},root:{display:"j83agx80",transform:"sg75zgpm"},emojiRow:{paddingTop:"ggysqto6",paddingEnd:"exrn9cbp",paddingBottom:"ojkyduve",paddingStart:"abpf7j7b",textAlign:"ftzlm3b6",backgroundColor:"hybvsw6c",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",boxShadow:"tlilfck6",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t"},emoji:{alignItems:"bp9cbjyn",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",lineHeight:"soycq5t1",marginEnd:"o9f14d3k",cursor:"nhd2j8a9"},emojiNum:{width:"fhvfysw3",textAlign:"oqcyycmt",fontSize:"r9r71o1u",lineHeight:"soycq5t1",color:"m9osqain"},gutter:{flexBasis:"nl5py54v",flexShrink:"g5gj957u",flexGrow:"kb5gq1qc"}};function a(a){var c=b("ReStore.bs").useHook(void 0),d=a.e,e=a.a;return b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"reactions").asc,{hd:e,tl:{hd:d,tl:0}}),function(a){if(b("bs_curry")._1(b("MWChatReactionsUtils.bs").isHeart,a.e))return{a:a.a,b:a.b,c:a.c,d:a.d,e:b("MWChatReactionsUtils.bs").heartType1,f:a.f};else return a})},[JSON.stringify(e),d,c]))}function c(a){var c=a.message,d=a.reactions;a=a.outgoing;var e=c.e,f=c.a,h=d.length;c=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context);var l=c.setIsDialogOpened,m=c.setFocused,n=Array.from(new Set(d.map(function(a){return a.e}))).slice(0,3).map(function(a,c){a=b("EmojiRenderer").parse(a).map(function(a){return a.emoji});if(a.length!==1)return null;a=a[0];return j.jsx("div",{className:(i||(i=b("stylex")))(k.emoji),children:j.jsx(b("MWChatReactionEmoji.bs").make,{emoji:a,size:16,testid:"messenger_reaction_emoji_"+b("bs_caml_array").get(a,0)})},String(c))});if(h>0)return j.jsx(j.Fragment,{children:j.jsxs("div",{role:"none",className:(i||(i=b("stylex")))(k.container),children:[j.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){b("bs_curry")._1(l,function(a){return!1});return b("bs_curry")._1(m,function(a){return!0})},dialogResource:b("JSResourceForInteraction")("MWV2ChatReactionsDialog",{name:"MWV2ChatReactionsDialog","class":"fluid"}).__setRef("MWV2ChatReactionsPill.bs"),dialogProps:{onClose:function(a){},threadKey:f,messageId:e,reactions:{}},children:function(a,c){return j.jsx("div",{role:"none",className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MWPTooltip.react"),{tooltip:j.jsx(b("MWV2ChatReactionsTooltip.bs").make,{reactions:d,threadKey:f,messageId:e}),align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":g._({"*":"{number} c\u1ea3m x\u00fac, xem ai \u0111\u00e3 b\u00e0y t\u1ecf c\u1ea3m x\u00fac v\u1ec1 tin nh\u1eafn n\u00e0y","_1":"1 c\u1ea3m x\u00fac, xem ai \u0111\u00e3 b\u00e0y t\u1ecf c\u1ea3m x\u00fac v\u1ec1 tin nh\u1eafn n\u00e0y"},[g._plural(h,"number")]),ref:c,onPress:function(c){b("bs_curry")._1(l,function(a){return!0});return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:j.jsxs("div",{role:"none",className:i(k.emojiRow),children:[n,j.jsx("div",{role:"none",className:i(k.emojiNum),children:String(h)})]})})})})}}),a?null:j.jsx("div",{role:"none",className:(i||(i=b("stylex")))(k.gutter)})]})});else return null}d=3;e=c;f.styles=k;f.maxShownReactions=d;f.useReactions=a;f.make=e}),null);
__d("MWChatEmojiUtil.bs",["LSHotEmojiSize.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0&&!b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").small))if(b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").medium))return 56;else if(b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").large))return 96;else return 32;else return 32}f.transformHotEmojiSizeForWeb=a}),null);
__d("MessageProfileRangeType.bs",["MessageProfileRangeType"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return b("MessageProfileRangeType").PROFILE;else if(a==="thread")return b("MessageProfileRangeType").THREAD;else if(a==="thread_active")return b("MessageProfileRangeType").THREAD_ACTIVE;else return b("MessageProfileRangeType").NONE}f.ofString=a}),null);
__d("MWChatColors.bs",[],(function(a,b,c,d,e,f){"use strict";a={replyToOriginal:{backgroundColor:"khkgorpb",color:"m9osqain"},outgoingForwarded:{color:"av1wybal"},incomingForwarded:{color:"pipptul6"},outgoing:{color:"ljqsnud1"},incoming:{color:"oo9gr5id"}};b={action:{marginStart:"hcukyx3x",marginEnd:"cxmmr5t8",width:"b73ngqbp",height:"rgmg9uty",display:"j83agx80",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",flexShrink:"pfnyh3mw",alignContent:"n5ue3fu6",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",textAlign:"oqcyycmt",cursor:"nhd2j8a9",":hover":{backgroundColor:"opvtebq1"},position:"l9j0dhe7"},icon:{height:"p1ueia1e",width:"pgctjfs5",opacity:"l8rlqa9s",":active":{opacity:"sh06z9xi"},":hover":{opacity:"i2p6rm4e"}},svgStroke:{stroke:"rvno3twz",fill:"mlqo0dh0"},svgFill:{fill:"m50y4xls"}};c={styles:b};f.styles=a;f.MessageActions=c}),null);
__d("MWLSLogMessageClick.bs",["LsActionCategory.bs","MWChatMessageId.bs","UserAgentData","bs_caml_int64","bs_caml_option","bs_int64","requireDeferred"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=d!==void 0?b("bs_caml_option").valFromOption(d):void 0;b("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWLSLogMessageClick.bs").onReady(function(d){d.log(function(){var d={};f!==void 0&&(d.action=f);d.browserName=b("UserAgentData").browserName;var e=b("MWChatMessageId.bs").getThreadId(a),g=b("MWChatMessageId.bs").getMessageId(a),h=b("MWChatMessageId.bs").getTimestamp(a);return{click:{category:b("bs_caml_int64").to_int32(b("LsActionCategory.bs").click)},click_target:{type:b("bs_caml_int64").to_int32(c)},thread:{id:e!==void 0?b("bs_int64").to_string(e):"",key:void 0,type:void 0},message:{id:g!==void 0?g:"",sender_id:void 0,sent_time:h!==void 0?b("bs_caml_int64").to_float(h):void 0},xma:void 0,extra:JSON.stringify(d)}})})}f.logMessageClicked=a}),null);
__d("MWChatForwardAction.bs",["CometPressable.react","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWPTooltip.react","ODS","UseMWChatForward.re","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("MWChatColors.bs").MessageActions.styles,k={icon:{opacity:"pedkr2u6"}};function l(a){}var m=i.jsx("svg",{height:"22px",width:"22px",viewBox:"0 0 36 36",children:i.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:[i.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),i.jsx("path",{className:(h||(h=b("stylex")))(j.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})]})});function n(a,c){b("ODS").bumpEntityKey(3185,"mwchat_actions","forward");b("MWLSLogMessageClick.bs").logMessageClicked(a,b("LsTargetType.bs").forwardIcon,void 0,void 0);if(c!==void 0)return b("bs_curry")._1(c.onClick,void 0)}function a(a){var c=a.onForward,d=a.label,e=a.messageID;a=b("UseMWChatForward.re").useMWChatForward({onClose:l,onSend:b("bs_curry").__1(c),messageID:e});var f=a==null?void 0:b("bs_caml_option").some(a);return i.jsx(b("MWPTooltip.react"),{tooltip:d,align:"middle",position:"above",children:i.jsx("div",{className:(h||(h=b("stylex")))(j.action),children:i.jsx(b("CometPressable.react"),{"aria-label":d,role:b("gkx")("1224637")?"menuitem":"button",testid:"messenger_forward_menu_button",onPress:function(a){return n(e,f)},overlayDisabled:!0,children:i.jsx("div",{className:h(j.icon,k.icon),children:m})})})})}c=a;f.sharedStyles=j;f.styles=k;f.noop=l;f.icon=m;f.onOpenForwardDialog=n;f.make=c}),null);
__d("KeyCommandHandler.react",["ReactKeyboardEvent.react","react"],(function(a,b,c,d,e,f,g){var h=d("react"),i=d("react").useRef,j=h.unstable_Scope;function a(a){var b=a.children,c=a.onKeyDown;a=a.onKeyUp;var e=i(null);d("ReactKeyboardEvent.react").useKeyboard(e,{onKeyDown:c,onKeyUp:a});return h.jsx(j,{ref:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatReactionsAction.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","KeyCommandHandler.react","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWPTooltip.react","ODS","bs_belt_Option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={remove:"REMOVE_REACTION",add:"ADD_REACTION"};var k=b("MWChatColors.bs").MessageActions.styles,l={popoverLoading:{minHeight:"e170dy2k",minWidth:"ec2v3nvp"}},m=j.jsxs("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",children:[j.jsx("circle",{cx:"11",cy:"11",r:"7",strokeWidth:"1.5px",className:(i||(i=b("stylex")))(k.svgStroke)}),j.jsx("path",{d:"M8,13Q11,16,14,13",className:i(k.svgStroke),strokeWidth:"1.5px"}),j.jsx("circle",{cx:"9",cy:"10",r:"1.2",className:i(k.svgFill)}),j.jsx("circle",{cx:"13",cy:"10",r:"1.2",className:i(k.svgFill)})]}),n=!b("gkx")("1224637");d={key:b("CometKeys").UP};e={key:b("CometKeys").DOWN};var o=n?[{command:d,description:g._("M\u1edf menu ph\u1ee5 v\u1ec1 c\u1ea3m x\u00fac"),handler:function(a){}},{command:e,description:g._("M\u1edf menu ph\u1ee5 v\u1ec1 c\u1ea3m x\u00fac"),handler:function(a){}}]:[];function a(a){var c=a.onVisibilityChange,d=a.sendReaction,e=a.align,f=a.selectedReaction,h=a.closeActionsMenu,p=a.messageID,q=g._("B\u00e0y t\u1ecf c\u1ea3m x\u00fac");a=j.useState(function(){return!1});var r=a[1],s=a[0];return j.jsx(b("CometLazyPopoverTrigger.react"),{fallback:j.jsx(b("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:[l.popoverLoading]}),onVisibilityChange:function(a){a||b("bs_curry")._1(r,function(a){return!1});return b("bs_curry")._1(c,a)},popoverResource:b("JSResource")("MWChatReactionsMenu").__setRef("MWChatReactionsAction.bs"),popoverProps:{onSelect:function(a){var c=f!==void 0?f===a:!1;b("bs_curry")._2(d,a,c);c||b("MWLSLogMessageClick.bs").logMessageClicked(p,b("LsTargetType.bs").reaction,void 0,void 0);return b("bs_curry")._1(h,void 0)},selectedReaction:f,onClose:function(a){},closeActionsMenu:h,showEmojiPicker:s,setShowEmojiPicker:b("bs_curry").__1(r),messageID:p},popoverType:s?"dialog":"menu",align:function(){switch(b("bs_belt_Option").getWithDefault(e,"middle")){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:function(){switch(s?"below":"above"){case"above":return"above";case"below":return"below";case"start":return"start";case"end_":return"end"}}(),children:function(a,c,d,e,f,g,h){var l=function(a){b("bs_curry")._1(c,void 0),b("MWLSLogMessageClick.bs").logMessageClicked(p,b("LsTargetType.bs").reactionIcon,void 0,void 0),b("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};d=function(a){var b=a.key;if(n&&(b==="ArrowUp"||b==="ArrowDown")){l(void 0);a.preventDefault();return}};return j.jsx(b("MWPTooltip.react"),{tooltip:q,align:"middle",position:"above",children:j.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:o,xstyle:!1,children:j.jsx(b("KeyCommandHandler.react"),{children:j.jsx(b("CometPressable.react"),{"aria-label":q,role:n?"menuitem":"button",ref:a,testid:"messenger_reactions_menu_button",onHoverIn:b("bs_curry").__1(e),onHoverOut:function(a){return b("bs_curry")._1(f,void 0)},onPressIn:b("bs_curry").__1(g),onPress:l,overlayDisabled:!0,children:j.jsx("div",{className:(i||(i=b("stylex")))(k.action),children:j.jsx("div",{className:i(k.icon),children:m})})}),onKeyDown:d})})})}})}a=a;f.Action=c;f.styles=k;f.styles2=l;f.reactionIcon=m;f.isWork=n;f.keyUp=d;f.keyDown=e;f.commandConfigs=o;f.make=a}),null);
__d("MWV2ChatSeenHeadsRow.bs",["fbt","BaseGlimmer.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWPTooltip.react","MWPTooltipGroup.react","MWTheme.bs","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","bs_array","bs_curry","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",paddingBottom:"r8blr3vg"},mask:{backgroundColor:"nred35xi"},spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},heads:{flexShrink:"pfnyh3mw",display:"j83agx80",marginTop:"aahdfvyu",marginEnd:"cgat1ltu",marginBottom:"dicw6rsg",marginStart:"hcukyx3x"},img:{verticalAlign:"sf5mxxl7",width:"gab7stmx",height:"i4qgphn6",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",paddingStart:"abpf7j7b",paddingEnd:"exrn9cbp"},overflow:{backgroundColor:"tdjehn4e",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",color:"m9osqain",fontSize:"r9r71o1u",fontWeight:"n3ffmt46",lineHeight:"eagtllmd",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"b3onmgus",textAlign:"oqcyycmt"}};function l(a){var c=a.length,d=c>5;c=Math.max(c-(d?4:5)|0,0);var e=a.slice(c);if(d){d=Math.max(c-9|0,0);a=a.slice(d,c);var f="\n"+g._({"*":"v\u00e0 {Number of additional views} ng\u01b0\u1eddi n\u1eefa"},[g._param("Number of additional views",d,[0])]);a=j.jsxs("ul",{children:[a.reverse().map(function(a,b){return j.jsx("li",{children:a.name},String(b))}),d>0?j.jsx("li",{children:f},"overflow"):null]});d=j.jsx(b("MWPTooltip.react"),{tooltip:a,align:"end",position:"above",children:j.jsx("span",{className:(i||(i=b("stylex")))(k.overflow),children:g._({"*":"+{the number of additional viewers}"},[g._param("the number of additional viewers",c,[0])])}),forceInlineDisplay:!0},"overflow")}else d=null;return b("bs_array").append([d],e.map(function(a,c){var d=a.timestamp>0?g._({"*":"{full name} \u0111\u00e3 xem l\u00fac {seen time}"},[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender)),g._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):g._({"*":"{full name} \u0111\u00e3 xem"},[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender))]);return j.jsx(b("MWPTooltip.react"),{tooltip:d,align:"end",position:"above",children:a.imageSrc===""?j.jsx(b("BaseGlimmer.react"),{className:(i||(i=b("stylex")))(k.img),index:c}):j.jsx("img",{className:(i||(i=b("stylex")))(k.img),alt:d,src:a.imageSrc}),forceInlineDisplay:!0},a.id)}))}function a(a){var c=a.messageSeenBy;a=b("MWTheme.bs").useTheme(void 0);var d=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),e=d.setIsDialogOpened,f=d.setFocused,h=c.length;return j.jsxs("div",{role:"none",className:(i||(i=b("stylex")))(k.root,b("MWTheme.bs").isGradient(a)?k.mask:!1),children:[j.jsx("div",{className:i(k.spacer)}),j.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){b("bs_curry")._1(e,function(a){return!1});return b("bs_curry")._1(f,function(a){return!0})},dialogResource:b("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog",{name:"MWV2ChatSeenHeadsDialog","class":"fluid"}).__setRef("MWV2ChatSeenHeadsRow.bs"),dialogProps:{onClose:function(a){},messageSeenBy:c},children:function(a,d){return j.jsx(b("CometPressable.react"),{"aria-label":g._("{number of participants who have seen this message} ng\u01b0\u1eddi tham gia \u0111\u00e3 xem",[g._param("number of participants who have seen this message",String(h))]).toString(),ref:d,onPress:function(c){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.heads]},children:j.jsx(b("MWPTooltipGroup.react"),{children:l(c)})})}})]})}c=5;d=a;f.styles=k;f.maxNumberOfHeads=c;f.getImageRow=l;f.make=d}),null);
__d("MWV2SeenHeadsRow.bs",["MWV2ChatSeenHeadsRow.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.seenHeads;return h.jsx(b("MWV2ChatSeenHeadsRow.bs").make,{messageSeenBy:a})}c=a;f.make=c}),null);
__d("MWV2MessageEndOfGroupContent.bs",["MWV2ChatMessageListColumn.bs","MWV2SeenHeadsRow.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.seenHeads;return h.jsx(h.Fragment,{children:a.length!==0?h.jsx(b("MWV2ChatMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWV2SeenHeadsRow.bs").make,{seenHeads:a})}):null})}c=a;f.make=c}),null);
__d("MWV2MessageParsingUtils.bs",["LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","MWV2MessageHasAttachment.bs","MercuryThreadlistConstants","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={titleContainer:{display:"j83agx80",alignItems:"bp9cbjyn",marginBottom:"gjjqq4r6"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function k(a){a=a.g;if(a!==void 0)return a!=="";else return!1}function l(a){a=a.t;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function m(a){a=a.t;if(a!==void 0&&b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function n(a){return b("bs_belt_Option").mapWithDefault(a.g,!1,function(a){return a.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function o(a){if(l(a)||b("MWV2MessageHasAttachment.bs").make(a)||n(a))return!0;else return a.j}function p(a,c){if(c===void 0)return!0;var d=b("bs_caml_int64").to_float(a.b)-b("bs_caml_int64").to_float(c.b)>b("MercuryThreadlistConstants").GROUPING_THRESHOLD,e=m(a),f=b("bs_int64").compare(a.h,c.h)===0;if(c.m||a.m||!f||d||e||o(a))return!0;else return o(c)}function q(a,b){if(b!==void 0&&!p(a,b))return!1;else return!0}function r(a,b){if(b!==void 0&&!p(b,a))return!1;else return!0}function a(a,b){if(k(a))return!0;else return!q(a,b)}function c(a,b){return!r(a,b)}e={shouldConnectTop:a,shouldConnectBottom:c};function d(a){var c=a.t,d=c!==void 0?b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").story)?i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"}):b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").fbStoryShare)?i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}):null:null;return b("bs_belt_Option").map(a.v,function(a){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.titleContainer),children:[d,i.jsx("div",{className:h(j.text),children:a})]})})}f.styles=j;f.hasText=k;f.isReplyToSomething=l;f.isForwarded=m;f.isLongText=n;f.shouldBeStandalone=o;f.isInDifferentGroup=p;f.isStartOfGroup=q;f.isEndOfGroup=r;f.MessageWithAttachments=e;f.getGroupTitleForReply=d}),null);
__d("MWV2MessageProfilePhoto.bs",["BaseGlimmer.react","CometImageCover.react","MWPTooltip.react","MWV2MessageAuthor.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{width:"ciadx1gn"}};function k(a){return i.jsx("div",{className:(h||(h=b("stylex")))(j.root)})}c={styles:j,make:k};var l={profile:{flexShrink:"pfnyh3mw",width:"ciadx1gn",height:"mudddibn",alignItems:"aovydwv3",display:"j83agx80"},glimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",width:"ciadx1gn",height:"mudddibn"}};function a(a){a=a.isLastMessageInGroup;var c=i.useContext(b("MWV2MessageAuthor.bs").ctx),d=c.nickname;c=c.contact;var e={borderRadius:"50%"};if(!a)return i.jsx(k,{});if(c!==void 0){a=d!==void 0?d+" ("+c.h+")":c.h;d=i.jsx(b("MWPTooltip.react"),{tooltip:a,align:"middle",position:"start",children:i.jsx(b("CometImageCover.react"),{alt:c.h,src:c.b,style:e})})}else d=i.jsx(b("BaseGlimmer.react"),{index:1,xstyle:l.glimmer});return i.jsx("div",{className:(h||(h=b("stylex")))(l.profile),children:d})}d=a;f.NoProfilePhoto=c;f.styles=l;f.make=d}),null);
__d("StylexHelpers.bs",["stylex"],(function(a,b,c,d,e,f){"use strict";var g;(g||(g=b("stylex"))).inject(".spvqvc9t{clip:rect(0,0,0,0)}",1);g.inject(".ikw5e13s{clip-path:inset(50%)}",1);g.inject(".ebnioo9u{height:1px}",1);g.inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".s8sjc6am{position:absolute}",1);g.inject(".rfd0zzc9{width:1px}",1);a={visuallyHidden:{clip:"spvqvc9t",clipPath:"ikw5e13s",height:"ebnioo9u",overflowX:"lq84ybu9",overflowY:"hf30pyar",position:"s8sjc6am",width:"rfd0zzc9"}};f.styles=a}),null);
__d("MWV2MessageRowBase.bs",["fbt","CometPressable.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MWMessageCellFocusTable.bs","MWMessageTableFocusTable.bs","MWV2MessageAuthor.bs","MWV2MessageListIsRowModalContext.bs","ReactDOMComet","StylexHelpers.bs","TetraTextPairing.react","bs_caml_int64","bs_curry","focusScopeQueries","react","setTimeout","stylex","useCometTheme","useCometUniqueID","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={row:{display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7"},rowFocusVisible:{zIndex:"tkr6xdv7"},rowModal:{outline:"etjob87o","@media (-webkit-min-device-pixel-ratio: 0)":{outline:"l9gyps8x"},outlineOffset:"shww88j2"},enterModalButton:{position:"pmk7jnqg",right:"dm7saucs",top:"ormqv51v",transform:"i9k17dj3",backgroundColor:"ms7hmo2b",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"r92hip7p",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq",zIndex:"tkr6xdv7"},enterModalButtonVisible:{opacity:"pedkr2u6"}};function a(a){}function l(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var m=g._("Chi ti\u1ebft v\u00e0 h\u00e0nh \u0111\u1ed9ng"),n=g._("\u0110\u00f3ng Chi ti\u1ebft v\u00e0 h\u00e0nh \u0111\u1ed9ng");function c(a){var c=a.message,d=a.messageDomID,e=a.outgoing,f=a.stopHoveringRef,h=a.setFocused,o=a.setHovered,p=a.children,q=a.isModal,r=a.isDialogOpened,s=a.isFocused,t=j.useCallback(function(a){return b("bs_curry")._1(o,function(a){return!1})},[o]),u=j.useContext(b("MWV2MessageListIsRowModalContext.bs").context),v=j.useRef(null),w=j.useCallback(function(a){return b("bs_curry")._1(u,function(a){return c.e})},[u,c]),x=function(a){b("bs_curry")._1(u,function(a){return""});a=v.current;if(!(a==null))return a.focus()};a=b("CometTimestamp.react").getTimestamp(b("useServerTime")(),new Date(b("bs_caml_int64").to_float(c.b)));var y=b("MWV2MessageAuthor.bs").useAuthorName(c);y=y[0];e=e?g._("B\u1ea1n"):y!==void 0?y:g._("m\u1ed9t ng\u01b0\u1eddi tham gia");var z=b("useCometUniqueID")(),A=j.jsx(b("CometScreenReaderText.react"),{text:g._("Tin nh\u1eafn do {Name of the author of the incoming message} g\u1eedi l\u00fac {Stringified timestamp of the incoming message}",[g._param("Stringified timestamp of the incoming message",a),g._param("Name of the author of the incoming message",e)]),id:z}),B=b("useCometUniqueID")();y=b("useCometTheme")("invert");var C=y[1],D=y[0],E=j.useRef(null);return j.jsx(b("MWMessageTableFocusTable.bs").Table_.Row.make,{children:j.jsx("div",{role:"row",onMouseEnter:function(a){b("bs_curry")._1(f.current,void 0),b("bs_curry")._1(o,function(a){return!0}),f.current=t},onMouseLeave:function(a){if(f.current===t){b("bs_curry")._1(t,void 0);f.current=function(a){};return}},children:j.jsx(b("MWMessageCellFocusTable.bs").keyCommands,{onEscape:q?x:void 0,onEnter:q?void 0:w,onSpace:q?void 0:w,children:j.jsx(b("MWMessageTableFocusTable.bs").Table_.Cell.make,{children:j.jsx(b("FocusWithinHandler.react"),{onFocusChange:function(a){if(s!==a){b("bs_curry")._1(h,function(b){return a});return b("bs_curry")._1(u,function(b){if((a||r)&&q)return c.e;else return""})}},onFocusVisibleChange:function(c){var a=E.current;if(c&&!(a==null)){b("setTimeout")(function(b){try{return a.scrollIntoView({block:"nearest",behavior:"smooth"})}catch(b){return a.scrollIntoView(!1)}},0);return}},children:function(a,c){a=b("bs_curry")._1(D,{children:j.jsx(b("CometPressable.react"),{"aria-label":q?n:m,ref:E,onPress:function(a){if(q)return x(void 0);else return b("bs_curry")._1(w,void 0)},xstyle:function(a){return[C,k.enterModalButton,c||q?k.enterModalButtonVisible:b("StylexHelpers.bs").styles.visuallyHidden]},children:j.jsx(b("TetraTextPairing.react"),{body:q?g._("Esc"):g._("Enter"),bodyColor:"primary"})})});return j.jsx("div",{ref:v,role:"gridcell",tabIndex:0,"data-scope":b("MWMessageTableFocusTable.bs").scopeID,"data-release-focus-from":"CLICK",className:(i||(i=b("stylex")))(k.row,q?k.rowModal:!1,c?k.rowFocusVisible:!1),children:j.jsx(b("FocusInertRegion.react"),{disabled:q,children:q?j.jsxs(j.Fragment,{children:[j.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:b("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:b("focusScopeQueries").tabbableScopeQuery,recoverFocusQuery:b("focusScopeQueries").tabbableScopeQuery,children:j.jsx(b("KeyCommandHandler.react"),{children:j.jsxs("div",{role:"dialog","aria-describedby":d,"aria-labelledby":z,id:B,children:[p,q?A:null,a]}),onKeyDown:l})}),b("ReactDOMComet").createPortal(j.jsx("div",{"aria-owns":B}),document.body)]}):j.jsxs(j.Fragment,{children:[p,a]}),focusQuery:b("focusScopeQueries").tabbableScopeQuery})})}})})})})})}d=c;f.styles=k;f.noop=a;f.onKeyDown=l;f.enterModalLabel=m;f.exitModalLabel=n;f.make=d}),null);
__d("MWV2MessageSenderName.bs",["MWV2ChatMessageListColumn.bs","MWV2MessageAuthor.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{fontSize:"r9r71o1u",color:"m9osqain",lineHeight:"fsrhnwul",paddingStart:"d0szoon8",marginTop:"qjjbsfad"}};function k(a){a=a.children;return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:a})}c={styles:j,make:k};function a(a){a=a.message;a=b("MWV2MessageAuthor.bs").useAuthorName(a);a=a[0];return i.jsx(i.Fragment,{children:a!==void 0?i.jsx(b("MWV2ChatMessageListColumn.bs").Shrinkwrap.make,{children:i.jsx(k,{children:a})}):null})}d=a;f.GroupHeading=c;f.make=d}),null);
__d("MWV2MessageRowHeader.bs",["fbt","BaseHeading.react","BaseHeadingContextWrapper.re","LSMessageReplySourceTypeV2.bs","MWV2ChatMessageListColumn.bs","MWV2MessageAuthor.bs","MWV2MessageHasReply.bs","MWV2MessageSenderName.bs","MWV2OpenForwardedContent.bs","MWV2OpenReplySnippet.bs","StylexHelpers.bs","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={header:{display:"j83agx80",flexDirection:"cbu4d94t"},alignEnd:{alignItems:"aovydwv3"},hiddenFromFocusRegion:{height:"do00u71z",width:"ttbfdpzt"}};function l(a){var c=a.message,d=a.outgoing;a=b("MWV2MessageAuthor.bs").useAuthorName(c);a=a[0];var e=j.useMemo(function(){if(d)return g._("B\u1ea1n \u0111\u00e3 g\u1eedi");else return g._("Ng\u01b0\u1eddi tham gia")},[d]);if(c.j)return null;else return j.jsx("span",{className:(i||(i=b("stylex")))(b("StylexHelpers.bs").styles.visuallyHidden),children:a!==void 0&&!d?a:e})}c={make:l};function m(a,c){return j.useMemo(function(){var d=a.v;d=d!==void 0?d!=="":!1;var e=b("bs_caml_obj").caml_equal(a.t,b("LSMessageReplySourceTypeV2.bs").forward);if(d)return b("bs_caml_option").some(j.jsx(b("MWV2OpenReplySnippet.bs").make,{message:a,outgoing:c}));else if(e)return b("bs_caml_option").some(j.jsx(b("MWV2OpenForwardedContent.bs").make,{message:a,outgoing:c}));else return},[a,c])}function a(a){var c=a.isFirstMessageInGroup,d=a.message,e=a.outgoing;a=a.isGroupThread;var f=b("MWV2MessageHasReply.bs").make(d),g=m(d,e);g=j.jsx(j.Fragment,{children:g!==void 0?j.jsx("div",{role:"none",className:(i||(i=b("stylex")))(k.header,e?k.alignEnd:!1),children:j.jsx(b("MWV2ChatMessageListColumn.bs").WithGutters.make,{children:b("bs_caml_option").valFromOption(g),shrinkwrap:!0})}):a&&c&&!e&&!f?j.jsx(b("MWV2MessageSenderName.bs").make,{message:d}):j.jsx(l,{message:d,outgoing:e})});return j.jsx(b("BaseHeadingContextWrapper.re").make,{children:j.jsx(b("BaseHeading.react"),{children:g})})}d=a;f.styles=k;f.AccessibleText=c;f.useSnippet=m;f.make=d}),null);
__d("WorkChatDateBreak.bs",["BaseHeading.react","CometTimestamp.react","MWTheme.bs","formatDate","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{textAlign:"oqcyycmt",color:"pipptul6",fontSize:"r9r71o1u",fontWeight:"lrazzd5p"},mask:{backgroundColor:"nred35xi"},accessibleElem:{clip:"q45zohi1",clipPath:"ema1e40h",height:"do00u71z",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"ttbfdpzt"}};function a(a){a=a.timestamp;var c=b("MWTheme.bs").useTheme(void 0);return i.jsxs(b("BaseHeading.react"),{children:[i.jsx("div",{className:(h||(h=b("stylex")))(j.accessibleElem),children:i.jsx(b("CometTimestamp.react"),{date:new Date(a)})}),i.jsx("div",{className:h(j.root,b("MWTheme.bs").isGradient(c)?j.mask:!1),"data-scope":"date_break","aria-hidden":!0,children:b("formatDate")(new Date(a),{today:"g:ia",thisYear:"M jS, g:ia",withinWeek:"D g:ia",older:"m/d/Y g:ia",future:"g:ia"})})],testid:"mw-chat-date-break"})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2MessageStartOfGroupContent.bs",["MWV2ChatMessageListColumn.bs","MWV2MessageRowSimple.bs","WorkChatDateBreak.bs","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){if(c!==void 0)return b("bs_int64").compare(b("bs_caml_int64").sub(a.b,c.b),[0,9e5])>0;else return!0}function j(a){var c=a.message;a=a.prevMessage;if(i(c,a))return h.jsx(b("MWV2MessageRowSimple.bs").make,{children:h.jsx(b("MWV2ChatMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("WorkChatDateBreak.bs").make,{timestamp:b("bs_caml_int64").to_float(c.b)})})});else return null}c={make:j};function a(a){var b=a.message;a=a.prevMessage;return h.jsx(j,{message:b,prevMessage:a})}d=a;f.Datebreak=c;f.make=d}),null);
__d("LSReplyMessageAttachmentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9];f.other=a;f.photo=c;f.video=d;f.gif=e;f.sticker=b;f.link=g;f.multiphoto=h;f.permanentRavenPhoto=i;f.permanentRavenVideo=j;f.soundBite=k}),null);
__d("LSReplyMessageStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.unknown=a;f.valid=c;f.deleted=d;f.temporaryUnavailable=e;f.expired=b}),null);
__d("MWV2JumpToRepliedMessageLogger.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId,void 0),null);b("MWChatInteraction.bs").set(c,f);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}f.startHeroInteractionTrace=a}),null);
__d("MessengerWebModuleJumpToRepliedMessageQPLEvent",["cr:11482"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11482")}),98);
__d("MWV2JumpToRepliedMessage.bs",["LS.bs","LSMailboxMessagePointQueryStoredProcedure","LSMessagingInitiatingSourceHook.bs","LSTransaction.bs","MWThreadKey.bs","MWV2JumpToRepliedMessageLogger.bs","MWVersion.bs","MWVisibleMessageContext.bs","MessengerWebModuleJumpToRepliedMessageQPLEvent","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_curry","react","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("ReStore.bs").useHook(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0),g=h.useRef(!1),i=b("MWVisibleMessageContext.bs").useHook(void 0),j=i.setVisibleMessage,k=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),l=b("useCometInteractionTracing")(b("MessengerWebModuleJumpToRepliedMessageQPLEvent"),"fast","INTERACTION"),m=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"messages").asc,{hd:f,tl:{hd:c,tl:{hd:a,tl:0}}})},[e,f,c,a]));h.useEffect(function(){m!==void 0||g.current||(g.current=!0,b("LSTransaction.bs").run(e,function(c){return b("LSMailboxMessagePointQueryStoredProcedure")(f,a,void 0,b("LS.bs").make(c))},"readWrite"))},[e,m,f,a]);i=h.useMemo(function(){return m!==void 0},[m]);var n=h.useCallback(function(a){return l(function(e){if(m===void 0)return;var a=m.e,c=m.b;b("bs_curry")._1(j,function(b){return{timestamp:c,messageId:a,highlights:[],contextLine:"",source:1}});return b("MWV2JumpToRepliedMessageLogger.bs").startHeroInteractionTrace(e,d?a:m.f,k,b("MWVersion.bs").v2)})},[m,j,l,d,k]);return[i,n]}f.useHook=a}),null);
__d("MWV2RepliedMessageBubbleWrapper.bs",["fbt","CometPressable.react","MWV2JumpToRepliedMessage.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{display:"a8c37x1j"}};function a(a){var c=a.messageId,d=a.timestampMs,e=a.isSecureThread;a=a.children;c=b("MWV2JumpToRepliedMessage.bs").useHook(c,d,e);var f=c[1];return i.jsx(b("CometPressable.react"),{"aria-label":g._("Chuy\u1ec3n \u0111\u1ebfn tin nh\u1eafn"),disabled:!c[0],onPress:function(a){return b("bs_curry")._1(f,void 0)},overlayDisabled:!0,xstyle:function(a){return[j.root]},children:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ReplyTo.bs",["fbt","CometScreenReaderText.react","MWV2ChatBubbleSolid.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={content:{overflowWrap:"jm1wdb64",paddingBottom:"f10w8fjw",fontSize:"e9vueds3",color:"m9osqain"}};function a(a){var c=a.children,d=a.outgoing;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsxs(b("MWV2ChatBubbleSolid.bs").make,{children:[j.jsx(b("CometScreenReaderText.react"),{text:g._("Tin nh\u1eafn g\u1ed1c:")}),j.jsx("div",{className:(i||(i=b("stylex")))(k.content,a),children:c})],style:{backgroundColor:"var(--comment-footer-background)"},connectTop:!1,connectBottom:!0,precedesXMA:!1,outgoing:d})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2Reply.bs",["fbt","ix","CometPressable.react","CometTextWithEntities.react","LSMessageReplySourceTypeV2.bs","LSReplyMessageAttachmentType.bs","LSReplyMessageStatus.bs","MWChatTextFormatting","MWChatTextTransform.bs","MWStableImage.bs","MWV2RepliedMessageBubbleWrapper.bs","MWV2ReplyTo.bs","TetraIcon.react","XCometStoriesControllerRouteBuilder","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_int64","fbicon","qex","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l=g._("\u0110\u00e3 g\u1ee1 tin nh\u1eafn"),m={root:{fontStyle:"fmqa7x8m"}};function n(a){a=a.outgoing;return k.jsx(b("MWV2ReplyTo.bs").make,{children:l,outgoing:a,xstyle:m.root})}c={text:l,styles:m,make:n};var o=g._("File \u0111\u00ednh k\u00e8m"),p={root:{alignItems:"bp9cbjyn",display:"j83agx80",fontStyle:"fmqa7x8m"},icon:{display:"a8c37x1j",marginStart:"h676nmdw"}};function q(a){a=a.outgoing;return k.jsx(b("MWV2ReplyTo.bs").make,{children:k.jsxs("div",{className:(j||(j=b("stylex")))(p.root),children:[o,k.jsx("span",{className:j(p.icon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("537728"),12),color:"secondary"})})]}),outgoing:a})}d={text:o,styles:p,make:q};var r={root:{display:"a8c37x1j",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"dbpd2lw6"},rootHasSticker:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e"},image:{display:"a8c37x1j",height:"idiwt2bm",maxWidth:"d2edcug0",width:"dbpd2lw6"},imageSmall:{maxHeight:"iko8p5ub"},incoming:{borderBottomStartRadius:"qttc61fc"},outgoing:{borderBottomEndRadius:"ihh4hy1g"}};function s(a){var c=a.src,d=a.outgoing,e=a.isSticker,f=a.width;a=a.height;e=e!==void 0?e:!1;f=f!==void 0?b("bs_caml_option").valFromOption(f):void 0;a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;d=e?!1:d?r.outgoing:r.incoming;return k.jsx(b("MWStableImage.bs").make,{width:f!==void 0?b("bs_caml_int64").to_float(f):void 0,height:a!==void 0?b("bs_caml_int64").to_float(a):void 0,src:c,alt:"",maxHeight:100,maxWidth:300,className:(j||(j=b("stylex")))(r.root,e?r.rootHasSticker:!1,d)})}e={styles:r,make:s};var t=g._("\u0110\u00e3 g\u1ee1 tin nh\u1eafn"),u={root:{display:"a8c37x1j"}};function v(a){var c=a.message;a=a.outgoing;var d=c.r;d=d!==void 0?b("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+d),view_single:!0}).setDomain("www.facebook.com").setProtocol("https").toString():void 0;c=c.z;if(c===void 0)return null;c={"aria-label":g._("Xem tin"),overlayDisabled:!0,children:k.jsx(s,{src:c,outgoing:a})};a=b("bs_belt_Option").map(d,function(a){return{url:a}});a!==void 0&&(c.linkProps=b("bs_caml_option").valFromOption(a));return k.jsx(b("CometPressable.react"),c)}t={text:t,styles:u,make:v};var w=g._("\u1ea2nh"),x={italic:{fontStyle:"fmqa7x8m"}};function y(a){var c=a.message;a=a.outgoing;var d=c.z;if(d!==void 0)return k.jsx(s,{src:d,outgoing:a,width:c.A,height:c.B});else return k.jsx(b("MWV2ReplyTo.bs").make,{children:w,outgoing:a,xstyle:x.italic})}u={text:w,styles:x,make:y};var z=g._("Nh\u00e3n d\u00e1n"),A={italic:{fontStyle:"fmqa7x8m"}};function B(a){var c=a.message;a=a.outgoing;var d=c.z;if(d!==void 0)return k.jsx(s,{src:d,outgoing:a,isSticker:!0,width:c.A,height:c.B});else return k.jsx(b("MWV2ReplyTo.bs").make,{children:z,outgoing:a,xstyle:A.italic})}var C={text:z,styles:A,make:B},D={text:{color:"m9osqain"}};function E(c){var a=c.text;c=k.useMemo(function(){var a={};a.MessengerTextFormatting=[b("MWChatTextFormatting").replyRenderer];return a},[]);var d=k.useMemo(function(){return b("MWChatTextFormatting").getFormattingRanges(a)},[a]);return k.jsx("div",{className:(j||(j=b("stylex")))(D.text),children:k.jsx(b("CometTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:d,truncationStyle:"ellipsis-only",withParagraphs:!1,text:a,renderers:c,transforms:b("MWChatTextTransform.bs").epdTextTransforms})})}var F={styles:D,make:E},G={elevate:{maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"tkr6xdv7"}};function a(a){var c=a.message,d=a.outgoing;a=a.isSecureThread;a=a!==void 0?a:!1;var e=c.Y,f=c.H,g=c.G,h=c.w,i=c.r;g=g!==void 0?(b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").photo)||b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").video))&&b("bs_caml_obj").caml_equal(c.t,b("LSMessageReplySourceTypeV2.bs").story)?k.jsx(v,{message:c,outgoing:d}):f!==void 0?b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").other)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").photo)?k.jsx(y,{message:c,outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").multiphoto)?k.jsx(y,{message:c,outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").video)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").gif)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").sticker)?k.jsx(B,{message:c,outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").link)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").permanentRavenPhoto)?k.jsx(q,{outgoing:d}):b("bs_caml").i64_eq(g,b("LSReplyMessageAttachmentType.bs").permanentRavenVideo)?k.jsx(q,{outgoing:d}):(b("recoverableViolation")("Unknown attachment type: "+b("bs_int64").to_string(g),"messenger_comet"),null):null:f!==void 0?null:b("bs_caml_obj").caml_equal(c.u,b("LSReplyMessageStatus.bs").deleted)?k.jsx(n,{outgoing:d}):h!==void 0&&b("bs_caml_obj").caml_equal(c.t,b("LSMessageReplySourceTypeV2.bs").message)?h!==""?k.jsx(b("MWV2ReplyTo.bs").make,{children:k.jsx(E,{text:h}),outgoing:d}):k.jsx(q,{outgoing:d}):null;f=b("qex")._("297");c=i!==void 0&&e!==void 0&&!(f==null||f!=="enabled")?k.jsx(b("MWV2RepliedMessageBubbleWrapper.bs").make,{messageId:i,timestampMs:e,isSecureThread:a,children:g}):g;return k.jsx("div",{className:(j||(j=b("stylex")))(G.elevate),children:c})}a=a;f.Removed=c;f.Attachment=d;f.$$Image=e;f.Story=t;f.Photo=u;f.Sticker=C;f.$$Text=F;f.styles=G;f.make=a}),null);
__d("MWV2ReplyError.bs",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{fontStyle:"fmqa7x8m"}};function a(a){a=a.outgoing;return i.jsx(b("MWV2ReplyTo.bs").make,{children:g._("L\u1ed7i khi xu\u1ea5t file ph\u01b0\u01a1ng ti\u1ec7n"),outgoing:a,xstyle:j.root})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2MessageRow.bs",["BaseHeadingContextWrapper.re","CometErrorBoundary.re","LSMessageContentType.bs","MWChatGutterItem.bs","MWLSActor.bs","MWV2Attachments.bs","MWV2ChatAdminMessage.bs","MWV2ChatErrorBubble.bs","MWV2ChatMessageListColumn.bs","MWV2ChatReactionsPill.bs","MWV2Message.bs","MWV2MessageActions.bs","MWV2MessageEndOfGroupContent.bs","MWV2MessageHasReply.bs","MWV2MessageParsingUtils.bs","MWV2MessageProfilePhoto.bs","MWV2MessageRowBase.bs","MWV2MessageRowHeader.bs","MWV2MessageRowIsRowFocusedContext.bs","MWV2MessageRowSimple.bs","MWV2MessageStartOfGroupContent.bs","MWV2Reply.bs","MWV2ReplyError.bs","MWV2SeenHead.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","cr:4443","react","stylex","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",flexGrow:"buofh1pr"},containerOutgoing:{flexDirection:"rl25f0pe",maxWidth:"o6b9zlra"},containerIncoming:{maxWidth:"e409flbk"},alignEnd:{alignItems:"aovydwv3"},body:{display:"j83agx80"},adminMessageAttachment:{paddingTop:"jwdofwj8",paddingBottom:"hwnh5xvq",paddingEnd:"gl4o1x5y",paddingStart:"lt9micmv",minWidth:"fli3ptqi",maxWidth:"qmfd67dx"},gutter:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"odw8uiq3"},reply:{display:"j83agx80",alignItems:"ll8tlv6m",flexDirection:"cbu4d94t",marginBottom:"dglbbz69"}},k=b("cr:4443")==null?void 0:b("bs_caml_option").some(b("cr:4443"));function l(a){return b("bs_caml").i64_eq(b("bs_caml_int64").and_(a.Q,b("LSMessageContentType.bs").hscrollXma),b("bs_caml_int64").zero)}function m(a){var c=a.message,d=a.prevMessage,e=a.nextMessage,f=a.messageDomID,g=a.isFirstMessageInGroup,k=a.isLastMessageInGroup,m=a.isSecureThread,n=a.isGroupThread,o=a.status,p=a.focused,q=a.hovered,r=a.outgoing,s=a.reactions,t=a.messageElementRef,u=a.isModal,v=a.isDialogOpened,w=a.hasMessageEmphasisRing;a=a.renderAttachment;var x=!r,y=s.length>0;n=x&&n;var z=b("MWV2MessageHasReply.bs").make(c);f={message:c,messageDomID:f,reactions:s,isFirstMessageInGroup:g,isLastMessageInGroup:k,outgoing:r,isSecureThread:m,hasEmphasisRing:w,prevMessage:d,nextMessage:e};a!==void 0&&(f.renderAttachment=b("bs_caml_option").valFromOption(a));return i.jsxs(i.Fragment,{children:[g&&!n?i.jsx(b("MWV2ChatMessageListColumn.bs").VerticalRhythm.make,{height:2}):null,z?i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.reply,r?j.alignEnd:!1),children:i.jsx(b("MWV2ChatMessageListColumn.bs").WithGutters.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ReplyError.bs").make,{outgoing:r})},children:i.jsx(b("MWV2Reply.bs").make,{message:c,outgoing:r,isSecureThread:m})}),grow:!0})}):null,i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.body),children:[i.jsxs(b("MWV2ChatMessageListColumn.bs").Profile.make,{children:[x?i.jsx(b("MWV2MessageProfilePhoto.bs").make,{message:c,isLastMessageInGroup:k}):null,y?i.jsx(b("MWV2ChatMessageListColumn.bs").VerticalRhythm.make,{height:18}):null]}),i.jsxs("div",{role:"none","data-testid":"message-container",ref:t,className:h(j.container,r?j.containerOutgoing:j.containerIncoming),children:[i.jsx(b("MWV2ChatMessageListColumn.bs").Bubble.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ChatErrorBubble.bs").make,{hasReply:z})},children:i.jsx(b("MWV2Message.bs").make,f)}),paint:x||z,makeSpaceForActions:l(c)}),l(c)?i.jsx(b("MWV2ChatMessageListColumn.bs").Shrinkwrap.make,{children:i.jsx(b("MWV2MessageActions.bs").Container.make,{children:i.jsx(b("MWV2MessageActions.bs").make,{message:c,focused:p||v,hovered:q,outgoing:r}),makeSpaceForReactionsRow:y,outgoing:r,ariaHidden:u===!1})}):null,i.jsx(b("MWV2ChatMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWV2ChatMessageListColumn.bs").HorizontalSpacer.make,{})})]}),i.jsxs(b("MWV2ChatMessageListColumn.bs").Shrinkwrap.make,{children:[i.jsx(b("MWChatGutterItem.bs").make,{status:o,incoming:!1,xstyle:j.gutter}),y?i.jsx(b("MWV2ChatMessageListColumn.bs").VerticalRhythm.make,{height:18}):null]})]}),k?i.jsx(b("MWV2ChatMessageListColumn.bs").VerticalRhythm.make,{height:7}):null]})}c={make:m};function a(a){var c=a.prevMessage,d=a.message,e=a.nextMessage,f=a.status,g=a.isGroupThread,h=a.isSecureThread,l=a.isModal,n=a.stopHoveringRef,o=a.messageElementRefs,p=a.hasMessageEmphasisRing;a=a.renderAttachment;var q=b("MWLSActor.bs").useActor(void 0),r=b("MWV2MessageParsingUtils.bs").isStartOfGroup(d,c),s=b("MWV2MessageParsingUtils.bs").isEndOfGroup(d,e);q=b("bs_caml").i64_eq(d.h,q);var t=b("MWV2ChatReactionsPill.bs").useReactions(d),u=i.useState(function(){return!1}),v=u[1];u=u[0];var w=i.useState(function(){return!1}),x=b("useCometUniqueID")(),y=i.useMemo(function(){return b("bs_curry")._1(o.set,d.e)},[]),z=i.useState(function(){return!1}),A=z[1],B=z[0];if(d.j)z=i.jsx(b("MWV2MessageRowSimple.bs").make,{children:i.jsxs(b("MWV2ChatMessageListColumn.bs").Shrinkwrap.make,{children:[i.jsx(b("MWV2ChatAdminMessage.bs").make,{message:d}),i.jsx(b("MWV2Attachments.bs").make,{message:d,connectTop:!1,connectBottom:!1,outgoing:q,xstyle:j.adminMessageAttachment})],centered:!0})});else{e={message:d,prevMessage:c,nextMessage:e,messageDomID:x,isFirstMessageInGroup:r,isLastMessageInGroup:s,isSecureThread:h,isGroupThread:g,status:f,focused:u,hovered:w[0],outgoing:q,reactions:t,messageElementRef:y,isModal:l,isDialogOpened:B,hasMessageEmphasisRing:p};a!==void 0&&(e.renderAttachment=b("bs_caml_option").valFromOption(a));if(s){h=typeof f==="number"||f.TAG!==1?b("MWV2SeenHead.bs").noSeenHeads:f._0;t=i.jsx(b("MWV2MessageEndOfGroupContent.bs").make,{message:d,seenHeads:h})}else t=null;z=i.jsxs(i.Fragment,{children:[r?i.jsx(b("MWV2MessageStartOfGroupContent.bs").make,{message:d,prevMessage:c}):null,i.jsxs(b("MWV2MessageRowBase.bs").make,{message:d,messageDomID:x,outgoing:q,stopHoveringRef:n,setFocused:v,setHovered:w[1],children:[i.jsx(b("MWV2MessageRowHeader.bs").make,{isFirstMessageInGroup:r,message:d,outgoing:q,isGroupThread:g}),i.jsx(m,e),t],isModal:l,isDialogOpened:B,isFocused:u})]})}y=i.useMemo(function(){return{setFocused:v,setIsDialogOpened:A,isDialogOpened:B}},[v,A,B]);return i.jsx(b("MWV2MessageRowIsRowFocusedContext.bs").Provider.make,{children:i.jsxs(b("BaseHeadingContextWrapper.re").make,{children:[z,b("cr:4443")==null?null:i.jsx(k.make,{})]}),value:y})}d=i.memo(a);f.styles=j;f.$MWRenderCounter$requireCond=b("cr:4443");f.Body=c;f.make=d}),null);
__d("MWV2MessageList.bs",["fbt","FocusRegion.react","LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactVerifyContactRowExistsStoredProcedure","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWChatViewerChatVisibilityHook","MWLSActor.bs","MWMessageTableFocusTable.bs","MWV2ChatTypingIndicators.bs","MWV2MessageActionsVisibility.bs","MWV2MessageAuthor.bs","MWV2MessageListIsRowModalContext.bs","MWV2MessageRow.bs","MWV2OneToOneThreadBlockedContext.bs","MWV2SeenHead.bs","MWVisibleMessageContext.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_array","bs_caml_option","bs_curry","bs_int64","focusScopeQueries","intlList","promiseDone","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a,c){return new Map(b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:0}),b("ReQLTable").table(c,"contacts").asc),function(a){var c=a[1];return[b("bs_int64").to_string(c.a),[a[0],c]]})},[c,JSON.stringify(a.a)])))}function l(a,c,d){var e={contents:!1};return b("Promise").all(a.map(function(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:a,tl:0}))})).then(function(f){f.map(function(a){if(a!==void 0&&b("bs_caml").i64_ge(a.J,b("LSAuthorityLevel.bs").authoritativePendingReplacement)){e.contents=!0;c.set(b("bs_int64").to_string(a.a),a);return}});a.map(function(a){if(b("bs_caml_option").nullable_to_opt(c.get(b("bs_int64").to_string(a)))===void 0){b("LSTransaction.bs").run(d,function(c){return b("LSContactVerifyContactRowExistsStoredProcedure")(a,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(c))},"readWrite");return}});return b("Promise").resolve(e.contents)})}function m(a,c,d,e){var f=j.useState(function(){return!1}),g=f[1];j.useEffect(function(){b("promiseDone")(l(a,c,d),function(a){if(a)return b("bs_curry")._1(g,function(a){return!a})},void 0)},[d,JSON.stringify(e.a),JSON.stringify(a)])}function n(a,c){if(!(b("bs_caml").i64_eq(a.c,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(a.c,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)))return!1;var d={contents:!1};c.forEach(function(a,c,e){if(b("bs_caml").i64_neq(a[1].n,b("LSContactBlockedByViewerStatus.bs").unblocked)){d.contents=!0;return}});return d.contents}var o={grid:{borderStart:"ns9esd28",borderEnd:"tqkqlopc",zIndex:"du4w35lb"}};function p(a,c){var d=b("MWLSActor.bs").useActor(void 0);return j.useMemo(function(){var e=a.d;if(e!==void 0)return g._("Tin nh\u1eafn trong cu\u1ed9c tr\u00f2 chuy\u1ec7n {name of conversation}",[g._param("name of conversation",e)]).toString();e=Array.from(c.values()).filter(function(a){return b("bs_caml").i64_neq(a[1].a,d)}).map(function(a){return a[1].h});e=b("intlList")(e,b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._("Tin nh\u1eafn trong cu\u1ed9c tr\u00f2 chuy\u1ec7n v\u1edbi {participant list}",[g._param("participant list",e)]).toString()},[d,c,b("bs_int64").to_string(a.a)])}function q(a,b,c){return b["data-scope"]==="date_break"}function a(a){var c=a.messages,d=a.thread,e=a.isSecureThread,f=a.messageElementRefs,g=a.scrollerRefs;a=a.renderAttachment;var h=b("ReStore.bs").useHook(void 0),l=b("MWLSActor.bs").useActor(void 0),r=k(d,h),s=b("LSMessagingThreadTypeUtil.bs").isGroup(d.c),t=p(d,r),u=b("MWVisibleMessageContext.bs").useHook(void 0);u=u.visibleMessage;var v=[],w=j.useRef(new Map()),x=b("MWV2SeenHead.bs").makeExistingSeenHeads(l),y=b("MWV2SeenHead.bs").calculateMaxDeliveredTimestamp(r,l),z=b("MWV2MessageActionsVisibility.bs").useStopHoveringRef(void 0),A=b("MWChatViewerChatVisibilityHook")();A=e?A&&!s:A;var B=[],C=j.useState(function(){return""}),D=C[0],E=!1;for(var F=c.length-1|0;F>=0;--F){var G=F===0?void 0:b("bs_caml_array").get(c,F-1|0),H=F>=(c.length-1|0)?void 0:b("bs_caml_array").get(c,F+1|0),I=b("bs_caml_array").get(c,F),J=r.get(b("bs_int64").to_string(I.h)),K;if(J==null){var L=w.current.get(b("bs_int64").to_string(I.h));L==null?(B.push(I.h),K=[void 0,void 0]):(b("bs_caml").i64_lt(L.J,b("LSAuthorityLevel.bs").authoritativePendingReplacement)&&B.push(I.h),K=[L,L.h])}else K=[J[1],J[0].e];L=b("MWV2SeenHead.bs").deliveryStatusForMessage(I,r,x,y,l);var M;if(s&&e&&!I.j){J=0;typeof L==="number"&&L!==3?(!E&&!b("bs_int64").equal(I.h,l)&&(E=!0),M=L):J=1;J===1&&(!E&&b("bs_int64").equal(I.h,l)?(E=!0,M=3):M=0)}else M=L;J={prevMessage:G,message:I,nextMessage:H,status:M,isGroupThread:s,isSecureThread:e,isModal:D===I.e,stopHoveringRef:z,messageElementRefs:f,hasMessageEmphasisRing:u!==void 0?u.messageId===I.e&&u.source===1:!1};a!==void 0&&(J.renderAttachment=b("bs_caml_option").valFromOption(a));v.push(j.jsx(b("MWV2MessageAuthor.bs").Provider.make,{children:j.jsx(b("MWV2MessageRow.bs").make,J),contact:K[0],nickname:K[1]},I.e))}m(B,w.current,h,d);L=j.useCallback(function(c){var a=c.type;switch(a){case"PAGE_DOWN":case"PAGE_UP":break;default:return}a=c.type==="PAGE_DOWN";c.preventDefault();var d=c.currentRowIndex+(a?1:-1)|0,e=!1;while(!e){var f=c.getCell(d,c.currentCellIndex);if(f==null){var g=c.getCell(a?d-1|0:0,c.currentCellIndex);g==null||c.focusCell(g);e=!0}else{g=f.scopeRef.current;g=g!==void 0?b("bs_caml_option").valFromOption(g).DO_NOT_USE_queryFirstNode(q):null;g==null?d=a?d+1|0:d-1|0:(c.focusCell(f),e=!0)}}},[]);if(v.length>0)return j.jsx(b("MWV2MessageListIsRowModalContext.bs").Provider.make,{children:j.jsx(b("FocusRegion.react").FocusRegion,{recoverFocusQuery:b("MWMessageTableFocusTable.bs").scopeQuery,children:j.jsx(b("MWMessageTableFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:!1,wrapY:!1,allowModifiers:!0,children:j.jsx(b("MWV2OneToOneThreadBlockedContext.bs").make,{children:j.jsxs("div",{"data-testid":"mw_message_list",role:"grid","aria-label":t,className:(i||(i=b("stylex")))(o.grid),children:[v.reverse(),A?j.jsx(b("MWV2ChatTypingIndicators.bs").make,{threadKey:d.a,scrollerRefs:g,participants:r}):null]}),blocked:n(d,r)}),disabled:D!=="",onNavigate:L})}),value:C[1]});else return null}c=a;f.styles=o;f.useAccessibilityTitleForGrid=p;f.dateBreakQuery=q;f.make=c}),null);
__d("MWChatConversationScroller.bs",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","bs_caml_obj","bs_caml_option","bs_curry","isEventSupported","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function k(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop<=a}var l={root:{flexGrow:"buofh1pr",display:"j83agx80",overflowY:"eg9m0zos",overflowX:"ni8dbmo4",flexDirection:"cbu4d94t",overscrollBehavior:"gok29vw1"},contained:{contain:"isf3ygkp"}},m=b("ExecutionEnvironment").canUseDOM?document.body.style.overscrollBehavior===void 0&&document.body.style.scrollBoundaryBehavior===void 0:!1;function a(a,c){var d=a.children,e=a.boundingClientRectRef,f=a.scrollPositionRef,g=a.dispatch,n=a.hasMoreAfter;a=a.onScroll;var o=a!==void 0?a:function(a){},p=i.useRef(g),q=i.useRef(null);a=i.useCallback(function(a){q.current=a;if(e!==void 0){e.current=a==null?void 0:b("bs_caml_option").some(a.getBoundingClientRect());return}},[e]);i.useEffect(function(){p.current=g});var r=function(a,b){b=q.current;if(!(b==null)){b.scrollTop=a;return}},s=function(a,b){b=a!==void 0?a:!1;a=q.current;if(!(a==null))return r(a.scrollHeight,b)},t=function(a,b){var c=q.current;if(!(c==null))return r(c.scrollHeight-(a+c.clientHeight),b)},u=function(a){a=f.current;var c=q.current;c=c==null?void 0:c.scrollHeight-(c.scrollTop+c.clientHeight);var d=j(void 0,q.current),e=k(void 0,q.current);f.current=d?n?1:0:c!==void 0?e?{TAG:0,_0:c}:{TAG:1,_0:c}:0;d=f.current;e=0;typeof a==="number"?a===0&&(e=1):typeof d==="number"?p.current(1):d.TAG===0&&(e=1);if(e===1){c=0;(typeof a==="number"||a.TAG!==0)&&(c=2);c===2&&typeof d!=="number"&&d.TAG===0&&p.current(2)}return b("bs_curry")._1(o,void 0)},v=function(a){if(m){var b=a.deltaY>0,c=a.deltaY<0;(b&&j(0,q.current)||c&&k(0,q.current))&&a.preventDefault()}return u(void 0)},w=function(a){var c=b("isEventSupported")("mousewheel")?"mousewheel":b("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(d){return a.removeEventListener(b,c,{passive:!0})}},e=function(b){return a.addEventListener(c,v,{passive:!m})},f=function(b){return a.removeEventListener(c,v,{passive:!m})},g=d("mouseenter",e),h=d("mouseleave",f);e=b("CometThrottle")(u,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",u),k=d("mousedown",u);return function(a){f(void 0);(a=b("bs_curry"))._1(i,void 0);a._1(g,void 0);a._1(h,void 0);a._1(k,void 0);return a._1(j,void 0)}};i.useEffect(function(){var a=q.current;if(a==null)return;var c=w(a);return function(a){return b("bs_curry")._1(c,void 0)}},[]);i.useLayoutEffect(function(){var a=q.current;!(a==null)&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&p.current(0)});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=f.current;typeof a==="number"?a===0&&s(void 0,void 0):a.TAG===0&&t(a._0,!1)});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=f.current;typeof a==="number"?a!==0||s(void 0,void 0):t(a._0,!1)},[]);var x=i.useContext(b("BaseScrollableAreaContext")),y=i.useMemo(function(){return{getDOMNode:function(a){return q.current}}},[]),z=i.useMemo(function(){return x.concat([y])},[y,x]);i.useImperativeHandle(c,function(){return{scrollToBottom:function(a){f.current=0;return s(void 0,void 0)},scrollToElement:function(a,c){var d=q.current;if(d==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var e=d.getBoundingClientRect();a=a.top;e=e.top;if(b("bs_caml_obj").caml_lessequal(a,e)){d.scrollBy(0,-c|0);return u(void 0)}},scrollElementIntoViewIfNeeded:function(a){var c=q.current;if(c==null)return;var d=a.getBoundingClientRect();c=c.getBoundingClientRect();d=d.top;c=c.top;if(b("bs_caml_obj").caml_lessequal(d,c)){a.scrollIntoView();return}}}},[]);return i.createElement(b("BaseScrollableAreaContext").Provider,{children:i.jsx("div",{ref:a,className:(h||(h=b("stylex")))(l.root,l.contained),"data-release-focus-from":"CLICK",tabIndex:-1,children:d}),value:z})}c=i.forwardRef(a);d=20;f.scrollTolerance=d;f.isScrolledToBottom=j;f.isScrolledToTop=k;f.styles=l;f.disableElasticScroll=m;f.make=c}),null);
__d("MWV2MessageScroller.bs",["LSMailboxMessagesRangeQueryDirection.bs","MWChatConversationScroller.bs","MWLSThreadDisplayContext.bs","MWV2IsTabFocusedContext.bs","UserActivity","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10880","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("MWV2IsTabFocusedContext.bs").useContext(void 0),e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=e===0?d:!0,g;if(c!==void 0){e=b("bs_caml").i64_gt(c.b,a.i)?c.b:a.i;g=b("bs_caml").i64_gt(e,a.j)}else g=!1;return h.useCallback(function(a){if(b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&f)return g;else return!1},[f,g])}function j(a,c,d){var e=i(a,c);return h.useCallback(function(a){if(b("bs_curry")._1(e,void 0))return b("bs_curry")._1(d,void 0)},[e,d])}function k(a,c){h.useEffect(function(){var d=function(d){if(a.current===0)return b("bs_curry")._1(c,void 0)},e=b("bs_belt_Option").getExn(b("bs_caml_option").undefined_to_opt(typeof window==="undefined"?void 0:window));e.addEventListener("focus",d);document.hasFocus()&&a.current===0&&b("bs_curry")._1(c,void 0);return function(a){e.removeEventListener("focus",d)}},[c,a])}var l=b("cr:10880")==null?function(a){}:b("cr:10880").useHook;function a(a){var c=a.children,d=a.thread,e=a.fetchMore,f=a.markThreadAsRead,g=a.lastMessageToCalculateIfThreadIsRead,i=a.scrollerRefs,m=a.hasMoreBefore,n=a.hasMoreAfter;a=a.onScroll;a=a!==void 0?a:function(a){};var o=i.scrollPositionRef,p=j(d,g,f);b("bs_curry")._1(l,d);k(o,p);return h.jsx(b("MWChatConversationScroller.bs").make,{children:c,scrollPositionRef:o,dispatch:function(a){switch(a){case 0:if(m)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before);else return;case 1:if(n)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").after);else return b("bs_curry")._1(p,void 0);case 2:return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before)}},hasMoreAfter:n,onScroll:a,ref:i.scrollerRef})}c=a;f.$MAWThreadEvent$OR$null$requireCond=b("cr:10880");f.make=c}),null);
__d("MWChatBusinessQuickReply.bs",["CometImage.react","TetraTextPairing.react","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTop:"pmh9v2dz",borderEnd:"do122s91",borderBottom:"gvgeiihk",borderStart:"fntpfh0s",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",cursor:"nhd2j8a9",fontFamily:"ihxqhq3m",fontWeight:"ekzkrbhg",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingBottom:"osnr6wyh",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",paddingTop:"jktsbyx5",textAlign:"hzawbc8m",wordBreak:"qv66sw1b"},image:{borderTopStartRadius:"ocebsr1h",borderTopEndRadius:"cur7e4n5",borderBottomEndRadius:"nr3idzxk",borderBottomStartRadius:"gsapk3bl","float":"bzsjyuwj",height:"mihw7u13",marginTop:"irj2b8pg",marginEnd:"qq4y78aw",marginBottom:"ew0dbk1b",marginStart:"lq239pai",width:"rgehdy3i"},vertical:{paddingBottom:"f10w8fjw",paddingEnd:"d1544ag0",paddingStart:"c088b7cy"}};function a(a){var c=a.bodyLineLimit,d=a.quickReplyVertical,e=a.onClick,f=a.text;a=a.imageUrl;c=c!==void 0?c:1;d=d!==void 0?d:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;return i.jsx("div",{className:(h||(h=b("stylex")))(d?j.vertical:!1),children:i.jsxs("button",{className:h(j.root),onClick:function(a){return b("bs_curry")._1(e,void 0)},children:[a!==void 0?i.jsx(b("CometImage.react"),{src:a,xstyle:[j.image]}):null,i.jsx(b("TetraTextPairing.react"),{body:f,level:3,bodyLineLimit:c})]})})}c=32;d=a;f.mediumHeight=c;f.styles=j;f.make=d}),null);
__d("MWChatBusinessQuickReplyText.bs",["MWChatBusinessQuickReply.bs","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply;a=a.quickReplyVertical;var e=a?3:1,f=function(a){return b("bs_curry")._1(c,d)},g=d.image_url;return h.jsx(b("MWChatBusinessQuickReply.bs").make,{bodyLineLimit:e,quickReplyVertical:a,onClick:f,text:d.title,imageUrl:g!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(g)):void 0})}c=a;f.make=c}),null);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c&&d&&a&&b(j(c,d,a,i))}});c("promiseDone")(e)}};var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["MWChatBusinessQuickReply.bs","MWChatUserBirthdayQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.bs",["MWChatBusinessQuickReply.bs","MWChatUserEmailQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserEmailQuery").useUserEmailDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.bs",["MWChatBusinessQuickReply.bs","MWChatUserPhoneNumberQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer.user.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}};e=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.address;a=a==null?void 0:a.postal_code;a&&b(a)});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyList.bs",["CometScrollableArea.react","CurrentUser","LSQuickReplyType.bs","MWChatBusinessQuickReplyText.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserPhoneNumber.bs","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MWTheme.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_caml","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={mask:{backgroundColor:"nred35xi"},container:{position:"l9j0dhe7",width:"k4urcfbm"},pillContainer:{backgroundColor:"nred35xi",display:"j83agx80",flexDirection:"btwxx1t3",flexWrap:"owycx6da",paddingTop:"jwdofwj8",paddingEnd:"dflh9lhu",paddingBottom:"osnr6wyh",paddingStart:"scb9dxdr"},pillContainerVertical:{backgroundColor:"nred35xi",display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"aovydwv3",paddingTop:"l60d2q6s"}};function a(a){var c=a.arrayQR,d=a.onSend,e=a.id;a=a.quickReplyType;a=a!==void 0?a:b("LSQuickReplyType.bs").none;var f=b("MWTheme.bs").useTheme(void 0),g=b("bs_caml").i64_eq(a,b("LSQuickReplyType.bs").vertical);i.useEffect(function(){b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").RENDER_QUICK_REPLIES,other_user_fbid:e}})},[e]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.container,b("MWTheme.bs").isGradient(f)?j.mask:!1),children:i.jsx(b("CometScrollableArea.react"),{horizontal:!0,children:i.jsx("div",{className:h(g?j.pillContainerVertical:j.pillContainer),children:c.map(function(a,c){var e=b("CurrentUser").getID(),f=a.content_type;switch(f){case"text":return i.jsx(b("MWChatBusinessQuickReplyText.bs").make,{onSend:d,quickReply:a,quickReplyVertical:g},String(c));case"user_birthday":return i.jsx(b("MWChatBusinessQuickReplyUserBirthday.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_email":return i.jsx(b("MWChatBusinessQuickReplyUserEmail.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_phone_number":return i.jsx(b("MWChatBusinessQuickReplyUserPhoneNumber.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_state":return i.jsx(b("MWChatBusinessQuickReplyUserState.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));case"user_zip_code":return i.jsx(b("MWChatBusinessQuickReplyUserZipCode.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:g},String(c));default:return null}})})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2QuickReplies.bs",["FBID.bs","LS.bs","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWChatBusinessQuickReplyList.bs","MWLSActor.bs","MWLSThreadDisplayContext.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml_option","bs_int64","bs_js_null_undefined","promiseDone","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);if(a===1)return"inboxInThread";else return"chatInThread"}function j(a){var c=a.lastMessageId,d=a.threadKey;a=a.quickReplyType;var e=i(void 0),f=b("ReStore.bs").useHook(void 0),g=b("MWLSActor.bs").useActor(void 0),j=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"quick_reply_ctas").asc,{hd:d,tl:{hd:c,tl:0}}),function(a){var c=a.g;c=c==="quick_reply_text"?"text":c==="quick_reply_phone"?"user_phone_number":c==="quick_reply_email"?"user_email":(b("recoverableViolation")("Unexpected quick-reply type","messenger_web_produce"),"");return{content_type:c,data:void 0,image_url:b("bs_caml_option").some(b("bs_js_null_undefined").fromOption(a.f)),payload:b("bs_caml_option").some(a.h),title:a.e}}),function(a){return a.content_type!==""})},[f,c,d]));if(j.length>0)return h.jsx(b("MWChatBusinessQuickReplyList.bs").make,{arrayQR:j,onSend:function(a){var c=b("LSThreadAttributionStore.bs").getSource(e,b("bs_int64").to_string(d)),h=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(c);c=b("LSTransaction.bs").run(f,function(c){var e=a.payload;if(e!==void 0){e=b("bs_caml_option").valFromOption(e);var f=e==null?void 0:b("bs_caml_option").some(e);e=e==null?void 0:f}else e=void 0;return b("LSMailboxOptimisticSendMessageStoredProcedure")(g,d,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,a.title,void 0,!1,void 0,void 0,void 0,void 0,h,void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,!0,!0,void 0,void 0,void 0,b("LS.bs").make(c)).then(function(a){return b("Promise").resolve(a)})},"readWrite");b("promiseDone")(c,void 0,void 0)},id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(g)),quickReplyType:a});else return null}c={make:j};function a(a){var b=a.threadKey;a=a.message;if(a==null)return null;else return h.jsx(j,{lastMessageId:a.e,threadKey:b,quickReplyType:a.T})}d=a;f.useLsSource=i;f.Impl=c;f.make=d}),null);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743837");c=b("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e.exports=c}),null);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743846");c=b("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e.exports=c}),null);
__d("MercuryTypeaheadConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:8,COMPOSER_GUEST_MAX:6,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_NON_FRIENDS_EXTRA_FETCH:3,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:5,COMPOSER_USERS_MAX:13,COMPOSER_WM_MAX:23,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",SEARCH_TYPE:"search",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",GUEST_USER_TYPE:"guest",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game",MESSAGE_TYPE:"message",WORKPLACE_BOT_CATEGORY_TYPE:"WORKPLACE_BOT",VALID_EMAIL:"^([A-Z0-9._%+-]+@((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._%+-]+[A-Z0-9._%+-]*)|([A-Z0-9._%+-]+[A-Z._%+-]+[A-Z0-9._%+-]*))@(?:facebook\\.com))$"});f["default"]=a}),66);
__d("MWInboxURIState.bs",["CurrentEnvironment","MercuryFilters.bs","MercuryIDs","MercuryTypeaheadConstants","MessengerURIConstants","URI","bs_belt_Option","bs_caml_array","bs_caml_exceptions","bs_caml_format","bs_caml_option","bs_curry","bs_js_json","bs_js_null_undefined","cr:9871","cr:9873","gkx","qex","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";var g;d={};var h=b("bs_caml_exceptions").create("MWInboxURIState.NonMessengerState"),i="/?$";function j(a){a=a.match(new RegExp(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));return b("bs_belt_Option").map(a===null?void 0:b("bs_caml_option").some(a),function(a){return decodeURIComponent(b("bs_caml_array").get(a,1))})}function k(a){a=a.match(new RegExp(b("MessengerURIConstants").FOLDERS_PATH+("/([^/]+)"+(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"))));return b("bs_belt_Option").map(a===null?void 0:b("bs_caml_option").some(a),function(a){return decodeURIComponent(b("bs_caml_array").get(a,1))})}var l=b("qex")._("1097094")===!0,m=b("CurrentEnvironment").facebookdotcom?b("MessengerURIConstants").FACEBOOK_PREFIX:"";function n(a){a=new(g||(g=b("URI")))(a.url);var c=a.getPath();a=a.getQueryData();var d=b("gkx")("1300945"),e=new RegExp("^"+(m+"(/|$)")),f=b("bs_belt_Option").isSome(a.story_id);if(b("CurrentEnvironment").facebookdotcom&&!(e.test(c)||d&&c==="/"&&!f))throw{RE_EXN_ID:h,Error:new Error()};d=c.replace(e,"/");f=a.filter;c=a.fbid;e=a.qa;var n=a.sa,o=a.t,p=a.threadIDs;a=a.id;try{p=b("bs_belt_Option").map(p,function(a){return JSON.parse(a)});p!==void 0&&b("bs_belt_Option").map(b("bs_js_json").decodeArray(b("bs_caml_option").valFromOption(p)),function(a){return a.reduce(function(a,c){c=b("bs_js_json").decodeString(c);if(b("MercuryIDs").isValidThreadID(b("bs_js_null_undefined").fromOption(b("bs_belt_Option").map(c,function(a){return a}))))return a.concat([c]);else return a},[])})}catch(a){}if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").PEOPLE_PATH)))))p=1;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").PAYMENT_PATH)))))p=2;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").SEARCH_PATH)))))if(l)if(e!==void 0)p=4;else if(n!==void 0&&o!==void 0){e=b("bs_caml_option").valFromOption(o);p=e===b("MercuryTypeaheadConstants").FRIEND_TYPE||e===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?5:e===b("MercuryTypeaheadConstants").PAGE_TYPE?6:e===b("MercuryTypeaheadConstants").THREAD_TYPE?7:3}else p=3;else p=3;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_GROUP_VIEW)))))p=7;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_CHAT_VIEW)))))p=5;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_UNREAD_VIEW)))))p=8;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW)))))p=9;else if(d==="/read/")p={_0:c!==void 0?{TAG:0,_0:b("bs_caml_format").caml_int64_of_string(c)}:void 0};else{if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+(b("MessengerURIConstants").COMPOSE_SUBPATH+i))))))n=[0,void 0,void 0];else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+(b("MessengerURIConstants").PAYMENT_PATH+b("MessengerURIConstants").PAYMENT_PAY_PATH))))))n=a!==void 0?[1,a,void 0]:[2,void 0,void 0];else{o=j(d);try{e=b("bs_belt_Option").map(o,b("bs_caml_format").caml_int64_of_string)}catch(a){e=void 0}c=e!==void 0?[{TAG:0,_0:e},o]:[void 0,void 0];a=k(d);n=[c[0],c[1],a]}p={_0:n[0]}}b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").FILTERED_REQUESTS_PATH))))||(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").ARCHIVED_PATH))))||(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").MESSAGE_REQUESTS_PATH))))||b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").FOLDERS_PATH))))));b("bs_belt_Option").mapWithDefault(f,!1,b("MercuryFilters.bs").isSupportedFilter)&&b("bs_belt_Option").getExn(f);return p}var o=b("cr:9871")==null?void 0:b("bs_caml_option").some(b("cr:9871"));function p(a){if(b("cr:9873")==null)return!1;else return b("bs_curry")._1(b("cr:9873").isThreadId,a)}function a(a){return new(g||(g=b("URI")))(a.substring(m.length)).getPath().split("/")}function c(a){a=a==null?void 0:b("bs_caml_option").some(a);var c=b("useCurrentRoute")(),d=new(g||(g=b("URI")))(c.url);d=d.getPath();if(!d.startsWith(m))throw{RE_EXN_ID:h,Error:new Error()};d=c.url.substring(m.length);try{a=b("bs_belt_Option").map(a,b("bs_caml_format").caml_int64_of_string)}catch(b){a=void 0}var e;if(b("cr:9871")==null)e=void 0;else{var f=b("bs_curry")._1(o.getMostRecentSecureThreadKey,void 0);e=f!==void 0?f:void 0}f=new g(d).getPath().split("/");var i;if(a!==void 0)if(p(a))return n(c);else return{_0:{TAG:0,_0:a}};d=f.length;if(d>=4)return n(c);switch(d){case 0:return n(c);case 1:a=f[0];if(a!=="")return n(c);if(e===void 0)return n(c);i=e;break;case 2:d=f[0];a=f[1];switch(a){case"":if(e===void 0)return n(c);i=e;break;case"new":return{_0:0};default:if(d!=="")return n(c);a=f[1];if(a!=="t")return n(c);if(e===void 0)return n(c);i=e}break;case 3:d=f[1];if(d!=="t")return n(c);a=f[2];if(a==="")return n(c);try{e=b("bs_caml_format").caml_int64_of_string(a)}catch(a){e=void 0}if(e!==void 0&&!p(e))return{_0:{TAG:0,_0:e}};else return 0}return{_0:{TAG:1,_0:b("bs_caml_format").caml_int64_of_string(i)}}}f.MessagingTag=d;f.NonMessengerState=h;f._getFolderID=k;f.isSearchRefactor=l;f.prefix=m;f.parseURI_DEPRECATED=n;f.$MAWSessionStorage$requireCond=b("cr:9871");f.$MAWThreadId$requireCond=b("cr:9873");f.getRouteTokens=a;f.useState=c}),null);
__d("MWInboxProvider.bs",["MWInboxURIState.bs","bs_js_null_undefined","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({});function a(a){var c=a.children,d=a.threadKey;a=a.refParam;d=b("bs_js_null_undefined").fromOption(d);d=b("MWInboxURIState.bs").useState(d);a={refParam:a,inboxState:d};return h.createElement(i.Provider,{value:a,children:c})}c=a;f.context=i;f.make=c}),null);
__d("MessageSendClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1891340");c=b("FalcoLoggerInternal").create("message_send_click",a);e.exports=c}),null);
__d("useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=a.dataSource;a=i(!1);var c=a[0],d=a[1];a=h(function(a){a=a.requestParams;b.fetchNetwork(a,d)},[b]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useCometTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:1846070","debounce","react","recoverableViolation","useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload,m=j(c("debounce")(function(a){return a()}));f=c("useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var n=f[1],o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g);i(function(){function a(a){var b=a.requestParams;a=b.requestFlow;a!=null&&(p.current=a);var c=function(){return n({requestParams:babelHelpers["extends"]({},b,{requestFlow:p.current})})};Boolean(k)?m.current(function(){return c()}):c()}d!=null&&a(d);var b=m.current;return function(){b.reset()}},[d,n,k,o]);i(function(){var a=e.subscribe(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:1846070")&&b("cr:1846070")(["all"],a)});return a},[e,o]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useCometTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useCometTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=j(null),d=b[0],e=b[1];b=c("useCometTypeaheadSubscriptionDataSourceFetchResolver")(a,d);b=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]),g=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]),k=a.dataSource;i(function(){return function(){k.unsubscribe()}},[k]);return[{isLoading:b,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,g]}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadFetchContext","orEmptyArray","react","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadSubscriptionDataSourceFetch","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,k=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useCometTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){a=a.entries;var d=b.isTraceComplete;b=b.source;l(c("orEmptyArray")(a));m.logRequest(o);g&&g(a);k&&!k.isResolved()&&(d&&(b==="cache"&&a.length>=k.getEntriesCountForVisualComplete()?k.setEndReason("max_suggestions_reached"):b==="network"?k.setEndReason("all_queries_completed"):b==="network-no-results"&&k.setEndReason("all_queries_completed_no_network_results"),k.resolve()))},[l,g,k])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=j(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometInternalTypeaheadOnBlurLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onBlur,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){b!=null&&b.isSessionActive()&&(b.addEvent({action:"abandon",entries:f,queryString:e},"useCometInternalTypeaheadOnBlurLoggingHandler"),b.endSession()),d&&d()},[f,b,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternal.react",["emptyFunction","react","useCometInternalTypeaheadFetchHandler","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnBlurLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var d=a.layoutStrategyRenderer,e=a.loggingProvider,f=a.onBlur,g=a.onChange,j=a.onEnter,k=a.onFocus,l=a.onPressEntry,m=a.onSearchCompletion,n=a.onSelectFreeformQuery,o=a.onShiftTab,p=a.onTab,q=a.queryString,r=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["layoutStrategyRenderer","loggingProvider","onBlur","onChange","onEnter","onFocus","onPressEntry","onSearchCompletion","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]);b=c("useCometTypeaheadInputRefs")(b);var s=b.composedRef,t=b.inputRef;b=c("useCometInternalTypeaheadState")();var u=b.highlightedEntry,v=b.highlightedEntrySource;b=c("useCometInternalTypeaheadStateDispatcher")();var w=b.dispatchHighlightedEntry,x=b.dispatchIsOpened;c("useCometInternalTypeaheadFetchHandler")({loggingProvider:e,queryString:q,traceProvider:r});b=c("useCometInternalTypeaheadOnBlurLoggingHandler")({loggingProvider:e,onBlur:f,queryString:q});r=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:e,onFocus:k,queryString:q});f=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:e,onEnter:i(function(){if(u!=null&&v==="keyboard")t.current&&t.current.focus(),l&&l(u);else{var a;a=(a=t.current)==null?void 0:a.value;if(a==="")m&&m();else{n&&n((a=a)!=null?a:"")}}w({entry:null,source:null});g("");j&&j()},[u,v,w,g,j,t,l,m,n]),queryString:q});k=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:e,onPressEntry:l,queryString:q});var y=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){x(!1),o&&o()},[x,o]),loggingProvider:e,queryString:q}),z=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){x(!1),p&&p()},[x,p]),loggingProvider:e,queryString:q}),A=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});e=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});return h.jsx(d,babelHelpers["extends"]({},a,{onAbandonTypeahead_DO_NOT_USE:e,onBlur:b,onChange:g,onClick:c("emptyFunction"),onEnter:f,onFocus:r,onOutsideClick:A,onPressEntry:k,onShiftTab:y,onTab:z,queryString:q,ref:s}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","CometTokenizerInternal.react","emptyFunction","react","useCometUniqueID","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a,b){var d=a.autoFocus;d=d===void 0?!1:d;var e=a.dataSource,f=a.dataSourceFetchConfigParams,g=a.decorators,j=g===void 0?[]:g;g=a.emptyEntries_DO_NOT_USE;var k=a.id,l=a.isDisabled;l=l===void 0?!1:l;var m=a.label;m=m===void 0?"":m;var n=a.loggingContext,o=a.onAddToken;o=o===void 0?c("emptyFunction"):o;var p=a.onBlur;p=p===void 0?c("emptyFunction"):p;var q=a.onChangeTokens,r=a.onClose,s=a.onEscape;s=s===void 0?c("emptyFunction"):s;var t=a.onFocus;t=t===void 0?c("emptyFunction"):t;var u=a.onOpen,v=a.onRemoveToken;v=v===void 0?c("emptyFunction"):v;var w=a.onSearchCompletion;w=w===void 0?c("emptyFunction"):w;var x=a.placeholder;x=x===void 0?"":x;var y=a.testid;y=y===void 0?"":y;y=a.tokensStrategyRenderer;var z=a.tokens,A=a.viewRole;A=A===void 0?"listbox":A;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]);var B=c("useCometUniqueID")(),C=c("useStable")(function(){var a=c("CometTokenizerInternal.react");j.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});m=m||x;return h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:g,onClose:r,onOpen:u,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:e,dataSourceFetchConfigParams:f,loggingContext:n,children:h.jsx(C,babelHelpers["extends"]({},a,{autoFocus:d,commandConfigs:i,id:(g=k)!=null?g:B,isDisabled:l,label:m,onBackspace:c("emptyFunction"),onBlur:p,onChangeEntries:q,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:s,onFocus:t,onHighlightEntry:c("emptyFunction"),onPressEntry:o,onRemoveEntry:v,onSearchCompletion:w,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:x,ref:b,selectedEntries:z,testid:void 0,tokensStrategyRenderer:y,viewRole:A}))})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometTokenizerInputWidthResolver.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useRef,k=b.useState;function a(a){var b=a.children,c=a.placeholder;c=c===void 0?"":c;a=a.queryString;var d=k(0),e=d[0],f=d[1],g=j(null);d=a!==""?a:c;i(function(){g.current&&f(g.current.offsetWidth)},[d]);return h.jsxs(h.Fragment,{children:[h.jsx("span",{"aria-hidden":"true",className:"g0qnabr5 kr9hpln1 kr520xx4 j9ispegn pmk7jnqg r0usavy5 n5sx5to1 jagab5yi",ref:g,children:d}),b(e)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTokenizerInputStrategy.react",["BaseTextInput_DEPRECATED.react","CometTokenizerInputWidthResolver.react","cometTypeaheadInputWebkitStyles","react","stylex","useCometTypeaheadInputStrategyOnChangeHandler","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={disabled:{cursor:"rj84mg9z"},input:{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",boxSizing:"rq0escxv",color:"oo9gr5id",display:"nc684nl6",fontSize:"jagab5yi",fontWeight:"knj5qynh",lineHeight:"fo6rh5oj",marginTop:"aov4n071",marginEnd:"oi9244e8",marginBottom:"bi6gxh9e",marginStart:"h676nmdw",maxWidth:"d2edcug0",outline:"lzcic4wl",resize:"ieid39z1"},root:{cursor:"o6r2urh6",maxWidth:"d2edcug0",overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;var e=a.id,f=a.inputEndContent,g=a.inputStartContent,j=a.inputExtraProps;j=j===void 0?{}:j;var k=j.xstyle,l=a.isDisabled;a.label;j=a.onChange;var m=a.placeholder,n=a.queryString,o=a.testid,p=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","label","onChange","placeholder","queryString","testid"]),q=(o=e)!=null?o:c("useCometUniqueID")(),r=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:j});return h.jsxs("div",{className:c("stylex")(i.root,l===!0&&i.disabled),children:[g,h.jsx(c("CometTokenizerInputWidthResolver.react"),{placeholder:m,queryString:n,children:function(a){var e;return h.jsx(c("BaseTextInput_DEPRECATED.react"),babelHelpers["extends"]({},d,p,{autoComplete:"off",className:c("stylex")(i.input,k,c("cometTypeaheadInputWebkitStyles")["default"]),"data-testid":void 0,disabled:l,id:q,onChange:r,placeholder:(e=m)!=null?e:"",ref:b,spellCheck:!1,style:{width:a},type:"search",value:n}))}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={inputXStyle:{paddingBottom:"osnr6wyh"}};function a(a,b){var d=j(function(){return{xstyle:k.inputXStyle}},[]),e=c("useCometUniqueID")();return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{ariaProps:babelHelpers["extends"]({},a.ariaProps,{"aria-describedby":e}),inputExtraProps:d,ref:b})),i.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:e,text:h._("T\u00ecm ki\u1ebfm theo t\u00ean ho\u1eb7c nh\u00f3m")})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("CometTypeaheadSubscriptionDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.subscribe=function(a){return this.$2(a)};b.fetchNetwork=function(a,b){};b.publish=function(a){Array.from(this.$1).forEach(function(b){b(a)})};b.$2=function(a){var b=this;this.$1.add(a);return function(){b.$1["delete"](a)}};b.unsubscribe=function(){this.$1.clear()};return a}();f["default"]=a}),66);
__d("mwStaticSearchEntries",["fbt","MWChatSearchTypeaheadDataEntry"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("K\u1ebft qu\u1ea3 kh\u00e1c");function a(){return new(c("MWChatSearchTypeaheadDataEntry"))({displayName:"Expand Search for query",id:"expand_search",imageUrl:"",isContact:!1,resultType:"expand_search",secondaryImageUrl:"",section:i.toString(),subtext:""})}function b(a){return new(c("MWChatSearchTypeaheadDataEntry"))({displayName:'Search messages for "'+a+'"',id:a,imageUrl:"",isContact:!1,resultType:"messages",secondaryImageUrl:"",subtext:""})}g.createExpandSearchEntry=a;g.createMessageSearchEntry=b}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["CometTypeaheadSubscriptionDataSource","FBLogger","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadDataEntry","cr:10864","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadDecoratorRemoveExcluded","mwStaticSearchEntries","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var d,e=b.database,f=b.excludedIDs;f=f===void 0?[]:f;var g=b.lightspeedSupportedTypes;g=g===void 0?c("MWChatSearchIssueLightspeedQuery.re").allSupportedTypes:g;var h=b.source;h=h===void 0?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal:h;var i=b.includeRecommendations;i=i===void 0?!0:i;b=b.includeThreadSearch;b=b===void 0?!1:b;d=a.call(this)||this;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=function(){};d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=f;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3=g;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4=h;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5=e;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7=i;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8=b;return d}var f=e.prototype;f.unsubscribe=function(){a.prototype.unsubscribe.call(this),this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6()};f.fetchNetwork=function(a,d){var e=this,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6();if(!(a.query.length===0&&!this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7)){g.next=3;break}return g.abrupt("return",this.publish({entries:[],params:a}));case 3:d(!0);if(!(a.query.length===0)){g.next=7;break}this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=c("MWChatSearchIssueLightspeedQuery.re").requestRecommendations(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){e.onData(a,b),d(!1)});return g.abrupt("return");case 7:f=[];if(!b("cr:10864")){g.next=19;break}g.prev=9;g.next=12;return b("regeneratorRuntime").awrap(b("cr:10864").fetchResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a));case 12:f=g.sent;g.next=18;break;case 15:g.prev=15,g.t0=g["catch"](9),c("FBLogger")("messenger_search").catching(g.t0).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults");case 18:this.onData(a,f);case 19:this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=c("MWChatSearchIssueLightspeedQuery.re").requestResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){e.onData(a,f.concat(b)),d(!1)});case 20:case"end":return g.stop()}},null,this,[[9,15]])};f.onData=function(a,b){b=b.map(c("MWChatSearchTypeaheadDataEntry").fromSearchResult);b=[].concat(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8&&a.query.length?[d("mwStaticSearchEntries").createMessageSearchEntry(a.query)]:[],b);var e=[],f=new Set();for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=b.length)break;i=b[h++]}else{h=b.next();if(h.done)break;i=h.value}i=i;f.has(i.getKey())||(e.push(i),f.add(i.getKey()))}i={entries:e,params:a};h=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1);g=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2);this.publish(g(h(i)))};f.setTokens=function(a){this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=a};return e}(c("CometTypeaheadSubscriptionDataSource"));g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.ariaProps,d=a.entries,e=a.extraViewProps,f=a.highlightedEntry,g=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]),k=e==null?void 0:e.getIsViewItemDisabled,l=i(function(a){return k?k(a):!1},[k]);return h.jsxs(h.Fragment,{children:[g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:f,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:b,isActive:d,isDisabled:l(b),key:b.getKey(),role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBaseTokenizerDecorators",["useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.escapeDecorator,d=a.limitDecorator,e=a.refetchDecorator,f=a.tokenManagementDecorator;return c("useStable")(function(){return[d,b,f,e].filter(Boolean)})}g["default"]=a}),98);
__d("CometTokenizerTokenListStrategy.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isDisabled,c=a.onPress,d=a.tokens,e=a.tokenStrategyRenderer;return h.jsx(h.Fragment,{children:d.map(function(a,d){return h.jsx("div",{className:"kkf49tns tvmbv18p cgat1ltu aahdfvyu q9uorilb",children:h.jsx(e,{isDisabled:b,onPress:c,token:a})},d)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerListTokenStrategy",["CometTokenizerTokenListStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.tokenItemRenderer;a=a.tokenListRenderer;var d=a===void 0?c("CometTokenizerTokenListStrategy.react"):a;return i(function(a){a=babelHelpers["extends"]({},a);return h.jsx(d,babelHelpers["extends"]({tokenStrategyRenderer:b},a))},[b])}g["default"]=a}),98);
__d("withMWChatEscapeDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var c=b.onSearchAbandon;return h.forwardRef(function(b,d){var e=b.onChange,f=b.onEscape,g=b.queryString,j=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChange","onEscape","queryString","selectedEntries"]);var k=i(function(){g!==""?e(""):j.length===0&&(c&&c()),f&&f()},[g,j.length,f,e]);return h.jsx(a,babelHelpers["extends"]({},b,{onChange:e,onEscape:k,queryString:g,ref:d,selectedEntries:j}))})}g["default"]=a}),98);
__d("withMWChatSearchTokenManagementDecorator",["MWChatSearchResultType","orEmptyArray","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;function a(a,b){var d=b.dataSource;return h.forwardRef(function(b,e){var f=b.onChangeEntries,g=b.onPressEntry,k=b.onRemoveEntry,l=b.onSearchCompletion,m=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChangeEntries","onPressEntry","onRemoveEntry","onSearchCompletion","selectedEntries"]);j(function(){return d.setTokens(m)},[]);var n=i(function(a){var b=a.getRawData();b=b.resultType;if(b===c("MWChatSearchResultType").USER){b=[].concat(m,[a]);d.setTokens(b);f(b)}g&&g(a)},[f,g,m]),o=i(function(a){var b=c("orEmptyArray")(m).filter(function(b){return b.getKey()!==a.getKey()});f(b);d!=null&&d.setTokens(b);k&&k(a)},[f,k,m]),p=i(function(){d.setTokens([]),l&&l()},[l]);return h.jsx(a,babelHelpers["extends"]({},b,{onChangeEntries:f,onPressEntry:n,onRemoveEntry:o,onSearchCompletion:p,ref:e,selectedEntries:m}))})}g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MAWGating.re","MWChatSearchInputStrategy.react","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","ReStore.re","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useStable","withMWChatEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;function a(a){var b=a.excludedIDs,e=a.getIsViewItemDisabled,f=a.includeRecommendations,g=f===void 0?!0:f;f=a.isDisabled;var m=a.layoutStategyRenderer,n=a.onAddToken,o=a.onChangeTokens,p=a.onSearchAbandon,q=a.onSearchCompletion,r=a.tokenItemRenderer,s=a.tokens;a=a.xstyles;var t=l(""),u=t[0];t=t[1];var v=d("ReStore.re").useHook(),w=c("useStable")(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:v,excludedIDs:b,includeRecommendations:g,lightspeedSupportedTypes:c("MWChatSearchIssueLightspeedQuery.re").allSupportedTypes,source:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal})});p=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withMWChatEscapeDecorator"),params:{onSearchAbandon:p}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:w}}});var x=k(null),y=x.current;i(function(){y&&y.focus()},[y,s]);i(function(){w.setTokens(s)},[w,s]);r=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:r});var z=j(function(){return{getIsViewItemDisabled:e}},[e]);return h.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:w,dataSourceFetchConfigParams:d("MAWGating.re").isArmadillo()?{requestFlow:"network-upon-approve"}:{},decorators:p,extraViewProps:z,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:f,layoutStrategyRenderer:m,loggingContext:"messenger_chat",onAddToken:n,onChange:t,onChangeTokens:o,onSearchCompletion:q,queryString:u,ref:x,testid:void 0,tokens:s,tokensStrategyRenderer:r,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.bs",["MWChatLightSpeedSearchTypeahead.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatLightSpeedSearchTypeahead.react");f.make=a}),null);
__d("CometTokenizerInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","KeyCommandHandler.react","react","useCometInternalTypeaheadState","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l={root:{width:"k4urcfbm"}};function a(a,b){var d=a.children,e=a.commandConfigs,f=a.isInline,g=a.onBackspace,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onShiftTab,q=a.onTab,r=a.onUpArrow;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commandConfigs","isInline","onBackspace","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow"]);var s=c("useCometInternalTypeaheadState")(),t=s.isOpened;s=k(function(){return[].concat(e,[{command:{key:c("CometKeys").DELETE},description:h._("G\u1ee1 m\u00e3 tr\u01b0\u1edbc \u0111\u00f3"),handler:function(){return g&&g()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").DOWN},description:h._("G\u1ee3i \u00fd ti\u1ebfp theo"),handler:function(){return m&&m()},triggerFromInputs:!0},{command:{key:c("CometKeys").UP},description:h._("G\u1ee3i \u00fd tr\u01b0\u1edbc \u0111\u00f3"),handler:function(){return r&&r()},triggerFromInputs:!0}],t?[{command:{key:c("CometKeys").ESCAPE},description:h._("\u0110\u00f3ng g\u1ee3i \u00fd"),handler:function(){return o&&o()},triggerFromInputs:!0}]:[],[{command:{key:c("CometKeys").ENTER},description:h._("Ch\u1ecdn g\u1ee3i \u00fd"),handler:function(){return n&&n()},triggerFromInputs:!0},{command:{key:c("CometKeys").TAB},description:h._("\u0110\u1ec3 l\u1ea1i n\u1ed9i dung nh\u1eadp"),handler:function(){return q&&q()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").TAB,shift:!0},description:h._("\u0110\u1ec3 l\u1ea1i n\u1ed9i dung nh\u1eadp"),handler:function(){return p&&p()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}])},[e,t,g,m,n,o,p,q,r]);b=c("useCometTypeaheadInputRefs")(b);var u=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},a));a=j(function(a){a.key==="Tab"&&(!a.shiftKey?q&&q():p&&p())},[q,p]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,elementType:f===!0?"span":"div",xstyle:l.root,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:a,children:d(u,b)})})}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("findCometScrollableLayoutActiveNode",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==null)return null;if(a.tagName==="LI")return a.getAttribute("aria-selected")==="true"?a:null;return a.children==null?null:Array.from(a.children).reduce(function(a,b){return(a=a)!=null?a:g(b)},null)}f["default"]=g}),66);
__d("useCometTypeaheadKeyboardForScrollableArea",["findCometScrollableLayoutActiveNode","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b=i(null);h(function(){var a;(a=c("findCometScrollableLayoutActiveNode")((a=b.current)==null?void 0:a.getDOMNode()))==null?void 0:a.scrollIntoView({behavior:"smooth",block:"nearest"})},[a]);return b}g["default"]=a}),98);
__d("MWChatTabTokenizerInternalLayoutInlineStrategy.react",["CometScrollableArea.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadKeyboardForScrollableArea","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"cwj9ozl2",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr"},viewHidden:{pointerEvents:"hzruof5a",visibility:"kr9hpln1"}};function a(a,b){var d=a.commandConfigs,e=a.extraLayoutProps,f=e.afterViewContent,g=e.ariaProps,j=g.ariaDescribedByProps,k=g.ariaInputProps,l=g.ariaViewProps;g=e.beforeViewContent;var m=e.helperTextComponent,n=e.isLoading;e=e.isOpened;var o=a.description,p=a.errorMessage,q=a.inputStrategyRenderer,r=a.isDisabled,s=a.label,t=a.onBackspace,u=a.onBlur,v=a.onChange,w=a.onDownArrow,x=a.onEnter,y=a.onEscape,z=a.onFocus,A=a.onShiftTab,B=a.onTab,C=a.onUpArrow,D=a.queryString,E=a.selectedEntries,F=a.tokensStrategyRenderer,G=a.viewStrategyRenderer,H=a.xstyles;H=H===void 0?{}:H;var I=a.extraViewProps,J=babelHelpers.objectWithoutPropertiesLoose(a,["commandConfigs","extraLayoutProps","description","errorMessage","inputStrategyRenderer","isDisabled","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","selectedEntries","tokensStrategyRenderer","viewStrategyRenderer","xstyles","extraViewProps"]);a=c("useCometInternalTypeaheadState")();var K=a.activeEntries,L=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:e,xstyles:H});H=a.inputXStyle;var M=a.layoutXStyle,N=a.viewXStyle_DO_NOT_USE,O=c("useCometTypeaheadKeyboardForScrollableArea")(L),P=c("cometHandleHighlightDropOnMouseLeave")(J.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(M),children:[h.jsx("div",{className:c("stylex")(H),onClick:J.onClick,role:"presentation",children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:d,onBackspace:t,onBlur:u,onChange:v,onClick:c("emptyFunction"),onDownArrow:w,onEnter:x,onEscape:y,onFocus:z,onShiftTab:A,onTab:B,onUpArrow:C,ref:b,children:function(a,b){return h.jsx(q,babelHelpers["extends"]({description:o},b,{ariaProps:k,autoFocus:J.autoFocus,errorMessage:p,id:J.id,inputEndContent:J.inputEndContent,inputExtraProps:J.inputExtraProps,inputStartContent:h.jsx(F,{isDisabled:r,onPress:J.onRemoveEntry,tokens:E}),isDisabled:r,label:s,placeholder:E.length>0?null:J.placeholder,queryString:D,ref:a,testid:void 0}))}})}),m!=null&&h.jsx("div",babelHelpers["extends"]({},j,{children:m})),g,e&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:J.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")([i.view,N,K.length===0&&!n&&i.viewHidden]),onMouseLeave:P,ref:a,children:h.jsx(c("CometScrollableArea.react"),{horizontal:!1,ref:O,children:h.jsx(G,{ariaProps:l,entries:K,extraViewProps:I,highlightedEntry:L,isLoading:n,onHighlightEntry:J.onHighlightEntry,onPressEntry:J.onPressEntry,queryString:D})})})}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("useCometTokenizerLayoutStrategyOnBackspaceHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onBackspace,d=a.onRemoveEntry,e=a.selectedEntries;return h(function(){var a=b.current;if(a!=null&&a.selectionStart===0&&a.selectionEnd===0){a=e.length-1;a>=0&&d(e[a])}c&&c()},[b,c,e,d])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnEnterHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onEnter;return h(function(){b&&b()},[b])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnPressEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onChange,e=a.onPressEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry,g=b.current;return h(function(a,b){g!=null&&(g.value="",g.focus()),f({entry:null,source:null}),d(""),e&&e(a,b)},[g,f,d,e])}g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutInlineStrategyHandlers",["react","useCometTokenizerLayoutStrategyOnBackspaceHandler","useCometTokenizerLayoutStrategyOnEnterHandler","useCometTokenizerLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onBackspace,e=a.onBlur,f=a.onChange,g=a.onDownArrow,i=a.onEnter,j=a.onEscape,k=a.onHighlightEntry,l=a.onOutsideClick,m=a.onPressEntry,n=a.onRemoveEntry,o=a.onUpArrow;a=a.selectedEntries;k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:k});d=c("useCometTokenizerLayoutStrategyOnBackspaceHandler")({inputRef:b,onBackspace:d,onRemoveEntry:n,selectedEntries:a});a=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:e});var p=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:f,onHighlightEntry:k});e=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:g,onHighlightEntry:k});g=c("useCometTokenizerLayoutStrategyOnEnterHandler")({onEnter:i});i=h(function(){p(""),j&&j()},[p,j]);f=c("useCometTokenizerLayoutStrategyOnPressEntryHandler")({inputRef:b,onChange:f,onPressEntry:m});m=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:b,onOutsideClick:l});b=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:k,onUpArrow:o});return{onBackspace:d,onBlur:a,onChange:p,onDownArrow:e,onEnter:g,onEscape:i,onHighlightEntry:k,onOutsideClick:m,onPressEntry:f,onRemoveEntry:n,onUpArrow:b}}g["default"]=a}),98);
__d("MWChatTabTokenizerBaseLayoutInlineStrategy.react",["CometTypeaheadHelperText.react","MWChatTabTokenizerInternalLayoutInlineStrategy.react","react","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a,b){var d=a.extraLayoutProps;d=d===void 0?{}:d;var e=d.afterViewContent;d=d.beforeViewContent;var f=a.helperText,g=a.label,j=a.onBackspace,k=a.onBlur,l=a.onChange,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onRemoveEntry,t=a.onUpArrow,u=a.viewRole,v=a.selectedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onUpArrow","viewRole","selectedEntries"]);var w=c("useCometInternalTypeaheadFetch")();w=w.isLoading;var x=c("useCometInternalTypeaheadState")(),y=x.activeEntries;x=x.highlightedEntry;var z=c("useCometInternalTypeaheadStateDispatcher")(),A=z.dispatchIsOpened;i(function(){A(!0)},[A]);z=c("useCometTypeaheadInputRefs")(b);b=z.composedRef;z=z.inputRef;z=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({inputRef:z,onBackspace:j,onBlur:k,onChange:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onRemoveEntry:s,onUpArrow:t,selectedEntries:v});j=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:y,helperText:f,highlightedEntry:x,inputLabel:g,isOpened:!0,viewRole:u});return h.jsx(c("MWChatTabTokenizerInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,z,{extraLayoutProps:{afterViewContent:e,ariaProps:j,beforeViewContent:d,helperTextComponent:f!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,isLoading:w,isOpened:!0},label:g,ref:b,selectedEntries:v,viewRole:u}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatTabsTokenizerLayoutInlineStrategy.react",["fbt","MWChatTabTokenizerBaseLayoutInlineStrategy.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={layout:{position:"l9j0dhe7",width:"jbcpqwzg"},offsetView:{height:"btdsrvhy",maxHeight:"f7dnaohx","@media (min-height: 1280px)":{height:"pv6a5gh5"}},root:{display:"j83agx80"},to:{color:"oo9gr5id",fontSize:"jq4qci2q",fontWeight:"knj5qynh",lineHeight:"a3bd9o3v",marginStart:"dhix69tm",marginTop:"aov4n071",zIndex:"s90hwng2"},typeaheadInput:{backgroundColor:"nred35xi",boxSizing:"rq0escxv",display:"a8c37x1j",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},view:{backgroundColor:"nred35xi",borderTop:"opwvks06",height:"mbhqdu15",maxHeight:"oxtv4ib6",position:"pmk7jnqg",start:"feeahcbg",top:"i42f9fw1",width:"jbcpqwzg","@media (min-height: 1280px)":{height:"h4lgqe89"}}};function a(a){a===void 0&&(a=!1);function b(b,d){var e=b.xstyles;e=e===void 0?{}:e;var f=e.viewXStyle_DO_NOT_USE;e=babelHelpers.objectWithoutPropertiesLoose(b,["xstyles"]);b=j(function(){var b;return{inputXStyle:[k.typeaheadInput],layoutXStyle:[k.layout],viewXStyle_DO_NOT_USE:[k.view,f,(b=a)!=null?b:k.offsetView]}},[f]);return i.jsxs("div",{className:c("stylex")(k.root),children:[i.jsx("div",{"aria-hidden":"true",className:c("stylex")(k.to),children:h._("\u0110\u1ebfn:")}),i.jsx(c("MWChatTabTokenizerBaseLayoutInlineStrategy.react"),babelHelpers["extends"]({},e,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._("G\u1eedi tin nh\u1eafn \u0111\u1ebfn"),layerContext:"root",ref:d,xstyles:b}))]})}b.displayName=b.name+" [from "+f.id+"]";return i.forwardRef(b)}g.createMWChatTabsTokenizerLayoutInlineStrategy=a}),98);
__d("CometTokenizerTokenStrategy.react",["CometToken.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.addOn,d=a.addOnSecondary,e=a.isDisabled,f=a.level,g=a.onPress,j=a.token;a=i(function(a){a.preventDefault(),g(j)},[g,j]);return h.jsx(c("CometToken.react"),{addOn:b,addOnSecondary:d,disabled:e,level:f,onPress:a,text:j.getLabel(),type:"remove"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{"data-testid":void 0,children:h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:4}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSearchTypeaheadViewItemDisabledHook.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useMemo(function(){return[a.some(function(a){return a.getIsInstagramAccount()}),a.some(function(a){return a.getIsGroupsXacIneligible()})]},[a]),c=b[1],d=b[0];return h.useCallback(function(a){var b=a.getIsInstagramAccount(),e=a.getIsGroupsXacIneligible();a=a.getIsInteropIneligible();if(c&&b||d&&e)return!0;else return a},[d,c])}f.useIsDisabled=a}),null);
__d("MWV2CookieWriter.bs",["DeferredCookie","MessagingThreadType.bs","bs_caml","bs_int64","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").group))return"g.";else if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").secureMessageOverWaOneToOne))return"sc.";else if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").secureMessageOverWaGroup))return"sg.";else return"u."}function h(a,c){var d=function(a){if(c===void 0)return!1;var d=c.tabType;if(d.TAG===0)return!1;else return b("bs_caml").i64_eq(d._0.threadKey,a)},e=[];a.forEach(function(a){if(a===void 0)return;var c=a.a;if(!d(c)){e.push({i:g(a.c)+b("bs_int64").to_string(c)});return}});var f;if(c!==void 0){a=c.tabType;if(a.TAG===0)f=void 0;else{a=a._0;f=g(a.threadType)+b("bs_int64").to_string(a.threadKey)}}else f=void 0;a=JSON.stringify({t3:e,utc3:Date.now(),lm3:f,v:1});if(a!==void 0)return"C"+a}function a(a,c){a=h(a,c);a!==void 0?b("DeferredCookie").addToQueue("presence",a,0,"",!1,!1,!0):b("recoverableViolation")("Failed to serialize cookie","messenger_comet")}c=1;f.version=c;f.serializeToCookie=h;f.write=a}),null);
__d("UseMWV2CookieWriter.bs",["LSAuthorityLevel.bs","MWChatStateV2.bs","MWChatStateV2IsComposeTab.bs","MWChatStateV2IsOpen.bs","MWChatUIStateV2.bs","MWV2CookieWriter.bs","Promise","ReQL.bs","ReQLTable","ReStore.bs","bs_belt_Array","bs_caml","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWChatStateV2.bs").useState(function(a){return a.tabs}),d=b("ReStore.bs").useHook(void 0);h.useEffect(function(){var a=b("bs_belt_Array").get(Array.from(c.tabs.values()).filter(b("MWChatStateV2IsOpen.bs").isOpen).sort(function(a,c){return b("MWChatUIStateV2.bs").Comparators.byMostRecentOpened(a,c)}),0),e=function(c){c=c.tabType;if(a===void 0)return!1;var d=a.tabType;if(d.TAG===0||c.TAG===0)return!1;else return b("bs_caml").i64_eq(d._0.threadKey,c._0.threadKey)},f=Array.from(c.tabs.values()).filter(function(a){return!b("MWChatStateV2IsComposeTab.bs").isComposeTab(a)}).filter(function(a){if(a.openWatermark>a.closeWatermark)return!0;else return a.minimiseWatermark>a.closeWatermark}).filter(function(a){return!e(a)}).sort(function(a,c){var d=b("MWChatUIStateV2.bs").Comparators.byMostRecentMinimised(a,c);if(d===0)return b("MWChatUIStateV2.bs").Comparators.byMostRecentOpened(a,c);else return d}),g=[];f.forEach(function(a){a=a.tabType;if(a.TAG===0)return;g.push(a._0.threadKey)});b("promiseDone")(b("Promise").all(g.map(function(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").asc,{hd:a,tl:0}))})).then(function(c){c=c.filter(function(a){if(a!==void 0)return b("bs_caml").i64_eq(a.Z,b("LSAuthorityLevel.bs").authoritative);else return!1});b("MWV2CookieWriter.bs").write(c,a);return b("Promise").resolve(void 0)}),void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("MWV2Chat.react",["CometErrorBoundary.react","LSPlatformClientProvider.re","LSPlatformConfig.re","LSPlatformMessengerConfig.re","MWV2ChatTabsRoot.re","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return"Error"},children:h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.re").configEagerlyLoaded,children:h.jsx(d("LSPlatformClientProvider.re").make,{children:h.jsx(d("MWV2ChatTabsRoot.re").make,{})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSPreloadThreadForContact.bs",["LS.bs","LSDatabaseDeferred.bs","LSMailboxIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection.bs","LSMailboxVerifyThreadRowExistsStoredProcedure","LSTransaction.bs","ReQL.bs","ReQLTable","bs_caml_format","promiseDone"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("LSDatabaseDeferred.bs").db.then(function(c){return b("LSTransaction.bs").run(c,function(c){var d=b("bs_caml_format").caml_int64_of_string(a);return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"messages_ranges_v2__generated").asc,{hd:d,tl:0})).then(function(a){if(a!==void 0)if(a.c===a.e&&a.c!=="")return b("LSMailboxIssueMessagesRangeQueryStoredProcedure")(d,a.b,b("LSMailboxMessagesRangeQueryDirection.bs").before,b("LS.bs").make(c));else return;else return b("LSMailboxVerifyThreadRowExistsStoredProcedure")(d,void 0,b("LS.bs").make(c))})},"readWrite")});b("promiseDone")(c,void 0,void 0)}function a(){return g}f.usePreloaderForUser=a}),null);
__d("MWV2ChatOpenTabForPage.bs",["LSThreadAttributionStore.bs","MWChatInteraction.bs","MWChatLogOpenChatTab.bs","MWChatMultitabContext.bs","MWChatOpenFantaTabForCoB","MWChatStateActions.bs","MWChatStateThread.bs","MWChatStateV2.bs","MWChatTabEntryPoints.bs","MercuryIDs","MessagingThreadType.bs","ODS","bs_caml_format","bs_curry","react","recoverableViolation","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=a!==void 0?a:!1,f=c!==void 0?c:"unknown",g=h.useContext(b("MWChatMultitabContext.bs").context),i=b("useMWChatOpenTabTraceProvider")(),j=b("useCometFeedNoRoutingNavigationEventLogger")(),k=b("MWChatOpenFantaTabForCoB").useHook(),l=b("MWChatStateV2.bs").useDispatch(void 0);return h.useMemo(function(){return function(a,c){j(Date.now(),"","messenger");b("ODS").bumpEntityKey(3185,"mwchat_tab","open_page");b("MWChatTabEntryPoints.bs").tabEntryPoints[a]=d;b("LSThreadAttributionStore.bs").setSource(a,f);b("MWChatLogOpenChatTab.bs").logOpenPageTab(void 0,a,d,void 0);return i(function(d){b("MWChatInteraction.bs").set(b("MWChatStateThread.bs").toString({_0:{NAME:"Page",VAL:a}}),d);if(g!==void 0)if(c){b("recoverableViolation")("Opening secure converstions with pages not supported","messenger_web_product");return}else return b("bs_curry")._1(l,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!e},{TAG:1,_0:{threadKey:b("bs_caml_format").caml_int64_of_string(a),clientThreadKey:void 0,threadType:b("MessagingThreadType.bs").oneToOne}}));else return k(b("MercuryIDs").getThreadIDFromUserID(a))},"page",d)}},[d,g,j,i,k,e,f])}f.useHook=a}),null);
__d("MWV2ChatOpenTabForUser.bs",["LSThreadAttributionStore.bs","MAWBackendBridge.bs","MAWJids","MAWJob.re","MAWThreadId.bs","MWChatInteraction.bs","MWChatLogOpenChatTab.bs","MWChatMultitabContext.bs","MWChatOpenFantaTabForCoB","MWChatStateActions.bs","MWChatStateThread.bs","MWChatStateV2.bs","MWChatTabEntryPoints.bs","MWLSPreloadThreadForContact.bs","MercuryIDs","MessagingThreadType.bs","ODS","Promise","bs_caml_format","bs_curry","promiseDone","react","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=a!==void 0?a:!1,f=c!==void 0?c:"unknown",g=h.useContext(b("MWChatMultitabContext.bs").context),i=b("useMWChatOpenTabTraceProvider")(),j=b("useCometFeedNoRoutingNavigationEventLogger")(),k=b("MWChatOpenFantaTabForCoB").useHook();a=b("MWLSPreloadThreadForContact.bs").usePreloaderForUser();var l=b("MWChatStateV2.bs").useDispatch(void 0);c=h.useMemo(function(){return function(a,c){j(Date.now(),"","messenger");b("ODS").bumpEntityKey(3185,"mwchat_tab","open_user");b("MWChatTabEntryPoints.bs").tabEntryPoints[a]=d;b("LSThreadAttributionStore.bs").setSource(a,f);b("MWChatLogOpenChatTab.bs").logOpenUserTab(c,a,d,void 0);return i(function(d){b("MWChatInteraction.bs").set(b("MWChatStateThread.bs").toString({_0:{NAME:"User",VAL:a}}),d);if(g===void 0)return k(b("MercuryIDs").getThreadIDFromUserID(a));if(c!==!0)return b("bs_curry")._1(l,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!e},{TAG:1,_0:{threadKey:b("bs_caml_format").caml_int64_of_string(a),clientThreadKey:void 0,threadType:b("MessagingThreadType.bs").oneToOne}}));d=b("bs_curry")._1(b("MAWBackendBridge.bs").createThread({contactFbid:a}).sendAndReceive,void 0);var f=b("MAWJob.re").getDevices(new Set().add(b("MAWJids").toMsgrUserJid(a))).waitUntilPersisted();b("promiseDone")(b("Promise").all([d,f]),function(a){return b("bs_curry")._1(l,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!e},{TAG:1,_0:{threadKey:b("MAWThreadId.bs").toThreadKey(a[0]),clientThreadKey:void 0,threadType:b("MessagingThreadType.bs").secureMessageOverWaOneToOne}}))},void 0)},"user",d)}},[d,g,j,i,k,e,f]);return[c,a]}f.useHook=a}),null);
__d("MWV2ChatOpenTabFromNewMessage.bs",["LSThreadAttributionStore.bs","MWChatMultitabContext.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatThreadId.bs","ODS","bs_curry","react","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=h.useContext(b("MWChatMultitabContext.bs").context),e=b("MWChatStateV2.bs").useDispatch(void 0);return h.useCallback(function(f){return function(g,h){c(Date.now(),"","messenger");b("ODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");b("LSThreadAttributionStore.bs").setSource(b("MWChatThreadId.bs").getFBID(f),a);d!==void 0&&b("bs_curry")._1(e,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!1},{TAG:1,_0:{threadKey:g.a,clientThreadKey:void 0,threadType:g.c}}));return b("bs_curry")._1(h,void 0)}},[d,c,a,e])}f.useHook=a}),null);
__d("TetraMWChatHeaderDetailsSubtitleIcons.bs",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(g("636130"),12),testid:"comet_messenger_mute_icon"})}c={icon:a};f.Muted=c}),null);
__d("TetraMWChatRTCButtonIcons.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={isActive:{fill:"p5kwug6e"}};function a(a,c,d){d=d!==void 0?d:!1;return i.jsxs("svg",{role:"presentation",width:c,height:c,viewBox:"-5 -5 30 30",children:[i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",stroke:a,fill:"none"}),d?i.jsx("circle",{cx:"20",cy:"8",r:"2",className:(h||(h=b("stylex")))(j.isActive)}):null]})}e={icon:a};function c(a,c,d){d=d!==void 0?d:!1;var e=d?"-3":"-5";return i.jsxs("svg",{role:"presentation",width:c,height:c,viewBox:e+" -5 30 30",children:[i.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),d?i.jsx("circle",{cx:"24",cy:"10",r:"2",className:(h||(h=b("stylex")))(j.isActive)}):null]})}a={icon:c};function d(a,b){return i.jsx("svg",{role:"presentation",name:"icon",width:"24px",height:"24px",viewBox:"0 0 36 36",children:i.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:i.jsx("path",{fill:a,stroke:a,d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z"},"lens")})})}c={icon:d};f.styles=j;f.$$Audio=e;f.Video=a;f.Info=c}),null);
__d("TetraMWChatComposerIcons.bs",["ix","MWChatChatButtonColorConstants.bs","TetraIcon.react","bs_caml_option","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{display:"a8c37x1j",transitionDuration:"ms05siws",transitionProperty:"hr662l2t",transitionTimingFunction:"b7h9ocf4"},notRotated:{transform:"tftn3vyl"},rotated:{transform:"nrzfhe1q"}};function a(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 16 16",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:d,fillRule:"nonzero"})})}a={make:a};function c(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsx("svg",{x:"0px",y:"0px",viewBox:"0 0 17 16",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{fill:"none",cx:"5.5",cy:"5.5",r:"1"}),j.jsx("circle",{fill:"none",cx:"11.5",cy:"4.5",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:d}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:d,fillRule:"nonzero"})]})})}c={make:c};function d(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0;return j.jsx("svg",{viewBox:"0 -1 17 17",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,a),children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:d}),j.jsx("circle",{className:e,fill:d,cx:"8.5",cy:"4.5",r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:d}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:d,strokeLinecap:"round",strokeLinejoin:"round"})]})})}d={make:d};function e(a){var c=a.size,d=a.fill;a=a.isRotated;return j.jsx("svg",{viewBox:"0 0 24 24",height:String(c)+"px",width:String(c)+"px",className:(i||(i=b("stylex")))(k.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a?k.rotated:k.notRotated),children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:d})]})})}e={make:e};function l(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon,a),height:String(c)+"px",viewBox:"0 0 38 38",width:String(c)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:d})})})})})})}l={make:l};function m(a){var c=a.size,d=a.fill;a=a.xstyle;a!==void 0&&b("bs_caml_option").valFromOption(a);a=d===void 0?(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0;return j.jsx("svg",{viewBox:"3 2 20 20",height:String(c)+"px",width:String(c)+"px",fill:"none",children:j.jsx("path",{className:a,fillRule:"evenodd",clipRule:"evenodd",d:"M14.307 7.485a5.102 5.102 0 017.205 7.223l-.01.01-4.717 4.583a1 1 0 01-1.394-1.434l4.711-4.578a3.102 3.102 0 00-4.39-4.38l-.018.016-8.094 7.71c-.802.81-.8 2.12.008 2.929.65.65 1.705.65 2.356 0l.01-.01 7.216-7.011a.64.64 0 00-.91-.901l-4.297 4.296a1 1 0 11-1.414-1.415l4.298-4.295A2.64 2.64 0 0118.6 13.96l-.01.011-7.219 7.012a3.666 3.666 0 01-5.178-.005 4.078 4.078 0 010-5.765l.017-.017 8.096-7.711z",fill:d})})}m={make:m};function n(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("528566"),20),color:"primary"})}n={make:n};function o(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("481942"),20),color:"primary"})}o={make:o};function p(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("550096"),20),color:"primary"})}p={make:p};function q(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("624149"),20),color:"primary"})}q={make:q};function r(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("577048"),20),color:"primary"})}r={make:r};function s(a){return j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("480625"),20),color:"primary"})}s={make:s};f.styles=k;f.Gif=a;f.Sticker=c;f.Photo=d;f.MoreActions=e;f.Emoji=l;f.PaperclipSVG=m;f.Paperclip=n;f.Pin=o;f.Camera=p;f.Microphone=q;f.Poll=r;f.Currency=s}),null);
__d("MWLSMarketplaceXmaCallFunctionCtaHandler.bs",["LS.bs","LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure","LSTransaction.bs","MWLSActor.bs","MWThreadKey.bs","ReStore.bs","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(a){return function(e,f,g){var h=b("LSTransaction.bs").run(c,function(c){return b("LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure")(a,d,e,f,g,b("LS.bs").make(c))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[c,d,a])}f.useMarketplaceXmaCallFunctionCtaHandler=a}),null);
__d("LSEmojiSetsType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.userGenerated=a;f.recentlyUsed=c}),null);
__d("MWChatMessengerReactionsUtils.bs",["EmojiFormat.bs","LSEmojiSetsType.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";e=[{categoryIdx:[0,6],emojiIdx:(c=b("bs_caml_int64")).zero,emoji:"\u2764\ufe0f",type_:(d=b("LSEmojiSetsType.bs")).userGenerated,sortKey:c.zero},{categoryIdx:c.zero,emojiIdx:[0,4],emoji:"\ud83d\ude06",type_:d.userGenerated,sortKey:c.one},{categoryIdx:c.zero,emojiIdx:[0,73],emoji:"\ud83d\ude2e",type_:d.userGenerated,sortKey:[0,2]},{categoryIdx:c.zero,emojiIdx:[0,45],emoji:"\ud83d\ude22",type_:d.userGenerated,sortKey:[0,3]},{categoryIdx:c.zero,emojiIdx:[0,48],emoji:"\ud83d\ude20",type_:d.userGenerated,sortKey:[0,4]},{categoryIdx:c.zero,emojiIdx:[0,117],emoji:"\ud83d\udc4d",type_:d.userGenerated,sortKey:[0,5]},{categoryIdx:c.zero,emojiIdx:[0,118],emoji:"\ud83d\udc4e",type_:d.userGenerated,sortKey:[0,6]}];c=e.slice(0,6);var g=b("EmojiFormat.bs").codeArrayToUnicode([10084,65039]),h=b("EmojiFormat.bs").codeArrayToUnicode([10084]);function a(a){if(a===g)return!0;else return a===h}d=6;f.cUSTOM_REACTIONS_NUM=d;f.defaultStaticReactions=e;f.defaultCustomizableReactions=c;f.heartType1=g;f.heartType2=h;f.isHeart=a}),null);
__d("LSContactReachabilityStatusType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.reachable=a;f.unreachableUserType=c}),null);
__d("MWLSParticipantDetails.bs",["GenderConst","LSContactGender.bs","LSContactReachabilityStatusType.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_format","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.h})},[a,c])}function c(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){var b=a.p;if(b!==void 0)return b;else return a.h})},[a,c])}function d(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.K})},[a,c])}function e(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){var c=a.p;c=c!==void 0?c:a.h;a=a.I;a=b("bs_caml").i64_eq(a,b("LSContactGender.bs").female)?b("GenderConst").FEMALE_SINGULAR:b("bs_caml").i64_eq(a,b("LSContactGender.bs").male)?b("GenderConst").MALE_SINGULAR:b("bs_caml").i64_eq(a,b("LSContactGender.bs").neuter)?b("GenderConst").NEUTER_SINGULAR:b("GenderConst").NOT_A_PERSON;return[c,a]})},[a,c])}function i(a){var c=b("ReStore.bs").useHook(void 0);return b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})},[a,c])),!0,function(a){if(!b("gkx")("1845222"))return!0;a=a.N;if(a!==void 0)return b("bs_caml").i64_eq(b("LSContactReachabilityStatusType.bs").reachable,a);else return!0})}function j(a){var c=b("ReStore.bs").useHook(void 0);return h.useMemo(function(){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0})),void 0,function(a){return a.b})},[a,c])}f.useParticipantName=a;f.useParticipantShortName=c;f.useParticipantSecondaryName=d;f.useNameAndGender=e;f.useParticipantReachabilityStatus=i;f.useParticipantProfilePictureUrl=j}),null);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("MWLSShowPaymentDetails.bs",["fbt","LSDatabaseType.bs","MWLSDatabaseLazySync.bs","bs_curry","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=i.useState(function(){return null});var c=a[1],d=a[0];a=i.useState(function(){return!1});var e=a[1],f=a[0];a=b("useMWUIPaymentDetailsDialog")(d);var h=a[0],j=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").payments);i.useEffect(function(){!(d==null)&&f&&h({title:g._("Chi ti\u1ebft thanh to\u00e1n"),transactionID:d},function(a){return b("bs_curry")._1(e,function(a){return!1})})},[d,f]);return i.useMemo(function(){return function(a){b("bs_curry")._1(j,void 0);b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(c,function(b){return a})}},[e,c,j])}f.useHook=a}),null);
__d("MWChatSearchIssueMAWFTSQuery.bs",["LSDatabaseDeferred.bs","LSSearchType.bs","MAWBackendBridge.bs","MAWThreadId.bs","MWChatTemporarySearchResult.bs","Promise","ReQL.bs","ReQLTable","bs_belt_Option","bs_caml_exceptions","bs_caml_format","bs_curry","bs_int64"],(function(a,b,c,d,e,f){"use strict";c=b("bs_caml_exceptions").create("MWChatSearchIssueMAWFTSQuery.FailedToFetchSearchResults");function g(a,c){c=b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a.fbid),tl:0}));return c.then(function(c){return b("Promise").resolve(c!==void 0?{displayName:c.h,id:a.fbid,imageUrl:c.b,secondaryImageUrl:void 0,isContact:!0,isInstagramAccount:!1,isInteropEligible:void 0,isGroupsXacEligible:void 0,resultType:b("MWChatTemporarySearchResult.bs").getResultType(b("LSSearchType.bs").contact),subtext:"",isVerified:!1,section:"",serverSearchResult:void 0,threadKey:void 0}:void 0)})}function h(a,c){return b("Promise").resolve({displayName:b("bs_belt_Option").getWithDefault(a.content,""),id:a.msgId,imageUrl:"",secondaryImageUrl:void 0,isContact:!1,isInstagramAccount:!1,isInteropEligible:void 0,isGroupsXacEligible:void 0,resultType:b("MWChatTemporarySearchResult.bs").getResultType(b("LSSearchType.bs").integratedMessageSearchThread),subtext:"",isVerified:!1,section:"",serverSearchResult:void 0,threadKey:b("MAWThreadId.bs").toThreadKey(a.chatId)})}function i(a,c){c=b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:b("MAWThreadId.bs").toThreadKey(a.threadId),tl:0}));return c.then(function(c){return b("Promise").resolve(c!==void 0?{displayName:b("bs_belt_Option").getWithDefault(c.d,""),id:b("bs_int64").to_string(b("MAWThreadId.bs").toThreadKey(a.threadId)),imageUrl:b("bs_belt_Option").getWithDefault(c.f,""),secondaryImageUrl:void 0,isContact:!1,isInstagramAccount:!1,isInteropEligible:void 0,isGroupsXacEligible:void 0,resultType:b("MWChatTemporarySearchResult.bs").getResultType(b("LSSearchType.bs").group),subtext:b("bs_belt_Option").getWithDefault(c.ba,""),isVerified:!1,section:"",serverSearchResult:void 0,threadKey:void 0}:void 0)})}function j(a){return b("LSDatabaseDeferred.bs").db.then(function(c){var d=[];a.forEach(function(a){var b;switch(a.TAG|0){case 0:b=h(a._0,c);break;case 1:b=i(a._0,c);break;case 2:b=g(a._0,c);break}d.push(b)});return b("Promise").all(d).then(function(a){var c=[];a.forEach(function(a){if(a!==void 0){c.push(a);return}});return b("Promise").resolve(c)})})}function k(a){a=a.resultType;if(a==="user")return b("LSSearchType.bs").contact;else if(a==="group")return b("LSSearchType.bs").group;else if(a==="message")return b("LSSearchType.bs").integratedMessageSearchThread;else return b("LSSearchType.bs").page}function a(a,c,d){return b("bs_curry")._1(b("MAWBackendBridge.bs").search({search:d.query}).sendAndReceive,void 0).then(j).then(function(c){return b("Promise").resolve(c.filter(function(b){return a.includes(k(b))}))})}f.FailedToFetchSearchResults=c;f.mapContact=g;f.mapMsg=h;f.mapGroupInfo=i;f.toSearchResults=j;f.getType=k;f.fetchResults=a}),null);
__d("MWChatSearchIssueMAWFTSQuery.re",["MWChatSearchIssueMAWFTSQuery.bs"],(function(a,b,c,d,e,f){a=b("MWChatSearchIssueMAWFTSQuery.bs").fetchResults;f.fetchResults=a}),null);
__d("MWLSOpenStaticLocationDialog.bs",["JSResource","MWThreadKey.bs","Promise","ReQL.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml_array","bs_caml_option","bs_int64","promiseDone","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("useCometLazyDialog")(b("JSResource")("MWChatStaticLocationDialog.react").__setRef("MWLSOpenStaticLocationDialog.bs"));var e=a[0];return h.useCallback(function(a){a=b("ReQL.bs").first(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachments").asc,{hd:d,tl:{hd:a,tl:0}}),function(a){a=a.o;a=a!==void 0?a:b("bs_int64").zero;a=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachment_ctas").asc,{hd:a,tl:0}));if(a!==void 0)return a.j})).then(function(a){if(a!==void 0){a=b("bs_caml_option").valFromOption(a);a=a!==void 0?a:""}else a="";var c=b("bs_caml_array").get(a.split(","),0);a=b("bs_caml_array").get(a.split(","),1);e({latitude:c,longitude:a},function(a){});return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},[c,d])}f.useHook=a}),null);
__d("MessengerDefaultTheme.bs",["CurrentEnvironment","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_format").caml_int64_of_string("196241301102133");c={TAG:0,_0:{id:a,color:b("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",label:"Default Blue"}};f.defaultThemeInt64=a;f.$$default=c;f["default"]=c;f.__esModule=!0}),null);
__d("MWLSUseLatch.bs",["CometThrottle","Run","bs_curry","debounce","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("CometThrottle");function a(a,c,d){var e=c!==void 0?c:!1;h.useEffect(function(){if(!e)return;var c=b("Run").onUnload(function(c){return b("bs_curry")._1(a,!1)});return function(a){return c.remove()}},[e,a]);return h.useMemo(function(){var c={contents:!1},e=b("debounce")(function(d){if(!c.contents)return b("bs_curry")._1(a,!1)},d|0),f=i(function(c){return b("bs_curry")._1(a,!0)},3e3,{leading:!0,trailing:!1}),g=function(d){b("bs_curry")._1(a,!1),c.contents=!0},h=function(a){b("bs_curry")._1(f,void 0);return e(void 0)};return[h,g]},[a,d])}f.throttle=i;f.useLatch=a}),null);
__d("ZenonUserActionLogger.bs",["ZenonUserActionLogger"],(function(a,b,c,d,e,f){"use strict";function a(a){b("ZenonUserActionLogger").logClick(a)}function c(a){b("ZenonUserActionLogger").logImpression(a)}f.logClick=a;f.logImpression=c}),null);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("blockquote",{className:"ii04i59q dati1w0a hv4rvrfc tvmbv18p aahdfvyu hcukyx3x cxmmr5t8 peup4ujy mk2mc5f4 lmiizvyk",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return null;a=new(c("URI"))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("MakeRoomRingback.bs",["FBID.bs","MWThreadKey.bs","MessagingThreadType.bs","Promise","RTWebPreCallHooks","ReQL.bs","ReQLTable","ReStore.bs","bs_caml","bs_int64","getRingbackUrl","promiseDone","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("getRingbackUrl");function a(a){var c=b("RTWebPreCallHooks").useJoinMeetupCallback(),d=b("ReStore.bs").useHook(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){var f=a.linkUrl;a=b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"threads").asc,{hd:e,tl:0})).then(function(a){if(a!==void 0){a=b("bs_caml").i64_eq(a.c,b("MessagingThreadType.bs").oneToOne)?i(f,b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.a))):(b("recoverableViolation")("Cannot ring a non user thread","rtc_www"),f);return b("Promise").resolve(c(a))}b("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,function(a){b("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[c,e,d])}f.getRingbackUrl=i;f.useHook=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1570574486349284"};b.getQueryID=function(){return"389945858066688"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation","MessengerPlatformClientTypedLogger","PopupWindow","XMNCommerceCTAPostProcessController"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=c("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation").getURI({cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MNCommerceCTAProcessor").logCTAClick(a)}function c(a,c){b("MNCommerceCTAProcessor").process(a,c!==void 0?b("bs_caml_option").valFromOption(c):void 0)}f.logCTAClick=a;f.$$process=c}),null);
__d("MessengerFilePreviewGenerationEntryPoint",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({CHAT_FILE_V1:"chat_file_v1",CHAT_FILE_V2:"chat_file_v2",CHAT_FILE_V3:"chat_file_v3",CHAT_FILE_V4:"chat_file_v4",INBOX_INFO_V1:"inbox_info_v1",INBOX_INFO_V2:"inbox_info_v2",DIRECT_LINK:"direct_link"});c=a;f["default"]=c}),66);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("OutlineSelectionHelpers.prod",["Outline","OutlineHashtagNode","OutlineParagraphNode"],(function $module_OutlineSelectionHelpers_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function v(a){throw Error("Minified Outline error #"+a+"; see codes.json for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}function y(a){return a.isImmutable()||a.isInert();}
function z(a){a=a.getLatest();var b=a.clone();b.__flags=a.__flags;b.__parent=a.__parent;require("Outline").isBlockNode(a)?b.__children=Array.from(a.__children):require("Outline").isTextNode(a)&&(b.__format=a.__format);return b;}function A(a,b){var d=a.anchor;a=a.focus;var f=d.getNode(),c=a.getNode();if(f===c&&"text"===d.type&&"text"===a.type){var g=d.offset,k=a.offset;var e=g<k;c=e?g:k;k=e?k:g;g=k-1;c!==g&&(f=f.getTextContent().slice(c,k),/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(f)||(b?a.offset=g:d.offset=g));}}
function B(a){var b=a.anchor;if("text"===b.type){b=b.getNode();var d=b.getTextContent();a=a.anchor.offset;if(0===a&&b.isSimpleText()){if(a=b.getPreviousSibling(),require("Outline").isTextNode(a)&&require("OutlineHashtagNode").isHashtagNode(a)){a.select();var f=a.getTextContent();a.setTextContent(f+d);b.remove();}}else require("OutlineHashtagNode").isHashtagNode(b)&&a===b.getTextContentSize()&&(a=b.getNextSibling(),require("Outline").isTextNode(a)&&a.isSimpleText()&&(f=a.getTextContent(),b.setTextContent(d+f),a.remove()));}}
function C(a,b){if(a.isCollapsed()){D(a,b,"character",!1);var d=a.anchor,f=a.focus;if(!a.isCollapsed()){f="text"===f.type?f.getNode():null;d="text"===d.type?d.getNode():null;if(null!==f&&f.isSegmented()){E(f,b);return;}if(null!==d&&d.isSegmented()){E(d,b);return;}A(a,b);}else if(b&&(b=d.getNode().getParentOrThrow(),f=b.getType(),0===d.offset&&"paragraph"!==f)){var c=require("OutlineParagraphNode").createParagraphNode();b.getChildren().forEach(function(g){return c.append(g);});"listitem"===f?(a=b.getParentOrThrow(),1===a.getChildrenSize()?a.replace(c):(
a.insertBefore(c),b.remove())):b.replace(c);return;}}F(a);B(a);}function E(a,b){var d=a.getTextContent().split(/\s/g);b?d.pop():d.shift();d=d.join(" ");var f=b?a.getNextSibling():a.getPreviousSibling();require("Outline").isTextNode(f)&&(""===d?a.remove():a.setTextContent(d),b?f.select(0,0):f.select());}
function D(a,b,d,f){var c=window.getSelection();var g=a.focus.getNode();var k=a.focus.offset,e=b?g.getPreviousSibling():g.getNextSibling();if(!b||0!==k||null!==e||null!==g.getParentOrThrow().getPreviousSibling()){var n=g.getTextContentSize();g=b?0===k&&""===g.getTextContent()&&!y(g):k===n&&require("Outline").isTextNode(e)&&!y(e)&&""===e.getTextContent();c.modify(f?"move":"extend",b?"backward":"forward",d);g&&"character"===d&&c.modify(f?"move":"extend",b?"backward":"forward",d);0<c.rangeCount&&(b=c.getRangeAt(0),
a.applyDOMRange(b),f||c.anchorNode===b.startContainer&&c.anchorOffset===b.startOffset||a.swapPoints());}}function F(a){G(a,"");}function H(a,b){var d=require("Outline").createLineBreakNode();b?K(a,[d],!0):K(a,[d])&&d.selectNext(0,0);}
function K(a,b,d){var _a;a.isCollapsed()||F(a);a=a.anchor;"text"!==a.type&&v(0);var f=a.offset,c=a.getNode(),g=c.getTextContent().length;a=[];var k=c.getNextSiblings(),e=c.getTopParentBlockOrThrow();if(0===f)f=require("Outline").createTextNode(""),c.insertBefore(f),a.push(c);else if(f===g)f=c;else{if(y(c))return!1;var _c$splitText=c.splitText(f);f=_c$splitText[0];c=_c$splitText[1];a.push(c);}c=f;(_a=a).push.apply(_a,k);for(k=0;k<b.length;k++){g=b[k],require("Outline").isBlockNode(g)&&require("Outline").isTextNode(f)&&(f=e),f.insertAfter(g),f=g;}if(require("Outline").isBlockNode(f)){if(b=f.getLastTextNode(),require("Outline").isTextNode(b)||v(4),d?
c.select():b.select(),0!==a.length)for(d=b,b=0;b<a.length;b++){e=a[b],d.insertAfter(e),d=e;}}else require("Outline").isTextNode(f)?d?c.select():f.select():(a=f.getPreviousSibling(),require("Outline").isTextNode(a)&&a.select());return!0;}
function G(a,b){var d=a.getNodes(),f=d.length,c=a.anchor,g=a.focus,k=a.textFormat,e=d[0];require("Outline").isTextNode(e)||v(5);"text"===c.type&&"text"===g.type||v(0);var n=c.offset,h=g.offset;g=e.getTextContent().length;var p=e===c.getNode();if(e.isSegmented()||e.isImmutable()||!e.canInsertTextAtEnd())if(a.isCollapsed()&&h===g){if(c=e.getNextSibling(),require("Outline").isTextNode(c)||(c=require("Outline").createTextNode(),e.insertAfter(c)),c.select(0,0),e=c,""!==b){G(a,b);return;}}else e.isSegmented()&&(c=require("Outline").createTextNode(e.getTextContent()),e.replace(c,
!0),e=c);var m;if(1===f){if(y(e))d=require("Outline").createTextNode(b),e.replace(d),d.select();else{d=e.getFormat();m=n>h?h:n;n=n>h?n:h;if(m===n&&d!==k)if(""===e.getTextContent())e.setFormat(k);else{var _e$splitText=e.splitText(m);d=_e$splitText[0];e=require("Outline").createTextNode(b);e.setFormat(k);d.insertAfter(e);e.select();return;}e.spliceText(m,n-m,b,!0);e.isComposing()&&"text"===a.anchor.type&&(a.anchor.offset-=b.length);}}else{k=f-1;var r=d[k];f=new Set(e.getParents());c=new Set(r.getParents());var q=e.getParent();var w=r.getParent();var I=!1,J=!1;m=p?
n:h;n=p?h:n;require("Outline").isTextNode(r)&&n!==r.getTextContentSize()?(r.isSegmented()&&(h=require("Outline").createTextNode(r.getTextContent()),r.replace(h,!0),r=h),r.spliceText(0,n,"",!1)):(r.remove(),J=!0);if(require("Outline").isBlockNode(q)&&require("Outline").isBlockNode(w)){n=w.getChildren();h=new Set(d);p=q.is(w);for(q=n.length-1;0<=q;q--){var x=n[q];if(x.is(e))break;x.isAttached()&&(!h.has(x)||x.is(r)?p||e.insertAfter(x):x.remove());}if(!p)for(n=w;null!==n;){0===n.getChildrenSize()&&c["delete"](n),n=n.getParent();}}require("Outline").isTextNode(e)&&!y(e)?(e.spliceText(m,g-
m,b,!0),e.isComposing()&&"text"===a.anchor.type&&(a.anchor.offset-=b.length)):(I=!0,b=require("Outline").createTextNode(b),e.replace(b),b.select());for(e=1;e<k;e++){b=d[e],!I&&f.has(b)||!J&&c.has(b)||b.remove();}}}exports.deleteBackward=function(a){C(a,!0);};exports.deleteForward=function(a){C(a,!1);};exports.deleteLineBackward=function(a){a.isCollapsed()&&D(a,!0,"lineboundary",!1);F(a);};exports.deleteLineForward=function(a){a.isCollapsed()&&D(a,!1,"lineboundary",!1);F(a);};
exports.deleteWordBackward=function(a){a.isCollapsed()&&D(a,!0,"word",!1);F(a);};exports.deleteWordForward=function(a){a.isCollapsed()&&D(a,!1,"word",!1);F(a);};
exports.extractSelection=function(a){var _k$splitText,_e$splitText2;var b=a.getNodes(),d=b.length;var f=d-1;var c=a.anchor,g=a.focus,k=b[0];var e=b[f];require("Outline").isTextNode(k)&&require("Outline").isTextNode(e)||v(3);"text"===c.type&&"text"===g.type||v(0);c=c.offset;g=g.offset;if(1===d)return a=c>g?g:c,b=k.splitText(a,c>g?c:g),[0===a?b[0]:b[1]];a=(d=k===a.anchor.getNode())?c:g;c=d?g:c;0!==a&&(_k$splitText=k.splitText(a),k=_k$splitText[1],_k$splitText);b[0]=k;k=e.getTextContent().length;c!==k&&(_e$splitText2=e.splitText(c),e=_e$splitText2[0],_e$splitText2);b[f]=e;return b;};
exports.formatText=function(a,b){var d=a.getNodes(),f=d.length-1;var c=d[0],g=d[f];require("Outline").isTextNode(c)&&require("Outline").isTextNode(g)||v(3);if(a.isCollapsed())a.toggleTextFormatType(b);else{var k=a.anchor,e=a.focus;"text"===k.type&&"text"===e.type||v(0);var n=c.getTextContent().length,h=e.offset,p=c.getTextNodeFormat(b,null),m=k.offset;k=(e=c===a.anchor.getNode())?m:h;e=e?h:m;if(k===c.getTextContentSize()){var q=c.getNextSibling();require("Outline").isTextNode(q)&&(k=m=0,c=q,p=c.getTextNodeFormat(b,null));}if(c===g)require("Outline").isTextNode(c)&&(
k=m>h?h:m,e=m>h?m:h,k!==e&&(0===k&&e===n?(c.setFormat(p),c.select(k,e)):(a=c.splitText(k,e),a=0===k?a[0]:a[1],a.setFormat(p),a.select(0,e-k))));else{var _c$splitText2,_g$splitText;0!==k&&((_c$splitText2=c.splitText(k),c=_c$splitText2[1],_c$splitText2),k=0);c.setFormat(p);p=g.getTextNodeFormat(b,p);n=g.getTextContent().length;e!==n&&(_g$splitText=g.splitText(e),g=_g$splitText[0],_g$splitText);g.setFormat(p);for(n=1;n<f;n++){h=d[n],m=h.getKey(),require("Outline").isTextNode(h)&&m!==c.getKey()&&m!==g.getKey()&&!h.isImmutable()&&(m=h.getTextNodeFormat(b,p),h.setFormat(m));}a.setTextNodeRange(c,k,g,e);}}};
exports.getNodesInRange=function(a){var b=a.anchor,d=a.focus;"text"===b.type&&"text"===d.type||v(0);var f=b.getNode(),c=d.getNode();b=b.offset;var g=d.offset;if(f===c){if(require("Outline").isTextNode(f))return f=z(f),a=(c=g>b)?b:g,b=c?g:b,f.__text=f.__text.slice(a,b),a=f.getKey(),{range:[a],nodeMap:[[a,f]]};v(0);}f=a.getNodes();var k=f[0],e=k===a.anchor.getNode();c=[];d=new Map();a=e?b:g;b=e?g:b;g=f.length;k=k.getParentOrThrow();e=k.getKey();var n=new Set();for(var r=0;r<g;r++){var h=f[r];if(!h.isInert()){var p=h.getParent(),
m=h.getKey();if(require("Outline").isTextNode(h)&&!h.isSegmented()&&!h.isImmutable()){var q=h.getTextContent();0===r?(h=z(h),h.__text=q.slice(a,q.length)):r===g-1&&(h=z(h),h.__text=q.slice(0,b));}d.has(m)||d.set(m,h);if(p===k&&null!==p)c.push(m),h=h.getTopParentBlockOrThrow(),n.add(h.getKey());else{m=!1;if(!require("Outline").isRootNode(p))for(p=!1;null!==h;){q=h.getKey();if(q===e)p=!0;else if(p){m=h.getLatest();h=m.clone();h.__flags=m.__flags;h.__parent=m.__parent;require("Outline").isBlockNode(m)?h.__children=Array.from(m.__children):require("Outline").isTextNode(m)&&(
h.__format=m.__format);require("Outline").isBlockNode(h)||v(1);m=h.__children;var w=m.indexOf(e);-1===w&&v(2);m.splice(0,w+1);m=!0;}d.has(q)||d.set(q,h);q=h.getParent();if(require("Outline").isRootNode(q))break;h=q;}null!==h&&(h=h.getKey(),!n.has(h)||m)&&(n.add(h),c.push(h));}}}return{range:c,nodeMap:Array.from(d.entries())};};exports.insertLineBreak=H;exports.insertNodes=K;
exports.insertParagraph=function(a){a.isCollapsed()||F(a);var b=a.anchor;"text"!==b.type&&v(0);var d=b.getNode();if(!d.isSegmented()){var _d$splitText;var f=d.getTextContent().length,c=d.getNextSiblings().reverse(),g=d.getParentBlockOrThrow();b=b.offset;0===b?c.push(d):(b===f?(b=require("Outline").createTextNode(""),b.setFlags(d.getFlags()),c.push(b)):((_d$splitText=d.splitText(b),b=_d$splitText[1],_d$splitText),c.push(b)),b=0);d=g.insertNewAfter(a);if(null===d)H(a);else if(require("Outline").isBlockNode(d)){a=c.length;f=null;for(var k=0;k<a;k++){var e=c[k];null===f?d.append(e):f.insertBefore(e);
f=e;}c=c[a-1];require("Outline").isTextNode(c)&&c.select(b,b);c=g.getFirstChild();b=g.getLastChild();if(null===c||null===b||b.isImmutable()||b.isSegmented()||!require("Outline").isTextNode(b))c=require("Outline").createTextNode(""),g.append(c);}}};exports.insertRichText=function(a,b){var d=b.split(/\r?\n/);if(1===d.length)G(a,b);else{b=[];var f=d.length;for(var c=0;c<f;c++){b.push(require("Outline").createTextNode(d[c])),c!==f-1&&b.push(require("Outline").createLineBreakNode());}K(a,b);}};exports.insertText=G;exports.moveBackward=function(a,b,d){D(a,!d,"character",!b);};
exports.moveEnd=function(a){a=a.anchor.getNode();require("Outline").isTextNode(a)&&a.select();};exports.moveForward=function(a,b,d){D(a,d,"character",!b);};exports.moveWordBackward=function(a,b,d){D(a,!d,"word",!b);};exports.moveWordForward=function(a,b,d){D(a,d,"word",!b);};exports.removeText=F;exports.selectAll=function(a){var b=a.anchor.getNode().getTopParentBlockOrThrow().getParentOrThrow();var d=b.getFirstTextNode();b=b.getLastTextNode();null!==d&&null!==b&&a.setTextNodeRange(d,0,b,b.getTextContentSize());};
exports.updateCaretSelectionForAdjacentHashtags=B;exports.updateCaretSelectionForRange=D;exports.updateCaretSelectionForUnicodeCharacter=A;}),null);